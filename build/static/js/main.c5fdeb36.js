/*! For license information please see main.c5fdeb36.js.LICENSE.txt */
(()=>{var e={945:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(r(n(1)),n(6)),a=r(s),o=r(n(7)),l=r(n(8)),c=r(n(9)),u=r(n(10)),h=r(n(11)),d=r(n(14)),f=[],p=!1,m={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},g=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return f=(0,h.default)(f,m),(0,u.default)(f,m.once),f},y=function(){f=(0,d.default)(),g()},v=function(){f.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},b=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},w=function(e){m=i(m,e),f=(0,d.default)();var t=document.all&&!window.atob;return b(m.disable)||t?v():(m.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),m.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",m.easing),document.querySelector("body").setAttribute("data-aos-duration",m.duration),document.querySelector("body").setAttribute("data-aos-delay",m.delay),"DOMContentLoaded"===m.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?g(!0):"load"===m.startEvent?window.addEventListener(m.startEvent,(function(){g(!0)})):document.addEventListener(m.startEvent,(function(){g(!0)})),window.addEventListener("resize",(0,o.default)(g,m.debounceDelay,!0)),window.addEventListener("orientationchange",(0,o.default)(g,m.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)((function(){(0,u.default)(f,m.once)}),m.throttleDelay)),m.disableMutationObserver||l.default.ready("[data-aos]",y),f)};e.exports={init:w,refresh:g,refreshHard:y}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function r(t){var n=m,r=g;return m=g=void 0,S=t,v=e.apply(r,n)}function s(e){return S=e,b=setTimeout(u,t),x?r(e):v}function a(e){var n=t-(e-w);return k?E(n,y-(e-S)):n}function l(e){var n=e-w;return void 0===w||n>=t||n<0||k&&e-S>=y}function u(){var e=_();return l(e)?h(e):void(b=setTimeout(u,a(e)))}function h(e){return b=void 0,T&&m?r(e):(m=g=void 0,v)}function d(){void 0!==b&&clearTimeout(b),S=0,m=w=g=b=void 0}function f(){return void 0===b?v:h(_())}function p(){var e=_(),n=l(e);if(m=arguments,g=this,w=e,n){if(void 0===b)return s(w);if(k)return b=setTimeout(u,t),r(w)}return void 0===b&&(b=setTimeout(u,t)),v}var m,g,y,v,b,w,S=0,x=!1,k=!1,T=!0;if("function"!=typeof e)throw new TypeError(c);return t=o(t)||0,i(n)&&(x=!!n.leading,y=(k="maxWait"in n)?I(o(n.maxWait)||0,t):y,T="trailing"in n?!!n.trailing:T),p.cancel=d,p.flush=f,p}function r(e,t,r){var s=!0,a=!0;if("function"!=typeof e)throw new TypeError(c);return i(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:s,maxWait:t,trailing:a})}function i(e){var t="undefined"==typeof e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function s(e){return!!e&&"object"==("undefined"==typeof e?"undefined":l(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":l(e))||s(e)&&w.call(e)==h}function o(e){if("number"==typeof e)return e;if(a(e))return u;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=p.test(e);return n||m.test(e)?g(e.slice(2),n?2:8):f.test(e)?u:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",u=NaN,h="[object Symbol]",d=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseInt,y="object"==("undefined"==typeof t?"undefined":l(t))&&t&&t.Object===Object&&t,v="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,b=y||v||Function("return this")(),w=Object.prototype.toString,I=Math.max,E=Math.min,_=function(){return b.Date.now()};e.exports=r}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function i(t){var n=m,r=g;return m=g=void 0,S=t,v=e.apply(r,n)}function s(e){return S=e,b=setTimeout(u,t),x?i(e):v}function o(e){var n=t-(e-_);return k?I(n,y-(e-S)):n}function c(e){var n=e-_;return void 0===_||n>=t||n<0||k&&e-S>=y}function u(){var e=E();return c(e)?h(e):void(b=setTimeout(u,o(e)))}function h(e){return b=void 0,T&&m?i(e):(m=g=void 0,v)}function d(){void 0!==b&&clearTimeout(b),S=0,m=_=g=b=void 0}function f(){return void 0===b?v:h(E())}function p(){var e=E(),n=c(e);if(m=arguments,g=this,_=e,n){if(void 0===b)return s(_);if(k)return b=setTimeout(u,t),i(_)}return void 0===b&&(b=setTimeout(u,t)),v}var m,g,y,v,b,_,S=0,x=!1,k=!1,T=!0;if("function"!=typeof e)throw new TypeError(l);return t=a(t)||0,r(n)&&(x=!!n.leading,y=(k="maxWait"in n)?w(a(n.maxWait)||0,t):y,T="trailing"in n?!!n.trailing:T),p.cancel=d,p.flush=f,p}function r(e){var t="undefined"==typeof e?"undefined":o(e);return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==("undefined"==typeof e?"undefined":o(e))}function s(e){return"symbol"==("undefined"==typeof e?"undefined":o(e))||i(e)&&b.call(e)==u}function a(e){if("number"==typeof e)return e;if(s(e))return c;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=f.test(e);return n||p.test(e)?m(e.slice(2),n?2:8):d.test(e)?c:+e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",c=NaN,u="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt,g="object"==("undefined"==typeof t?"undefined":o(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,v=g||y||Function("return this")(),b=Object.prototype.toString,w=Math.max,I=Math.min,E=function(){return v.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,r=void 0;for(t=0;t<e.length;t+=1){if((r=e[t]).dataset&&r.dataset.aos)return!0;if(r.children&&n(r.children))return!0}return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!r()}function s(e,t){var n=window.document,i=new(r())(a);o=t,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),r=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(r)))return o()}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){};t.default={isSupported:i,ready:s}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){n(this,e)}return i(e,[{key:"phone",value:function(){var e=r();return!(!s.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=r();return!(!o.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof r&&("false"===r||!n&&"true"!==r)&&e.node.classList.remove("aos-animate")},r=function(e,t){var r=window.pageYOffset,i=window.innerHeight;e.forEach((function(e,s){n(e,i+r,t)}))};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),s=function(e,t){return e.forEach((function(e,n){e.node.classList.add("aos-init"),e.position=(0,i.default)(e.node,t.offset)})),e};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(13)),s=function(e,t){var n=0,r=0,s=window.innerHeight,a={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(a.offset&&!isNaN(a.offset)&&(r=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,i.default)(e).top,a.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=s/2;break;case"bottom-center":n+=s/2+e.offsetHeight;break;case"center-center":n+=s/2+e.offsetHeight/2;break;case"top-top":n+=s;break;case"bottom-top":n+=e.offsetHeight+s;break;case"center-top":n+=e.offsetHeight/2+s}return a.anchorPlacement||a.offset||isNaN(t)||(r=t),n+r};t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=n}])},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case x:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,Se=null;function xe(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=Ii(t),Ee(e.stateNode,e.type,t))}}function ke(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Re=!1}function Le(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){je=!0,Me=e}};function Be(e,t,n,r,i,s,a,o,l){je=!1,Me=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var It,Et,_t,St,xt,kt=!1,Tt=[],Ct=null,Nt=null,At=null,Dt=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=jt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,jt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,jt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&It(s),null===(s=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=vi(e=Ie(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(M({},cn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function xn(){return Sn}var kn=M({},hn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(kn),Cn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),An=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Dn),Rn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var jn=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Pn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,Ie(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function sr(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionend:Ir("Transition","TransitionEnd")},_r={},Sr={};function xr(e){if(_r[e])return _r[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=xr("animationend"),Tr=xr("animationiteration"),Cr=xr("animationstart"),Nr=xr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(kr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),je){if(!je)throw Error(s(198));var u=Me;je=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=Ie(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Tr:case Cr:l=yn;break;case Nr:l=An;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Oe(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==h&&Qr(a,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Kn(o))if(Xn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=Oe(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ii(e){return e[fi]||null}var Ei=[],_i=-1;function Si(e){return{current:e}}function xi(e){0>_i||(e.current=Ei[_i],Ei[_i]=null,_i--)}function ki(e,t){_i++,Ei[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ni=Si(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){xi(Ni),xi(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(s(168));ki(Ci,t),ki(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,ki(Ci,e),ki(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ci),ki(Ci,e)):xi(Ni),ki(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Ki=0,Hi=null,Wi=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Wi,qi[Ki++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Si(null),vs=null,bs=null,ws=null;function Is(){ws=bs=vs=null}function Es(e){var t=ys.current;xi(ys),e._currentValue=t}function _s(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){vs=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function xs(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===vs)throw Error(s(308));bs=e,vs.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var ks=null;function Ts(e){null===ks?ks=[e]:ks.push(e)}function Cs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Rs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(nc(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Rs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(nc(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Rs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ps(e,i,r))&&(nc(t,e,r,n),Ls(t,e,r))}};function zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=xs(s):(i=Oi(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ks(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=xs(s):(s=Oi(t)?Ai:Ci.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ws(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function $s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ws(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ws(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case I:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ws(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case I:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===o.length)return n(i,h),is&&Ji(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case I:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ws(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Pc(a.type,a.key,a.props,null,r.mode,l)).ref=Ws(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case O:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(L(a))return g(r,s,a,l);Gs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Ys=$s(!0),Xs=$s(!1),Js={},Zs=Si(Js),ea=Si(Js),ta=Si(Js);function na(e){if(e===Js)throw Error(s(174));return e}function ra(e,t){switch(ki(ta,t),ki(ea,e),ki(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Zs),ki(Zs,t)}function ia(){xi(Zs),xi(ea),xi(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(ki(ea,e),ki(Zs,n))}function aa(e){ea.current===e&&(xi(Zs),xi(ea))}var oa=Si(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,ya=!1,va=!1,ba=0,wa=0;function Ia(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),va){a=0;do{if(va=!1,ba=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=lo,e=n(r,i)}while(va)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,ya=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==ba;return ba=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function ka(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,pa.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,jl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Da(e,t){var n=pa,r=ka(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,qa(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Ra.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&fa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&ja(e)}function Pa(e,t,n){return n((function(){La(t)&&ja(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function ja(e){var t=Ns(e,1);null!==t&&nc(t,e,1,-1)}function Ma(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return ka().memoizedState}function Va(e,t,n,r){var i=xa();pa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=ka();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}pa.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function za(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Ba(2048,8,e,t)}function Ka(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Wa.bind(null,t,e),n)}function Qa(){}function $a(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,jl|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function Za(){return ka().memoizedState}function eo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Cs(e,t,n,r))){nc(n,e,r,ec()),io(n,t,r)}}function to(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Cs(e,t,i,r))&&(nc(n,e,r,i=ec()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){va=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var so={readContext:xs,useCallback:Ia,useContext:Ia,useEffect:Ia,useImperativeHandle:Ia,useInsertionEffect:Ia,useLayoutEffect:Ia,useMemo:Ia,useReducer:Ia,useRef:Ia,useState:Ia,useDebugValue:Ia,useDeferredValue:Ia,useTransition:Ia,useMutableSource:Ia,useSyncExternalStore:Ia,useId:Ia,unstable_isNewReconciler:!1},ao={readContext:xs,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:xs,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Ma,useDebugValue:Qa,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Ja.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=xa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&fa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Nl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:xs,useCallback:$a,useContext:xs,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Ya,useReducer:Ca,useRef:Ua,useState:function(){return Ca(Ta)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(ka(),ma.memoizedState,e)},useTransition:function(){return[Ca(Ta)[0],ka().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1},lo={readContext:xs,useCallback:$a,useContext:xs,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Ya,useReducer:Na,useRef:Ua,useState:function(){return Na(Ta)},useDebugValue:Qa,useDeferredValue:function(e){var t=ka();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],ka().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Hl=r),ho(0,t)},n}function mo(e,t,n){(n=Rs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Ps(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,wo=!1;function Io(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Ys(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=_a(e,t,n,r,s,i),n=Sa(),null===e||wo?(is&&n&&es(t),t.flags|=1,Io(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ko(e,t,i)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ko(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return To(e,t,n,r,i)}function xo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Rl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Rl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Rl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Rl,Ol),Ol|=r;return Io(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Oi(n)?Ai:Ci.current;return s=Di(t,s),Ss(t,i),n=_a(e,t,n,r,s,i),r=Sa(),null===e||wo?(is&&r&&es(t),t.flags|=1,Io(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function Co(e,t,n,r,i){if(Oi(n)){var s=!0;ji(t)}else s=!1;if(Ss(t,i),null===t.stateNode)qo(e,t),qs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=xs(c):c=Di(t,c=Oi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Ks(t,a,r,c),As=!1;var d=t.memoizedState;a.state=d,Ms(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ni.current||As?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(o=As||zs(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Os(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=xs(l):l=Di(t,l=Oi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Ks(t,a,r,l),As=!1,d=t.memoizedState,a.state=d,Ms(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=As||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){ko(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ko(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,o,s)):Io(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ra(e,t.containerInfo)}function Do(e,t,n,r,i){return fs(),ps(i),t.flags|=256,Io(e,t,n,r),t.child}var Oo,Ro,Po,Lo={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=jc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jo(n),t.memoizedState=Lo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ys(t,e.child,null,o),t.child.memoizedState=jo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ns(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?jo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),Ys(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_s(e.return,t,n)}function Bo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Wo(t),null;case 3:return r=t.stateNode,ia(),xi(Ni),xi(Ci),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Wo(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=na(Zs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Oo(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Po(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wo(t),null;case 13:if(xi(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Pl&&(Pl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return ia(),null===e&&zr(t.stateNode.containerInfo),Wo(t),null;case 10:return Es(t.type._context),Wo(t),null;case 19:if(xi(oa),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ho(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Ho(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zl&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Wo(t),null}else 2*Xe()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,ki(oa,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),xi(Ni),xi(Ci),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(xi(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(oa),null;case 4:return ia(),null;case 10:return Es(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Po=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Yo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,dl(e,t,n),Yo=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||h,ml(t,e),Yo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Jo=e,h=e.child;null!==h;){for(d=Jo=h;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){Il(d);continue}}null!==p?(p.return=f,Jo=p):Il(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$o;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=$o;var c=Yo;if($o=a,(Yo=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Jo=l):El(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,$o=o,Yo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function Il(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function El(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var _l,Sl=Math.ceil,xl=w.ReactCurrentDispatcher,kl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Cl=0,Nl=null,Al=null,Dl=0,Ol=0,Rl=Si(0),Pl=0,Ll=null,jl=0,Ml=0,Fl=0,Ul=null,Vl=null,Bl=0,zl=1/0,ql=null,Kl=!1,Hl=null,Wl=null,Gl=!1,Ql=null,$l=0,Yl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===Nl||(e===Nl&&(0===(2&Cl)&&(Ml|=n),4===Pl&&oc(e,Dl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(zl=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Nl?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),ai((function(){0===(6&Cl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var a=pc();for(Nl===e&&Dl===t||(ql=null,zl=Xe()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}Is(),xl.current=a,Cl=i,null!==Al?t=0:(Nl=null,Dl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,dc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Ll,dc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ic(e,Vl,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ic.bind(null,e,Vl,ql),t);break}Ic(e,Vl,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(Ic.bind(null,e,Vl,ql),r);break}Ic(e,Vl,ql);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(s(327));Ec();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,dc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e,Vl,ql),rc(e,Xe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(zl=Xe()+500,Ui&&zi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&Ec();var t=Cl;Cl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Cl=t))&&zi()}}function hc(){Ol=Rl.current,xi(Rl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:ia(),xi(Ni),xi(Ci),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:xi(oa);break;case 10:Es(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Al=e=Rc(e.current,null),Dl=Ol=t,Pl=0,Ll=null,Fl=Ml=jl=0,Vl=Ul=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}ks=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Is(),ha.current=so,ya){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(fa=0,ga=ma=pa=null,va=!1,ba=0,kl.current=null,null===n||null===n.return){Pl=1,Ll=t,Al=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vo(y,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==Pl&&(Pl=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,js(a,po(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,js(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=xl.current;return xl.current=so,null===e?so:e}function mc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Nl||0===(268435455&jl)&&0===(268435455&Ml)||oc(Nl,Dl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Nl===e&&Dl===t||(ql=null,dc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Is(),Cl=n,xl.current=r,null!==Al)throw Error(s(261));return Nl=null,Dl=0,Pl}function yc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!$e();)bc(Al)}function bc(e){var t=_l(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,kl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Ol)))return void(Al=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Pl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Pl&&(Pl=5)}function Ic(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Nl&&(Al=Nl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Nc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,kl.current=null,function(e,t){if(ei=Kt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(I){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(I){Sc(t,t.return,I)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Cl=l,bt=o,Tl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,$l=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,zi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Ec(){if(null!==Ql){var e=wt($l),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var h=Jo;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Jo=d;else for(;null!==Jo;){var f=(h=Jo).sibling,p=h.return;if(sl(h),h===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Jo=v;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Sc(l,l.return,E)}if(l===o){Jo=null;break e}var I=l.sibling;if(null!==I){I.return=l.return,Jo=I;break e}Jo=l.return}}if(Cl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function _c(e,t,n){e=Ps(e,t=po(0,t=co(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ps(t,e=mo(t,e=co(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Dl&n)===n&&(4===Pl||3===Pl&&(130023424&Dl)===Dl&&500>Xe()-Bl?dc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ns(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Lc(n.children,i,a,t);case S:o=8,i|=8;break;case x:return(e=Dc(12,n,t,2|i)).elementType=x,e.lanes=a,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return jc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case T:o=9;break e;case C:o=11;break e;case D:o=14;break e;case O:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Rs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ps(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ps(i,t,a))&&(nc(e,i,a,s),Ls(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),fs();break;case 5:sa(t);break;case 1:Oi(t.type)&&ji(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(ki(oa,1&oa.current),null!==(e=Ko(e,t,n))?e.sibling:null);ki(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,xo(e,t,n)}return Ko(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ss(t,n),i=_a(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),Io(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=gs(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Os(e,t),Ms(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Do(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Do(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ko(e,t,n);break e}Io(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),ko(e,t),Io(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ys(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ki(ys,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Ko(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Rs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_s(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_s(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=xs(i)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),_o(e,t,r,i=gs(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),qo(e,t),t.tag=1,Oi(r)?(e=!0,ji(t)):e=!1,Ss(t,n),qs(t,r,i),Hs(t,r,i,n),No(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return xo(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},It=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Cl)&&(zl=Xe()+500,zi()))}break;case 13:uc((function(){var t=Ns(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ns(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ii(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=uc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,Ii,ke,Te,cc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var I=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,I(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",I(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function I(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(E);else{var t=r(u);null!==t&&P(I,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(I,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,x=null,k=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==x){var e=t.unstable_now();C=e;var n=!0;try{n=x(!0,e)}finally{n?_():(S=!1,x=null)}}else S=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){y(A,0)};function R(e){x=e,S||(S=!0,_())}function P(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,P(I,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},684:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ShriRam.d7f9cdfa0d9b7f4171ef.png"},283:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/contactlogo.153f616f0f8a81ef5bf1.png"},110:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/cornerlogo.dbc7c8290ea00c881123.png"},642:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lo1.c20242bb32e0b967c2f8.jpg"},88:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lo2.1c228d6a2eec7b0df481.jpg"},847:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lo3.6be38fd28c3d1fd4452f.jpg"},589:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lo4.acde9dc96b1527e2e9b2.jpg"},725:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lo5.311222b9919fe074b70a.jpg"},977:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lo6.d0751c372ef62322b996.jpg"},617:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/hsslogo.153f616f0f8a81ef5bf1.png"},822:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/omLogo.9017ca16e2c5aaa141d7.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Ze,SDK_VERSION:()=>cn,_DEFAULT_ENTRY_NAME:()=>Yt,_addComponent:()=>en,_addOrOverwriteComponent:()=>tn,_apps:()=>Jt,_clearComponents:()=>an,_components:()=>Zt,_getProvider:()=>rn,_registerComponent:()=>nn,_removeServiceInstance:()=>sn,deleteApp:()=>fn,getApp:()=>hn,getApps:()=>dn,initializeApp:()=>un,onLog:()=>mn,registerVersion:()=>pn,setLogLevel:()=>gn});var t=n(791),r=n.t(t,2),i=n(250),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=t.createContext&&t.createContext(s),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function c(e){return e&&e.map((function(e,n){return t.createElement(e.tag,o({key:n},e.attr),c(e.child))}))}function u(e){return function(n){return t.createElement(h,o({attr:o({},e.attr)},n),c(e.child))}}function h(e){var n=function(n){var r,i=e.attr,s=e.size,a=e.title,c=l(e,["attr","size","title"]),u=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:r,style:o(o({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==a?t.createElement(a.Consumer,null,(function(e){return n(e)})):n(s)}function d(e){return u({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}var f=n(184);const p=()=>(0,f.jsxs)("div",{className:"footer-container",children:[(0,f.jsxs)("div",{className:"foot-branding",children:[(0,f.jsx)("span",{children:"Code & Design by "}),(0,f.jsx)("img",{src:n(617)}),(0,f.jsx)("span",{children:"Bharat Mahotsav Mandal LATAM"}),(0,f.jsx)("a",{target:"_blank",href:"https://www.instagram.com/bmmlatam/",children:(0,f.jsx)(d,{className:"foot-social"})})]}),(0,f.jsx)("p",{children:"bharatmahotsav.mx@gmail.com"})]});function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var g;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(g||(g={}));const y="popstate";function v(e){return{usr:e.state,key:e.key}}function b(e,t,n,r){return void 0===n&&(n=null),m({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?I(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function I(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function E(e){let t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:w(e);return new URL(n,t)}function _(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=g.Pop,l=null;function c(){o=g.Pop,l&&l({action:o,location:u.location})}let u={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,c),l=e,()=>{i.removeEventListener(y,c),l=null}},createHref:e=>t(i,e),encodeLocation(e){let t=E("string"===typeof e?e:w(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=g.Push;let r=b(u.location,e,t);n&&n(r,e);let c=v(r),h=u.createHref(r);try{a.pushState(c,"",h)}catch(d){i.location.assign(h)}s&&l&&l({action:o,location:u.location})},replace:function(e,t){o=g.Replace;let r=b(u.location,e,t);n&&n(r,e);let i=v(r),c=u.createHref(r);a.replaceState(i,"",c),s&&l&&l({action:o,location:u.location})},go:e=>a.go(e)};return u}var S;function x(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?I(t):t).pathname||"/",n);if(null==r)return null;let i=k(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=A(i[a],O(r));return s}function k(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(P(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=U([r,s.relativePath]),o=n.concat(s);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),k(e.children,t,o,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:o})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(S||(S={}));const T=/^:\w+$/,C=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((e=>!C(e))).reduce(((e,t)=>e+(T.test(t)?3:""===t?1:10)),r)}function A(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:U([i,c.pathname]),pathnameBase:V(U([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=U([i,c.pathnameBase]))}return s}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);L("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return L(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o[n]||"",t),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function O(e){try{return decodeURI(e)}catch(t){return L(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function L(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=I(e):(i=m({},e),P(!i.pathname||!i.pathname.includes("?"),j("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),j("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),j("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(r||null==o)s=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?I(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:z(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class q extends Error{}class K{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function H(e){return e instanceof K}const W=["post","put","patch","delete"],G=(new Set(W),["get",...W]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}const $="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},{useState:Y,useEffect:X,useLayoutEffect:J,useDebugValue:Z}=r;function ee(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!$(n,e)}catch(r){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;const te=t.createContext(null);const ne=t.createContext(null);const re=t.createContext(null);const ie=t.createContext(null);const se=t.createContext(null);const ae=t.createContext({outlet:null,matches:[]});const oe=t.createContext(null);function le(){return null!=t.useContext(se)}function ce(){return le()||P(!1),t.useContext(se).location}function ue(){le()||P(!1);let{basename:e,navigator:n}=t.useContext(ie),{matches:r}=t.useContext(ae),{pathname:i}=ce(),s=JSON.stringify(M(r).map((e=>e.pathnameBase))),a=t.useRef(!1);t.useEffect((()=>{a.current=!0}));let o=t.useCallback((function(t,r){if(void 0===r&&(r={}),!a.current)return;if("number"===typeof t)return void n.go(t);let o=F(t,JSON.parse(s),i,"path"===r.relative);"/"!==e&&(o.pathname="/"===o.pathname?e:U([e,o.pathname])),(r.replace?n.replace:n.push)(o,r.state,r)}),[e,n,s,i]);return o}function he(e,n){let{relative:r}=void 0===n?{}:n,{matches:i}=t.useContext(ae),{pathname:s}=ce(),a=JSON.stringify(M(i).map((e=>e.pathnameBase)));return t.useMemo((()=>F(e,JSON.parse(a),s,"path"===r)),[e,a,s,r])}function de(){let e=function(){var e;let n=t.useContext(oe),r=ve(ye.UseRouteError),i=t.useContext(ae),s=i.matches[i.matches.length-1];if(n)return n;return i||P(!1),!s.route.id&&P(!1),null==(e=r.errors)?void 0:e[s.route.id]}(),n=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:a},"errorElement")," props on\xa0",t.createElement("code",{style:a},"<Route>")))}class fe extends t.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(oe.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function pe(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(te);return s&&r.route.errorElement&&(s._deepestRenderedBoundaryId=r.route.id),t.createElement(ae.Provider,{value:n},i)}function me(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let i=e,s=null==r?void 0:r.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||P(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,a,o)=>{let l=a.route.id?null==s?void 0:s[a.route.id]:null,c=r?a.route.errorElement||t.createElement(de,null):null,u=()=>t.createElement(pe,{match:a,routeContext:{outlet:e,matches:n.concat(i.slice(0,o+1))}},l?c:void 0!==a.route.element?a.route.element:e);return r&&(a.route.errorElement||0===o)?t.createElement(fe,{location:r.location,component:c,error:l,children:u()}):u()}),null)}var ge,ye;function ve(e){let n=t.useContext(re);return n||P(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(ge||(ge={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ye||(ye={}));function be(e){P(!1)}function we(e){let{basename:n="/",children:r=null,location:i,navigationType:s=g.Pop,navigator:a,static:o=!1}=e;le()&&P(!1);let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:a,static:o})),[l,a,o]);"string"===typeof i&&(i=I(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=t.useMemo((()=>{let e=R(u,l);return null==e?null:{pathname:e,search:h,hash:d,state:f,key:p}}),[l,u,h,d,f,p]);return null==m?null:t.createElement(ie.Provider,{value:c},t.createElement(se.Provider,{children:r,value:{location:m,navigationType:s}}))}function Ie(e){let{children:n,location:r}=e,i=t.useContext(ne);return function(e,n){le()||P(!1);let{navigator:r}=t.useContext(ie),i=t.useContext(re),{matches:s}=t.useContext(ae),a=s[s.length-1],o=a?a.params:{},l=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let c,u=ce();if(n){var h;let e="string"===typeof n?I(n):n;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||P(!1),c=e}else c=u;let d=c.pathname||"/",f=x(e,{pathname:"/"===l?d:d.slice(l.length)||"/"}),p=me(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:U([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:U([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i||void 0);return n&&p?t.createElement(se.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:g.Pop}},p):p}(i&&!n?i.router.routes:Se(n),r)}var Ee;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ee||(Ee={}));new Promise((()=>{}));class _e extends t.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,i=Ee.pending;if(n instanceof Promise)if(this.state.error){Ee.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?(n,void 0!==r._error?Ee.error:void 0!==r._data?Ee.success:Ee.pending):(Ee.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else Ee.success,Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(i===Ee.error&&r._error instanceof AbortedDeferredError)throw neverSettledPromise;if(i===Ee.error&&!t)throw r._error;if(i===Ee.error)return React.createElement(AwaitContext.Provider,{value:r,children:t});if(i===Ee.success)return React.createElement(AwaitContext.Provider,{value:r,children:e});throw r}}function Se(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;if(e.type===t.Fragment)return void r.push.apply(r,Se(e.props.children,n));e.type!==be&&P(!1),e.props.index&&e.props.children&&P(!1);let s=[...n,i],a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=Se(e.props.children,s)),r.push(a)})),r}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const Te=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ce=["aria-current","caseSensitive","className","end","style","to","children"];function Ne(e){let{basename:n,children:r,window:i}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),_((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return b("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:w(t)}),null,a)));let o=s.current,[l,c]=t.useState({action:o.action,location:o.location});return t.useLayoutEffect((()=>o.listen(c)),[o]),t.createElement(we,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}const Ae=t.forwardRef((function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u}=e,h=ke(e,Te),d=function(e,n){let{relative:r}=void 0===n?{}:n;le()||P(!1);let{basename:i,navigator:s}=t.useContext(ie),{hash:a,pathname:o,search:l}=he(e,{relative:r}),c=o;return"/"!==i&&(c="/"===o?i:U([i,o])),s.createHref({pathname:c,search:l,hash:a})}(c,{relative:i}),f=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:a,relative:o}=void 0===n?{}:n,l=ue(),c=ce(),u=he(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:w(c)===w(u);l(e,{replace:n,state:s,preventScrollReset:a,relative:o})}}),[c,l,u,i,s,r,e,a,o])}(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i});return t.createElement("a",xe({},h,{href:d,onClick:s?r:function(e){r&&r(e),e.defaultPrevented||f(e)},ref:n,target:l}))}));const De=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,children:c}=e,u=ke(e,Ce),h=he(l,{relative:u.relative}),d=ce(),f=t.useContext(re),{navigator:p}=t.useContext(ie),m=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,g=d.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(g=g.toLowerCase(),y=y?y.toLowerCase():null,m=m.toLowerCase());let v,b=g===m||!a&&g.startsWith(m)&&"/"===g.charAt(m.length),w=null!=y&&(y===m||!a&&y.startsWith(m)&&"/"===y.charAt(m.length)),I=b?r:void 0;v="function"===typeof s?s({isActive:b,isPending:w}):[s,b?"active":null,w?"pending":null].filter(Boolean).join(" ");let E="function"===typeof o?o({isActive:b,isPending:w}):o;return t.createElement(Ae,xe({},u,{"aria-current":I,className:v,ref:n,style:E,to:l}),"function"===typeof c?c({isActive:b,isPending:w}):c)}));var Oe,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Oe||(Oe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function Pe(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function Le(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}}]})(e)}const je=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(je(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw Error();const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Fe=function(e){return function(e){const t=je(e);return Me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ue=function(e){try{return Me.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ve(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ve(e[n],t[n]));return e}function Be(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ze(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function qe(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){try{return"object"===typeof indexedDB}catch(e){return!1}}function He(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}const We=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ge=()=>{try{return We()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCnpEvLUUdpUR8_b7hyHx4hnlk_rAgGO4k",REACT_APP_FIREBASE_AUTH_DOMAIN:"bmmlatam2.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://bmmlatam2-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"bmmlatam2",REACT_APP_FIREBASE_STORAGE_BUCKET:"bmmlatam2.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"786602309812",REACT_APP_FIREBASE_APP_ID:"1:786602309812:web:2dd69be36e6fc07be63fe1"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ue(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Qe=e=>{var t,n;return null===(n=null===(t=Ge())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$e=()=>{var e;return null===(e=Ge())||void 0===e?void 0:e.config},Ye=e=>{var t;return null===(t=Ge())||void 0===t?void 0:t["_".concat(e)]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Je(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(s)),""].join(".")}class Ze extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(tt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ze(n,s,t)}}const tt=/\{\$([^}]+)}/g;function nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(it(n)&&it(s)){if(!rt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function it(e){return null!==e&&"object"===typeof e}function st(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function at(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ot(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function lt(e,t){const n=new ct(e,t);return n.subscribe.bind(n)}class ct{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ut),void 0===r.error&&(r.error=ut),void 0===r.complete&&(r.complete=ut);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ut(){}const ht=144e5;function dt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(ht,r+i)}function ft(e){return e&&e._delegate?e._delegate:e}class pt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mt="[DEFAULT]";class gt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mt})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(ig){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===mt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(ig){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.component?this.component.multipleInstances?e:mt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vt=[];var bt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bt||(bt={}));const wt={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},It=bt.INFO,Et={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},_t=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Et[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class St{constructor(e){this.name=e,this._logLevel=It,this._logHandler=_t,this._userLogHandler=null,vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?wt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...t),this._logHandler(this,bt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...t),this._logHandler(this,bt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.INFO,...t),this._logHandler(this,bt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.WARN,...t),this._logHandler(this,bt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...t),this._logHandler(this,bt.ERROR,...t)}}function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function kt(e){var t=function(e,t){if("object"!==xt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xt(t)?t:String(t)}function Tt(e,t,n){return(t=kt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let At,Dt;const Ot=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,Lt=new WeakMap,jt=new WeakMap;let Mt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ft(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dt||(Dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bt(this),n),Vt(Ot.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vt(e.apply(Bt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Bt(this),t,...r);return Pt.set(s,t.sort?t.sort():[t]),Vt(s)}}function Ut(e){return"function"===typeof e?Ft(e):(e instanceof IDBTransaction&&function(e){if(Rt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Rt.set(e,t)}(e),t=e,(At||(At=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Mt):e);var t}function Vt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Vt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Ot.set(t,e)})).catch((()=>{})),jt.set(t,e),t}(e);if(Lt.has(e))return Lt.get(e);const t=Ut(e);return t!==e&&(Lt.set(e,t),jt.set(t,e)),t}const Bt=e=>jt.get(e);const zt=["get","getKey","getAll","getAllKeys","count"],qt=["put","add","delete","clear"],Kt=new Map;function Ht(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Kt.get(t))return Kt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=qt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Kt.set(t,s),s}Mt=(e=>Nt(Nt({},e),{},{get:(t,n,r)=>Ht(t,n)||e.get(t,n,r),has:(t,n)=>!!Ht(t,n)||e.has(t,n)}))(Mt);class Wt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Gt="@firebase/app",Qt="0.9.0",$t=new St("@firebase/app"),Yt="[DEFAULT]",Xt={[Gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Zt=new Map;function en(e,t){try{e.container.addComponent(t)}catch(n){$t.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function tn(e,t){e.container.addOrOverwriteComponent(t)}function nn(e){const t=e.name;if(Zt.has(t))return $t.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zt.set(t,e);for(const n of Jt.values())en(n,e);return!0}function rn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yt;rn(e,t).clearInstance(n)}function an(){Zt.clear()}const on=new et("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ln{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const cn="9.15.0";function un(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw on.create("bad-app-name",{appName:String(i)});if(n||(n=$e()),!n)throw on.create("no-options");const s=Jt.get(i);if(s){if(rt(n,s.options)&&rt(r,s.config))return s;throw on.create("duplicate-app",{appName:i})}const a=new yt(i);for(const l of Zt.values())a.addComponent(l);const o=new ln(n,r,a);return Jt.set(i,o),o}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;const t=Jt.get(e);if(!t&&e===Yt)return un();if(!t)throw on.create("no-app",{appName:e});return t}function dn(){return Array.from(Jt.values())}async function fn(e){const t=e.name;Jt.has(t)&&(Jt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function pn(e,t,n){var r;let i=null!==(r=Xt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $t.warn(e.join(" "))}nn(new pt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function mn(e,t){if(null!==e&&"function"!==typeof e)throw on.create("invalid-log-argument");!function(e,t){for(const n of vt){let r=null;t&&t.level&&(r=wt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:bt[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function gn(e){var t;t=e,vt.forEach((e=>{e.setLogLevel(t)}))}const yn="firebase-heartbeat-store";let vn=null;function bn(){return vn||(vn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Vt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Vt(a.result),e.oldVersion,e.newVersion,Vt(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(yn)}}).catch((e=>{throw on.create("idb-open",{originalErrorMessage:e.message})}))),vn}async function wn(e,t){try{const n=(await bn()).transaction(yn,"readwrite"),r=n.objectStore(yn);return await r.put(t,In(e)),n.done}catch(n){if(n instanceof Ze)$t.warn(n.message);else{const e=on.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});$t.warn(e.message)}}}function In(e){return"".concat(e.name,"!").concat(e.options.appId)}const En=1024;class _n{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Sn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Sn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),kn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Fe(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Sn(){return(new Date).toISOString().substring(0,10)}class xn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ke()&&He().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{return(await bn()).transaction(yn).objectStore(yn).get(In(e))}catch(t){if(t instanceof Ze)$t.warn(t.message);else{const e=on.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});$t.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return wn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function kn(e){return Fe(JSON.stringify({version:2,heartbeats:e})).length}var Tn;Tn="",nn(new pt("platform-logger",(e=>new Wt(e)),"PRIVATE")),nn(new pt("heartbeat",(e=>new _n(e)),"PRIVATE")),pn(Gt,Qt,Tn),pn(Gt,Qt,"esm2017"),pn("fire-js","");class Cn{constructor(e,t){this._delegate=e,this.firebase=t,en(e,new pt("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),fn(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){en(this._delegate,e)}_addOrOverwriteComponent(e){tn(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Nn=new et("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const An=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=un(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(nt(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:pn,setLogLevel:gn,onLog:mn,apps:null,SDK_VERSION:cn,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(nn(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Nn.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ve(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!nt(n,e=e||Yt))throw Nn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Cn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ve(n,e)},createSubscribe:lt,ErrorFactory:et,deepExtend:Ve}),n}(),Dn=new St("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Dn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Dn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const On=An;!function(e){pn("@firebase/app-compat","0.2.0",e)}();On.registerVersion("firebase","9.15.0","app-compat");var Rn,Pn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ln={},jn=jn||{},Mn=Pn||self;function Fn(){}function Un(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bn="closure_uid_"+(1e9*Math.random()>>>0),zn=0;function qn(e,t,n){return e.call.apply(e.bind,arguments)}function Kn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Hn(e,t,n){return(Hn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qn:Kn).apply(null,arguments)}function Wn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Qn(){this.s=this.s,this.o=this.o}Qn.prototype.s=!1,Qn.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Bn)&&e[Bn]||(e[Bn]=++zn))},Qn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $n=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Yn(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xn(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Un(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Jn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Jn.prototype.h=function(){this.defaultPrevented=!0};var Zn=function(){if(!Mn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Mn.addEventListener("test",Fn,t),Mn.removeEventListener("test",Fn,t)}catch(n){}return e}();function er(e){return/^[\s\xa0]*$/.test(e)}var tr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function nr(e,t){return e<t?-1:e>t?1:0}function rr(){var e=Mn.navigator;return e&&(e=e.userAgent)?e:""}function ir(e){return-1!=rr().indexOf(e)}function sr(e){return sr[" "](e),e}sr[" "]=Fn;var ar,or=ir("Opera"),lr=ir("Trident")||ir("MSIE"),cr=ir("Edge"),ur=cr||lr,hr=ir("Gecko")&&!(-1!=rr().toLowerCase().indexOf("webkit")&&!ir("Edge"))&&!(ir("Trident")||ir("MSIE"))&&!ir("Edge"),dr=-1!=rr().toLowerCase().indexOf("webkit")&&!ir("Edge");function fr(){var e=Mn.document;return e?e.documentMode:void 0}e:{var pr="",mr=function(){var e=rr();return hr?/rv:([^\);]+)(\)|;)/.exec(e):cr?/Edge\/([\d\.]+)/.exec(e):lr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dr?/WebKit\/(\S+)/.exec(e):or?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(mr&&(pr=mr?mr[1]:""),lr){var gr=fr();if(null!=gr&&gr>parseFloat(pr)){ar=String(gr);break e}}ar=pr}var yr,vr={};function br(){return function(e){var t=vr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=tr(String(ar)).split("."),n=tr("9").split("."),r=Math.max(t.length,n.length);for(let a=0;0==e&&a<r;a++){var i=t[a]||"",s=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=nr(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||nr(0==i[2].length,0==s[2].length)||nr(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(Mn.document&&lr){var wr=fr();yr=wr||(parseInt(ar,10)||void 0)}else yr=void 0;var Ir=yr;function Er(e,t){if(Jn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hr){e:{try{sr(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_r[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Er.X.h.call(this)}}Gn(Er,Jn);var _r={2:"touch",3:"pen",4:"mouse"};Er.prototype.h=function(){Er.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Sr="closure_listenable_"+(1e6*Math.random()|0),xr=0;function kr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++xr,this.ba=this.ea=!1}function Tr(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Cr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Nr(e){const t={};for(const n in e)t[n]=e[n];return t}const Ar="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dr(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ar.length;t++)n=Ar[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Or(e){this.src=e,this.g={},this.h=0}function Rr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=$n(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Tr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Pr(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}Or.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Pr(e,t,r,i);return-1<a?(t=e[a],n||(t.ea=!1)):((t=new kr(t,this.src,s,!!r,i)).ea=n,e.push(t)),t};var Lr="closure_lm_"+(1e6*Math.random()|0),jr={};function Mr(e,t,n,r,i){if(r&&r.once)return Ur(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Mr(e,t[s],n,r,i);return null}return n=Wr(n),e&&e[Sr]?e.N(t,n,Vn(r)?!!r.capture:!!r,i):Fr(e,t,n,!1,r,i)}function Fr(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Vn(i)?!!i.capture:!!i,o=Kr(e);if(o||(e[Lr]=o=new Or(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=qr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ur(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ur(e,t[s],n,r,i);return null}return n=Wr(n),e&&e[Sr]?e.O(t,n,Vn(r)?!!r.capture:!!r,i):Fr(e,t,n,!0,r,i)}function Vr(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Vr(e,t[s],n,r,i);else r=Vn(r)?!!r.capture:!!r,n=Wr(n),e&&e[Sr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Pr(s=e.g[t],n,r,i))&&(Tr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Kr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pr(t,n,r,i)),(n=-1<e?t[e]:null)&&Br(n))}function Br(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Sr])Rr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kr(t))?(Rr(n,e),0==n.h&&(n.src=null,t[Lr]=null)):Tr(e)}}}function zr(e){return e in jr?jr[e]:jr[e]="on"+e}function qr(e,t){if(e.ba)e=!0;else{t=new Er(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Br(e),e=n.call(r,t)}return e}function Kr(e){return(e=e[Lr])instanceof Or?e:null}var Hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wr(e){return"function"===typeof e?e:(e[Hr]||(e[Hr]=function(t){return e.handleEvent(t)}),e[Hr])}function Gr(){Qn.call(this),this.i=new Or(this),this.P=this,this.I=null}function Qr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Jn(t,e);else if(t instanceof Jn)t.target=t.target||e;else{var i=t;Dr(t=new Jn(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=$r(a,r,!0,t)&&i}if(i=$r(a=t.g=e,r,!0,t)&&i,i=$r(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=$r(a=t.g=n[s],r,!1,t)&&i}function $r(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ba&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.ea&&Rr(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Gn(Gr,Qn),Gr.prototype[Sr]=!0,Gr.prototype.removeEventListener=function(e,t,n,r){Vr(this,e,t,n,r)},Gr.prototype.M=function(){if(Gr.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tr(n[r]);delete t.g[e],t.h--}}this.I=null},Gr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yr=Mn.JSON.stringify;function Xr(){var e=ii;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jr,Zr=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ei),(e=>e.reset()));class ei{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ti(e){Mn.setTimeout((()=>{throw e}),0)}function ni(e,t){Jr||function(){var e=Mn.Promise.resolve(void 0);Jr=function(){e.then(si)}}(),ri||(Jr(),ri=!0),ii.add(e,t)}var ri=!1,ii=new class{constructor(){this.h=this.g=null}add(e,t){const n=Zr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function si(){for(var e;e=Xr();){try{e.h.call(e.g)}catch(n){ti(n)}var t=Zr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ri=!1}function ai(e,t){Gr.call(this),this.h=e||1,this.g=t||Mn,this.j=Hn(this.lb,this),this.l=Date.now()}function oi(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function li(e,t,n){if("function"===typeof e)n&&(e=Hn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Hn(e.handleEvent,e)}return 2147483647<Number(t)?-1:Mn.setTimeout(e,t||0)}function ci(e){e.g=li((()=>{e.g=null,e.i&&(e.i=!1,ci(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Gn(ai,Gr),(Rn=ai.prototype).ca=!1,Rn.R=null,Rn.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qr(this,"tick"),this.ca&&(oi(this),this.start()))}},Rn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rn.M=function(){ai.X.M.call(this),oi(this),delete this.g};class ui extends Qn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ci(this)}M(){super.M(),this.g&&(Mn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(e){Qn.call(this),this.h=e,this.g={}}Gn(hi,Qn);var di=[];function fi(e,t,n,r){Array.isArray(n)||(n&&(di[0]=n.toString()),n=di);for(var i=0;i<n.length;i++){var s=Mr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function pi(e){Cr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Br(e)}),e),e.g={}}function mi(){this.g=!0}function gi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Yr(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}hi.prototype.M=function(){hi.X.M.call(this),pi(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mi.prototype.Aa=function(){this.g=!1},mi.prototype.info=function(){};var yi={},vi=null;function bi(){return vi=vi||new Gr}function wi(e){Jn.call(this,yi.Pa,e)}function Ii(e){const t=bi();Qr(t,new wi(t))}function Ei(e,t){Jn.call(this,yi.STAT_EVENT,e),this.stat=t}function _i(e){const t=bi();Qr(t,new Ei(t,e))}function Si(e,t){Jn.call(this,yi.Qa,e),this.size=t}function xi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Mn.setTimeout((function(){e()}),t)}yi.Pa="serverreachability",Gn(wi,Jn),yi.STAT_EVENT="statevent",Gn(Ei,Jn),yi.Qa="timingevent",Gn(Si,Jn);var ki={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ti={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ci(){}function Ni(e){return e.h||(e.h=e.i())}function Ai(){}Ci.prototype.h=null;var Di,Oi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ri(){Jn.call(this,"d")}function Pi(){Jn.call(this,"c")}function Li(){}function ji(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new hi(this),this.O=Fi,e=ur?125:void 0,this.T=new ai(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Mi}function Mi(){this.i=null,this.g="",this.h=!1}Gn(Ri,Jn),Gn(Pi,Jn),Gn(Li,Ci),Li.prototype.g=function(){return new XMLHttpRequest},Li.prototype.i=function(){return{}},Di=new Li;var Fi=45e3,Ui={},Vi={};function Bi(e,t,n){e.K=1,e.v=as(ts(t)),e.s=n,e.P=!0,zi(e,null)}function zi(e,t){e.F=Date.now(),Wi(e),e.A=ts(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),bs(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Mi,e.g=ba(e.l,n?t:null,!e.s),0<e.N&&(e.L=new ui(Hn(e.La,e,e.g),e.N)),fi(e.S,e.g,"readystatechange",e.ib),t=e.H?Nr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ii(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function qi(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ki(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Hi(e,n),r==Vi){4==t&&(e.o=4,_i(14),i=!1),gi(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ui){e.o=4,_i(15),gi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gi(e.j,e.m,r,null),Xi(e,r)}qi(e)&&r!=Vi&&r!=Ui&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,_i(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ha(t),t.K=!0,_i(11))):(gi(e.j,e.m,n,"[Invalid Chunked Response]"),Yi(e),$i(e))}function Hi(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vi:(n=Number(t.substring(n,r)),isNaN(n)?Ui:(r+=1)+n>t.length?Vi:(t=t.substr(r,n),e.C=r+n,t))}function Wi(e){e.V=Date.now()+e.O,Gi(e,e.O)}function Gi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xi(Hn(e.gb,e),t)}function Qi(e){e.B&&(Mn.clearTimeout(e.B),e.B=null)}function $i(e){0==e.l.G||e.I||pa(e.l,e)}function Yi(e){Qi(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,oi(e.T),pi(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ks(n.h,e)))if(!e.J&&ks(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fa(n),ra(n)}ua(n),_i(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=xi(Hn(n.cb,n),6e3));if(1>=xs(n.h)&&n.ja){try{n.ja()}catch(c){}n.ja=void 0}}else ga(n,11)}else if((e.J||n.g==e)&&fa(n),!er(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const t=c[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));const i=c[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ts(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.za=e,ss(r.F,r.D,e))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var a=e;if((r=n).sa=va(r,r.H?r.ka:null,r.V),a.J){Cs(r.h,a);var o=a,l=r.J;l&&o.setTimeout(l),o.B&&(Qi(o),Wi(o)),r.g=a}else ca(r);0<n.i.length&&sa(n)}else"stop"!=c[0]&&"close"!=c[0]||ga(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ga(n,7):na(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Ii()}catch(c){}}function Ji(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Un(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Un(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Un(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Rn=ji.prototype).setTimeout=function(e){this.O=e},Rn.ib=function(e){e=e.target;const t=this.L;t&&3==Ys(e)?t.l():this.La(e)},Rn.La=function(e){try{if(e==this.g)e:{const u=Ys(this.g);var t=this.g.Ea();this.g.aa();if(!(3>u)&&(3!=u||ur||this.g&&(this.h.h||this.g.fa()||Xs(this.g)))){this.I||4!=u||7==t||Ii(),Qi(this);var n=this.g.aa();this.Y=n;t:if(qi(this)){var r=Xs(this.g);e="";var i=r.length,s=4==Ys(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Yi(this),$i(this);var a="";break t}this.h.i=new Mn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!er(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,_i(12),Yi(this),$i(this);break e}gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xi(this,n)}this.P?(Ki(this,u,a),ur&&this.i&&3==u&&(fi(this.S,this.T,"tick",this.hb),this.T.start())):(gi(this.j,this.m,a,null),Xi(this,a)),4==u&&Yi(this),this.i&&!this.I&&(4==u?pa(this.l,this):(this.i=!1,Wi(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,_i(12)):(this.o=0,_i(13)),Yi(this),$i(this)}}}catch(u){}},Rn.hb=function(){if(this.g){var e=Ys(this.g),t=this.g.fa();this.C<t.length&&(Qi(this),Ki(this,e,t),this.i&&4!=e&&Wi(this))}},Rn.cancel=function(){this.I=!0,Yi(this)},Rn.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ii(),_i(17)),Yi(this),this.o=2,$i(this)):Gi(this,this.V-e)};var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function es(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof es){this.h=void 0!==t?t:e.h,ns(this,e.j),this.s=e.s,this.g=e.g,rs(this,e.m),this.l=e.l,t=e.i;var n=new ms;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),is(this,n),this.o=e.o}else e&&(n=String(e).match(Zi))?(this.h=!!t,ns(this,n[1]||"",!0),this.s=os(n[2]||""),this.g=os(n[3]||"",!0),rs(this,n[4]),this.l=os(n[5]||"",!0),is(this,n[6]||"",!0),this.o=os(n[7]||"")):(this.h=!!t,this.i=new ms(null,this.h))}function ts(e){return new es(e)}function ns(e,t,n){e.j=n?os(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function is(e,t,n){t instanceof ms?(e.i=t,function(e,t){t&&!e.j&&(gs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ys(this,t),bs(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ls(t,fs)),e.i=new ms(t,e.h))}function ss(e,t,n){e.i.set(t,n)}function as(e){return ss(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function os(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ls(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cs),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}es.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ls(t,us,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ls(t,us,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ls(n,"/"==n.charAt(0)?ds:hs,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ls(n,ps)),e.join("")};var us=/[#\/\?@]/g,hs=/[#\?:]/g,ds=/[#\?]/g,fs=/[#\?@]/g,ps=/#/g;function ms(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gs(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ys(e,t){gs(e),t=ws(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vs(e,t){return gs(e),t=ws(e,t),e.g.has(t)}function bs(e,t,n){ys(e,t),0<n.length&&(e.i=null,e.g.set(ws(e,t),Yn(n)),e.h+=n.length)}function ws(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Rn=ms.prototype).add=function(e,t){gs(this),this.i=null,e=ws(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Rn.forEach=function(e,t){gs(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Rn.oa=function(){gs(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Rn.W=function(e){gs(this);let t=[];if("string"===typeof e)vs(this,e)&&(t=t.concat(this.g.get(ws(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Rn.set=function(e,t){return gs(this),this.i=null,vs(this,e=ws(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Rn.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Rn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};function Is(e){this.l=e||_s,Mn.PerformanceNavigationTiming?e=0<(e=Mn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Mn.g&&Mn.g.Ga&&Mn.g.Ga()&&Mn.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Es,_s=10;function Ss(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xs(e){return e.h?1:e.g?e.g.size:0}function ks(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ts(e,t){e.g?e.g.add(t):e.h=t}function Cs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ns(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Yn(e.i)}function As(){}function Ds(){this.g=new As}function Os(e,t,n){const r=n||"";try{Ji(e,(function(e,n){let i=e;Vn(e)&&(i=Yr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ps(e){this.l=e.ac||null,this.j=e.jb||!1}function Ls(e,t){Gr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Is.prototype.cancel=function(){if(this.i=Ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},As.prototype.stringify=function(e){return Mn.JSON.stringify(e,void 0)},As.prototype.parse=function(e){return Mn.JSON.parse(e,void 0)},Gn(Ps,Ci),Ps.prototype.g=function(){return new Ls(this.l,this.j)},Ps.prototype.i=(Es={},function(){return Es}),Gn(Ls,Gr);var js=0;function Ms(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Fs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Us(e)}function Us(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Rn=Ls.prototype).open=function(e,t){if(this.readyState!=js)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Us(this)},Rn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Mn).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Rn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fs(this)),this.readyState=js},Rn.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Mn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ms(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Rn.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fs(this):Us(this),3==this.readyState&&Ms(this)}},Rn.Va=function(e){this.g&&(this.response=this.responseText=e,Fs(this))},Rn.Ua=function(e){this.g&&(this.response=e,Fs(this))},Rn.ga=function(){this.g&&Fs(this)},Rn.setRequestHeader=function(e,t){this.v.append(e,t)},Rn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Rn.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vs=Mn.JSON.parse;function Bs(e){Gr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zs,this.K=this.L=!1}Gn(Bs,Gr);var zs="",qs=/^https?$/i,Ks=["POST","PUT"];function Hs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ws(e),Qs(e)}function Ws(e){e.D||(e.D=!0,Qr(e,"complete"),Qr(e,"error"))}function Gs(e){if(e.h&&"undefined"!=typeof jn&&(!e.C[1]||4!=Ys(e)||2!=e.aa()))if(e.v&&4==Ys(e))li(e.Ha,0,e);else if(Qr(e,"readystatechange"),4==Ys(e)){e.h=!1;try{const l=e.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(Zi)[1]||null;if(!i&&Mn.self&&Mn.self.location){var s=Mn.self.location.protocol;i=s.substr(0,s.length-1)}r=!qs.test(i?i.toLowerCase():"")}n=r}if(n)Qr(e,"complete"),Qr(e,"success");else{e.m=6;try{var a=2<Ys(e)?e.g.statusText:""}catch(o){a=""}e.j=a+" ["+e.aa()+"]",Ws(e)}}finally{Qs(e)}}}function Qs(e,t){if(e.g){$s(e);const r=e.g,i=e.C[0]?Fn:null;e.g=null,e.C=null,t||Qr(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function $s(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Mn.clearTimeout(e.A),e.A=null)}function Ys(e){return e.g?e.g.readyState:0}function Xs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(La){return null}}function Js(e){let t="";return Cr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Js(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ss(e,t,n))}function ea(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ta(e){this.Ca=0,this.i=[],this.j=new mi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ea("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ea("baseRetryDelayMs",5e3,e),this.bb=ea("retryDelaySeedMs",1e4,e),this.$a=ea("forwardChannelMaxRetries",2,e),this.ta=ea("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Is(e&&e.concurrentRequestLimit),this.Fa=new Ds,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function na(e){if(ia(e),3==e.G){var t=e.U++,n=ts(e.F);ss(n,"SID",e.I),ss(n,"RID",t),ss(n,"TYPE","terminate"),oa(e,n),(t=new ji(e,e.j,t,void 0)).K=2,t.v=as(ts(n)),n=!1,Mn.navigator&&Mn.navigator.sendBeacon&&(n=Mn.navigator.sendBeacon(t.v.toString(),"")),!n&&Mn.Image&&((new Image).src=t.v,n=!0),n||(t.g=ba(t.l,null),t.g.da(t.v)),t.F=Date.now(),Wi(t)}ya(e)}function ra(e){e.g&&(ha(e),e.g.cancel(),e.g=null)}function ia(e){ra(e),e.u&&(Mn.clearTimeout(e.u),e.u=null),fa(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Mn.clearTimeout(e.m),e.m=null)}function sa(e){Ss(e.h)||e.m||(e.m=!0,ni(e.Ja,e),e.C=0)}function aa(e,t){var n;n=t?t.m:e.U++;const r=ts(e.F);ss(r,"SID",e.I),ss(r,"RID",n),ss(r,"AID",e.T),oa(e,r),e.o&&e.s&&Zs(r,e.o,e.s),n=new ji(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=la(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Ts(e.h,n),Bi(n,r,t)}function oa(e,t){e.ia&&Cr(e.ia,(function(e,n){ss(t,n,e)})),e.l&&Ji({},(function(e,n){ss(t,n,e)}))}function la(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Hn(e.l.Ra,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].h;const l=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),a=!1;else try{Os(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function ca(e){e.g||e.u||(e.Z=1,ni(e.Ia,e),e.A=0)}function ua(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=xi(Hn(e.Ia,e),ma(e,e.A)),e.A++,!0)}function ha(e){null!=e.B&&(Mn.clearTimeout(e.B),e.B=null)}function da(e){e.g=new ji(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=ts(e.sa);ss(t,"RID","rpc"),ss(t,"SID",e.I),ss(t,"CI",e.L?"0":"1"),ss(t,"AID",e.T),ss(t,"TYPE","xmlhttp"),oa(e,t),e.o&&e.s&&Zs(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=as(ts(t)),n.s=null,n.P=!0,zi(n,e)}function fa(e){null!=e.v&&(Mn.clearTimeout(e.v),e.v=null)}function pa(e,t){var n=null;if(e.g==t){fa(e),ha(e),e.g=null;var r=2}else{if(!ks(e.h,t))return;n=t.D,Cs(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Qr(r=bi(),new Si(r,n)),sa(e)}else ca(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(xs(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=xi(Hn(e.Ja,e,t),ma(e,e.C)),e.C++,!0))}(e,t)||2==r&&ua(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ga(e,5);break;case 4:ga(e,10);break;case 3:ga(e,6);break;default:ga(e,2)}}function ma(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function ga(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Hn(e.kb,e);n||(n=new es("//www.google.com/images/cleardot.gif"),Mn.location&&"http"==Mn.location.protocol||ns(n,"https"),as(n)),function(e,t){const n=new mi;if(Mn.Image){const r=new Image;r.onload=Wn(Rs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wn(Rs,n,r,"TestLoadImage: error",!1,t),r.onabort=Wn(Rs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wn(Rs,n,r,"TestLoadImage: timeout",!1,t),Mn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else _i(2);e.G=0,e.l&&e.l.va(t),ya(e),ia(e)}function ya(e){if(e.G=0,e.la=[],e.l){const t=Ns(e.h);0==t.length&&0==e.i.length||(Xn(e.la,t),Xn(e.la,e.i),e.h.i.length=0,Yn(e.i),e.i.length=0),e.l.ua()}}function va(e,t,n){var r=n instanceof es?ts(n):new es(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),rs(r,r.m);else{var i=Mn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new es(null,void 0);r&&ns(s,r),t&&(s.g=t),i&&rs(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&ss(r,n,t),ss(r,"VER",e.ma),oa(e,r),r}function ba(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Bs(new Ps({jb:!0})):new Bs(e.ra)).Ka(e.H),t}function wa(){}function Ia(){if(lr&&!(10<=Number(Ir)))throw Error("Environmental error: no available transport.")}function Ea(e,t){Gr.call(this),this.g=new ta(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!er(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!er(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xa(this)}function _a(e){Ri.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sa(){Pi.call(this),this.status=1}function xa(e){this.g=e}(Rn=Bs.prototype).Ka=function(e){this.L=e},Rn.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Di.g(),this.C=this.u?Ni(this.u):Ni(Di),this.g.onreadystatechange=Hn(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Hs(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Mn.FormData&&e instanceof Mn.FormData,!(0<=$n(Ks,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$s(this),0<this.B&&((this.K=function(e){return lr&&br()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hn(this.qa,this)):this.A=li(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Hs(this,s)}},Rn.qa=function(){"undefined"!=typeof jn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},Rn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qr(this,"complete"),Qr(this,"abort"),Qs(this))},Rn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qs(this,!0)),Bs.X.M.call(this)},Rn.Ha=function(){this.s||(this.F||this.v||this.l?Gs(this):this.fb())},Rn.fb=function(){Gs(this)},Rn.aa=function(){try{return 2<Ys(this)?this.g.status:-1}catch(Es){return-1}},Rn.fa=function(){try{return this.g?this.g.responseText:""}catch(Es){return""}},Rn.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vs(t)}},Rn.Ea=function(){return this.m},Rn.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Rn=ta.prototype).ma=8,Rn.G=1,Rn.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new ji(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=Nr(s),Dr(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=la(this,i,t),ss(n=ts(this.F),"RID",e),ss(n,"CVER",22),this.D&&ss(n,"X-HTTP-Session-Id",this.D),oa(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(Js(s)))+"&"+t:this.o&&Zs(n,this.o,s)),Ts(this.h,i),this.Ya&&ss(n,"TYPE","init"),this.O?(ss(n,"$req",t),ss(n,"SID","null"),i.Z=!0,Bi(i,n,null)):Bi(i,n,t),this.G=2}}else 3==this.G&&(e?aa(this,e):0==this.i.length||Ss(this.h)||aa(this))},Rn.Ia=function(){if(this.u=null,da(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=xi(Hn(this.eb,this),e)}},Rn.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_i(10),ra(this),da(this))},Rn.cb=function(){null!=this.v&&(this.v=null,ra(this),ua(this),_i(19))},Rn.kb=function(e){e?(this.j.info("Successfully pinged google.com"),_i(2)):(this.j.info("Failed to ping google.com"),_i(1))},(Rn=wa.prototype).xa=function(){},Rn.wa=function(){},Rn.va=function(){},Rn.ua=function(){},Rn.Ra=function(){},Ia.prototype.g=function(e,t){return new Ea(e,t)},Gn(Ea,Gr),Ea.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;_i(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=va(e,null,e.V),sa(e)},Ea.prototype.close=function(){na(this.g)},Ea.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yr(e),e=n);t.i.push(new class{constructor(e,t){this.h=e,this.g=t}}(t.ab++,e)),3==t.G&&sa(t)},Ea.prototype.M=function(){this.g.l=null,delete this.j,na(this.g),delete this.g,Ea.X.M.call(this)},Gn(_a,Ri),Gn(Sa,Pi),Gn(xa,wa),xa.prototype.xa=function(){Qr(this.g,"a")},xa.prototype.wa=function(e){Qr(this.g,new _a(e))},xa.prototype.va=function(e){Qr(this.g,new Sa)},xa.prototype.ua=function(){Qr(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,Ea.prototype.send=Ea.prototype.u,Ea.prototype.open=Ea.prototype.m,Ea.prototype.close=Ea.prototype.close,ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,Ti.COMPLETE="complete",Ai.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",Gr.prototype.listen=Gr.prototype.N,Bs.prototype.listenOnce=Bs.prototype.O,Bs.prototype.getLastError=Bs.prototype.Oa,Bs.prototype.getLastErrorCode=Bs.prototype.Ea,Bs.prototype.getStatus=Bs.prototype.aa,Bs.prototype.getResponseJson=Bs.prototype.Sa,Bs.prototype.getResponseText=Bs.prototype.fa,Bs.prototype.send=Bs.prototype.da,Bs.prototype.setWithCredentials=Bs.prototype.Ka;var ka=Ln.createWebChannelTransport=function(){return new Ia},Ta=Ln.getStatEventTarget=function(){return bi()},Ca=Ln.ErrorCode=ki,Na=Ln.EventType=Ti,Aa=Ln.Event=yi,Da=Ln.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Oa=Ln.FetchXmlHttpFactory=Ps,Ra=Ln.WebChannel=Ai,Pa=Ln.XhrIo=Bs;const La="@firebase/firestore";class ja{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ja.UNAUTHENTICATED=new ja(null),ja.GOOGLE_CREDENTIALS=new ja("google-credentials-uid"),ja.FIRST_PARTY=new ja("first-party-uid"),ja.MOCK_USER=new ja("mock-user");let Ma="9.15.0";const Fa=new St("@firebase/firestore");function Ua(){return Fa.logLevel}function Va(e){if(Fa.logLevel<=bt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(qa);Fa.debug("Firestore (".concat(Ma,"): ").concat(e),...i)}}function Ba(e){if(Fa.logLevel<=bt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(qa);Fa.error("Firestore (".concat(Ma,"): ").concat(e),...i)}}function za(e){if(Fa.logLevel<=bt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(qa);Fa.warn("Firestore (".concat(Ma,"): ").concat(e),...i)}}function qa(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ma,") INTERNAL ASSERTION FAILED: ")+e;throw Ba(t),new Error(t)}function Ha(e,t){e||Ka()}function Wa(e,t){return e}const Ga={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qa extends Ze{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class $a{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ya{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Xa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ja.UNAUTHENTICATED)))}shutdown(){}}class Ja{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Za{constructor(e){this.t=e,this.currentUser=ja.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $a;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $a,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Va("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Va("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $a)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Va("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ha("string"==typeof t.accessToken),new Ya(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ha(null===e||"string"==typeof e),new ja(e)}}class eo{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r,this.type="FirstParty",this.user=ja.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ha(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class to{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r}getToken(){return Promise.resolve(new eo(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable((()=>t(ja.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class no{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ro{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&Va("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.A;return this.A=e.token,Va("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Va("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?r(e):Va("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ha("string"==typeof e.token),this.A=e.token,new no(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function io(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class so{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=io(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ao(e,t){return e<t?-1:e>t?1:0}function oo(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function lo(e){return e+"\0"}class co{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qa(Ga.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qa(Ga.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qa(Ga.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qa(Ga.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return co.fromMillis(Date.now())}static fromDate(e){return co.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new co(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ao(this.nanoseconds,e.nanoseconds):ao(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class uo{constructor(e){this.timestamp=e}static fromTimestamp(e){return new uo(e)}static min(){return new uo(new co(0,0))}static max(){return new uo(new co(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ho{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ka(),void 0===n?n=e.length-t:n>e.length-t&&Ka(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ho.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ho?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fo extends ho{construct(e,t,n){return new fo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new fo(e)}static emptyPath(){return new fo([])}}const po=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mo extends ho{construct(e,t,n){return new mo(e,t,n)}static isValidIdentifier(e){return po.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mo(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Qa(Ga.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qa(Ga.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Qa(Ga.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mo(t)}static emptyPath(){return new mo([])}}class go{constructor(e){this.path=e}static fromPath(e){return new go(fo.fromString(e))}static fromName(e){return new go(fo.fromString(e).popFirst(5))}static empty(){return new go(fo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new go(new fo(e.slice()))}}class yo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function vo(e){return e.fields.find((e=>2===e.kind))}function bo(e){return e.fields.filter((e=>2!==e.kind))}yo.UNKNOWN_ID=-1;class wo{constructor(e,t){this.fieldPath=e,this.kind=t}}class Io{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Io(0,So.min())}}function Eo(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=uo.fromTimestamp(1e9===r?new co(n+1,0):new co(n,r));return new So(i,go.empty(),t)}function _o(e){return new So(e.readTime,e.key,-1)}class So{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new So(uo.min(),go.empty(),-1)}static max(){return new So(uo.max(),go.empty(),-1)}}function xo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=go.comparator(e.documentKey,t.documentKey),0!==n?n:ao(e.largestBatchId,t.largestBatchId))}const ko="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class To{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(e){if(e.code!==Ga.FAILED_PRECONDITION||e.message!==ko)throw e;Va("LocalStore","Unexpectedly lost primary lease")}class No{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ka(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new No(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof No?t:No.resolve(t)}catch(e){return No.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):No.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):No.reject(t)}static resolve(e){return new No(((t,n)=>{t(e)}))}static reject(e){return new No(((t,n)=>{n(e)}))}static waitFor(e){return new No(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=No.resolve(!1);for(const n of e)t=t.next((e=>e?No.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new No(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new No(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Ao{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new $a,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ro(e,t.error)):this.P.resolve()},this.transaction.onerror=t=>{const n=Fo(t.target.error);this.P.reject(new Ro(e,n))}}static open(e,t,n,r){try{return new Ao(t,e.transaction(r,n))}catch(e){throw new Ro(t,e)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Va("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Lo(t)}}class Do{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===Do.D(Be())&&Ba("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Va("SimpleDb","Removing database:",e),jo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Ke())return!1;if(Do.N())return!0;const e=Be(),t=Do.D(e),n=0<t&&t<10,r=Do.k(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCnpEvLUUdpUR8_b7hyHx4hnlk_rAgGO4k",REACT_APP_FIREBASE_AUTH_DOMAIN:"bmmlatam2.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://bmmlatam2-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"bmmlatam2",REACT_APP_FIREBASE_STORAGE_BUCKET:"bmmlatam2.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"786602309812",REACT_APP_FIREBASE_APP_ID:"1:786602309812:web:2dd69be36e6fc07be63fe1"})||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(e){return this.db||(Va("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ro(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Qa(Ga.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Qa(Ga.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ro(e,r))},r.onupgradeneeded=e=>{Va("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.S.$(t,r.transaction,e.oldVersion,this.version).next((()=>{Va("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.F(e);const t=Ao.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.V(),e))).catch((e=>(t.abort(e),No.reject(e)))).toPromise();return s.catch((()=>{})),await t.v,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Va("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Oo{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return jo(this.q.delete())}}class Ro extends Qa{constructor(e,t){super(Ga.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Po(e){return"IndexedDbTransactionError"===e.name}class Lo{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Va("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Va("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),jo(n)}add(e){return Va("SimpleDb","ADD",this.store.name,e,e),jo(this.store.add(e))}get(e){return jo(this.store.get(e)).next((t=>(void 0===t&&(t=null),Va("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Va("SimpleDb","DELETE",this.store.name,e),jo(this.store.delete(e))}count(){return Va("SimpleDb","COUNT",this.store.name),jo(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.H(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new No(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}J(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new No(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}Y(e,t){Va("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}tt(e){const t=this.cursor({});return new No(((n,r)=>{t.onerror=e=>{const t=Fo(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}H(e,t){const n=[];return new No(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Oo(i),a=t(i.primaryKey,i.value,s);if(a instanceof No){const e=a.catch((e=>(s.done(),No.reject(e))));n.push(e)}s.isDone?r():null===s.G?i.continue():i.continue(s.G)}})).next((()=>No.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jo(e){return new No(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Fo(e.target.error);n(t)}}))}let Mo=!1;function Fo(e){const t=Do.D(Be());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Qa("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Mo||(Mo=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Uo{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){Va("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Va("IndexBackiller","Documents written: ".concat(await this.et.st()))}catch(e){Po(e)?Va("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Co(e)}await this.nt(6e4)}))}}class Vo{constructor(e,t){this.localStore=e,this.persistence=t}async st(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.it(t,e)))}it(e,t){const n=new Set;let r=t,i=!0;return No.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Va("IndexBackiller","Processing collection: ".concat(t)),this.rt(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}rt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ot(r,n))).next((n=>(Va("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ot(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=_o(t);xo(r,n)>0&&(n=r)})),new So(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Bo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Bo.at=-1;class zo{constructor(e,t,n,r,i,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class qo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}function Ko(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ho(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Go(e){return null==e}function Qo(e){return 0===e&&1/e==-1/0}function $o(e){return"number"==typeof e&&Number.isInteger(e)&&!Qo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Yo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Yo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Yo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ao(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yo.EMPTY_BYTE_STRING=new Yo("");const Xo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(e){if(Ha(!!e),"string"==typeof e){let t=0;const n=Xo.exec(e);if(Ha(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zo(e.seconds),nanos:Zo(e.nanos)}}function Zo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function el(e){return"string"==typeof e?Yo.fromBase64String(e):Yo.fromUint8Array(e)}function tl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nl(e){const t=e.mapValue.fields.__previous_value__;return tl(t)?nl(t):t}function rl(e){const t=Jo(e.mapValue.fields.__local_write_time__.timestampValue);return new co(t.seconds,t.nanos)}const il={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sl={nullValue:"NULL_VALUE"};function al(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tl(e)?4:wl(e)?9007199254740991:10:Ka()}function ol(e,t){if(e===t)return!0;const n=al(e);if(n!==al(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rl(e).isEqual(rl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Jo(e.timestampValue),r=Jo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return el(e.bytesValue).isEqual(el(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zo(e.geoPointValue.latitude)===Zo(t.geoPointValue.latitude)&&Zo(e.geoPointValue.longitude)===Zo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zo(e.integerValue)===Zo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Zo(e.doubleValue),r=Zo(t.doubleValue);return n===r?Qo(n)===Qo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oo(e.arrayValue.values||[],t.arrayValue.values||[],ol);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ko(n)!==Ko(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ol(n[i],r[i])))return!1;return!0}(e,t);default:return Ka()}}function ll(e,t){return void 0!==(e.values||[]).find((e=>ol(e,t)))}function cl(e,t){if(e===t)return 0;const n=al(e),r=al(t);if(n!==r)return ao(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ao(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Zo(e.integerValue||e.doubleValue),r=Zo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ul(e.timestampValue,t.timestampValue);case 4:return ul(rl(e),rl(t));case 5:return ao(e.stringValue,t.stringValue);case 6:return function(e,t){const n=el(e),r=el(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ao(n[i],r[i]);if(0!==e)return e}return ao(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ao(Zo(e.latitude),Zo(t.latitude));return 0!==n?n:ao(Zo(e.longitude),Zo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=cl(n[i],r[i]);if(e)return e}return ao(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===il.mapValue&&t===il.mapValue)return 0;if(e===il.mapValue)return 1;if(t===il.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ao(r[a],s[a]);if(0!==e)return e;const t=cl(n[r[a]],i[s[a]]);if(0!==t)return t}return ao(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ka()}}function ul(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ao(e,t);const n=Jo(e),r=Jo(t),i=ao(n.seconds,r.seconds);return 0!==i?i:ao(n.nanos,r.nanos)}function hl(e){return dl(e)}function dl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Jo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?el(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,go.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=dl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(dl(e.fields[i]));return n+"}"}(e.mapValue):Ka();var t,n}function fl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function pl(e){return!!e&&"integerValue"in e}function ml(e){return!!e&&"arrayValue"in e}function gl(e){return!!e&&"nullValue"in e}function yl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vl(e){return!!e&&"mapValue"in e}function bl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ho(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=bl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function wl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Il(e){return"nullValue"in e?sl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?fl(qo.empty(),go.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ka()}function El(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?fl(qo.empty(),go.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?il:Ka()}function _l(e,t){const n=cl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Sl(e,t){const n=cl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class xl{constructor(e,t){this.position=e,this.inclusive=t}}function kl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?go.comparator(go.fromName(a.referenceValue),n.key):cl(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Tl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ol(e.position[n],t.position[n]))return!1;return!0}class Cl{}class Nl extends Cl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ul(e,t,n):"array-contains"===t?new ql(e,n):"in"===t?new Kl(e,n):"not-in"===t?new Hl(e,n):"array-contains-any"===t?new Wl(e,n):new Nl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Vl(e,n):new Bl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cl(t,this.value)):null!==t&&al(this.value)===al(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ka()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Al extends Cl{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Al(e,t)}matches(e){return Dl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt((e=>e.isInequality()));return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dl(e){return"and"===e.op}function Ol(e){return"or"===e.op}function Rl(e){return Pl(e)&&Dl(e)}function Pl(e){for(const t of e.filters)if(t instanceof Al)return!1;return!0}function Ll(e){if(e instanceof Nl)return e.field.canonicalString()+e.op.toString()+hl(e.value);{const t=e.filters.map((e=>Ll(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function jl(e,t){return e instanceof Nl?function(e,t){return t instanceof Nl&&e.op===t.op&&e.field.isEqual(t.field)&&ol(e.value,t.value)}(e,t):e instanceof Al?function(e,t){return t instanceof Al&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&jl(n,t.filters[r])),!0)}(e,t):void Ka()}function Ml(e,t){const n=e.filters.concat(t);return Al.create(n,e.op)}function Fl(e){return e instanceof Nl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(hl(e.value))}(e):e instanceof Al?function(e){return e.op.toString()+" {"+e.getFilters().map(Fl).join(" ,")+"}"}(e):"Filter"}class Ul extends Nl{constructor(e,t,n){super(e,t,n),this.key=go.fromName(n.referenceValue)}matches(e){const t=go.comparator(e.key,this.key);return this.matchesComparison(t)}}class Vl extends Nl{constructor(e,t){super(e,"in",t),this.keys=zl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Bl extends Nl{constructor(e,t){super(e,"not-in",t),this.keys=zl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function zl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>go.fromName(e.referenceValue)))}class ql extends Nl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ml(t)&&ll(t.arrayValue,this.value)}}class Kl extends Nl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ll(this.value.arrayValue,t)}}class Hl extends Nl{constructor(e,t){super(e,"not-in",t)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ll(this.value.arrayValue,t)}}class Wl extends Nl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ml(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ll(this.value.arrayValue,e)))}}class Gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ql(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class $l{constructor(e,t){this.comparator=e,this.root=t||Xl.EMPTY}insert(e,t){return new $l(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xl.BLACK,null,null))}remove(e){return new $l(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Xl.RED,this.left=null!=r?r:Xl.EMPTY,this.right=null!=i?i:Xl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Xl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Xl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ka();if(this.right.isRed())throw Ka();const e=this.left.check();if(e!==this.right.check())throw Ka();return e+(this.isRed()?0:1)}}Xl.EMPTY=null,Xl.RED=!0,Xl.BLACK=!1,Xl.EMPTY=new class{constructor(){this.size=0}get key(){throw Ka()}get value(){throw Ka()}get color(){throw Ka()}get left(){throw Ka()}get right(){throw Ka()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Xl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jl{constructor(e){this.comparator=e,this.data=new $l(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zl(this.data.getIterator())}getIteratorFrom(e){return new Zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Jl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Jl(this.comparator);return t.data=e,t}}class Zl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ec(e){return e.hasNext()?e.getNext():void 0}class tc{constructor(e){this.fields=e,e.sort(mo.comparator)}static empty(){return new tc([])}unionWith(e){let t=new Jl(mo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new tc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class nc{constructor(e){this.value=e}static empty(){return new nc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!vl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=mo.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=bl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());vl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ol(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];vl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ho(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new nc(bl(this.value))}}function rc(e){const t=[];return Ho(e.fields,((e,n)=>{const r=new mo([e]);if(vl(n)){const e=rc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new tc(t)}class ic{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ic(e,0,uo.min(),uo.min(),uo.min(),nc.empty(),0)}static newFoundDocument(e,t,n,r){return new ic(e,1,t,uo.min(),n,r,0)}static newNoDocument(e,t){return new ic(e,2,t,uo.min(),uo.min(),nc.empty(),0)}static newUnknownDocument(e,t){return new ic(e,3,t,uo.min(),uo.min(),nc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(uo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=uo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ic&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ic(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class sc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ft=null}}function ac(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new sc(e,t,n,r,i,s,a)}function oc(e){const t=Wa(e);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ll(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Go(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>hl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>hl(e))).join(",")),t.ft=e}return t.ft}function lc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ql(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!jl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tl(e.startAt,t.startAt)&&Tl(e.endAt,t.endAt)}function cc(e){return go.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function uc(e,t){return e.filters.filter((e=>e instanceof Nl&&e.field.isEqual(t)))}function hc(e,t,n){let r=sl,i=!0;for(const s of uc(e,t)){let e=sl,t=!0;switch(s.op){case"<":case"<=":e=Il(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=sl}_l({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];_l({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function dc(e,t,n){let r=il,i=!0;for(const s of uc(e,t)){let e=il,t=!0;switch(s.op){case">=":case">":e=El(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=il}Sl({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Sl({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class fc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.dt=null,this._t=null,this.startAt,this.endAt}}function pc(e,t,n,r,i,s,a,o){return new fc(e,t,n,r,i,s,a,o)}function mc(e){return new fc(e)}function gc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vc(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function bc(e){return null!==e.collectionGroup}function wc(e){const t=Wa(e);if(null===t.dt){t.dt=[];const e=vc(t),n=yc(t);if(null!==e&&null===n)e.isKeyField()||t.dt.push(new Gl(e)),t.dt.push(new Gl(mo.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.dt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Gl(mo.keyField(),e))}}}return t.dt}function Ic(e){const t=Wa(e);if(!t._t)if("F"===t.limitType)t._t=ac(t.path,t.collectionGroup,wc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of wc(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Gl(i.field,t))}const n=t.endAt?new xl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xl(t.startAt.position,t.startAt.inclusive):null;t._t=ac(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Ec(e,t){t.getFirstInequalityField(),vc(e);const n=e.filters.concat([t]);return new fc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _c(e,t,n){return new fc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sc(e,t){return lc(Ic(e),Ic(t))&&e.limitType===t.limitType}function xc(e){return"".concat(oc(Ic(e)),"|lt:").concat(e.limitType)}function kc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Fl(e))).join(", "),"]")),Go(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>hl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>hl(e))).join(",")),"Target(".concat(t,")")}(Ic(e)),"; limitType=").concat(e.limitType,")")}function Tc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):go.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=kl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wc(e),t))&&!(e.endAt&&!function(e,t,n){const r=kl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wc(e),t))}(e,t)}function Cc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nc(e){return(t,n)=>{let r=!1;for(const i of wc(e)){const e=Ac(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ac(e,t,n){const r=e.field.isKeyField()?go.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cl(r,i):Ka()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ka()}}function Dc(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qo(t)?"-0":t}}function Oc(e){return{integerValue:""+e}}function Rc(e,t){return $o(t)?Oc(t):Dc(e,t)}class Pc{constructor(){this._=void 0}}function Lc(e,t,n){return e instanceof Fc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Uc?Vc(e,t):e instanceof Bc?zc(e,t):function(e,t){const n=Mc(e,t),r=Kc(n)+Kc(e.gt);return pl(n)&&pl(e.gt)?Oc(r):Dc(e.yt,r)}(e,t)}function jc(e,t,n){return e instanceof Uc?Vc(e,t):e instanceof Bc?zc(e,t):n}function Mc(e,t){return e instanceof qc?pl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Fc extends Pc{}class Uc extends Pc{constructor(e){super(),this.elements=e}}function Vc(e,t){const n=Hc(t);for(const r of e.elements)n.some((e=>ol(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bc extends Pc{constructor(e){super(),this.elements=e}}function zc(e,t){let n=Hc(t);for(const r of e.elements)n=n.filter((e=>!ol(e,r)));return{arrayValue:{values:n}}}class qc extends Pc{constructor(e,t){super(),this.yt=e,this.gt=t}}function Kc(e){return Zo(e.integerValue||e.doubleValue)}function Hc(e){return ml(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Wc{constructor(e,t){this.field=e,this.transform=t}}class Gc{constructor(e,t){this.version=e,this.transformResults=t}}class Qc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qc}static exists(e){return new Qc(void 0,e)}static updateTime(e){return new Qc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yc{}function Xc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ou(e.key,Qc.none()):new nu(e.key,e.data,Qc.none());{const n=e.data,r=nc.empty();let i=new Jl(mo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ru(e.key,r,new tc(i.toArray()),Qc.none())}}function Jc(e,t,n){e instanceof nu?function(e,t,n){const r=e.value.clone(),i=su(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ru?function(e,t,n){if(!$c(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=su(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(iu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zc(e,t,n,r){return e instanceof nu?function(e,t,n,r){if(!$c(e.precondition,t))return n;const i=e.value.clone(),s=au(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ru?function(e,t,n,r){if(!$c(e.precondition,t))return n;const i=au(e.fieldTransforms,r,t),s=t.data;return s.setAll(iu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return $c(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function eu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Mc(r.transform,e||null);null!=i&&(null===n&&(n=nc.empty()),n.set(r.field,i))}return n||null}function tu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Uc&&t instanceof Uc||e instanceof Bc&&t instanceof Bc?oo(e.elements,t.elements,ol):e instanceof qc&&t instanceof qc?ol(e.gt,t.gt):e instanceof Fc&&t instanceof Fc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nu extends Yc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ru extends Yc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function su(e,t,n){const r=new Map;Ha(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,jc(a,o,n[i]))}return r}function au(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Lc(e,s,t))}return r}class ou extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lu extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cu{constructor(e){this.count=e}}var uu,hu;function du(e){switch(e){default:return Ka();case Ga.CANCELLED:case Ga.UNKNOWN:case Ga.DEADLINE_EXCEEDED:case Ga.RESOURCE_EXHAUSTED:case Ga.INTERNAL:case Ga.UNAVAILABLE:case Ga.UNAUTHENTICATED:return!1;case Ga.INVALID_ARGUMENT:case Ga.NOT_FOUND:case Ga.ALREADY_EXISTS:case Ga.PERMISSION_DENIED:case Ga.FAILED_PRECONDITION:case Ga.ABORTED:case Ga.OUT_OF_RANGE:case Ga.UNIMPLEMENTED:case Ga.DATA_LOSS:return!0}}function fu(e){if(void 0===e)return Ba("GRPC error has no .code"),Ga.UNKNOWN;switch(e){case uu.OK:return Ga.OK;case uu.CANCELLED:return Ga.CANCELLED;case uu.UNKNOWN:return Ga.UNKNOWN;case uu.DEADLINE_EXCEEDED:return Ga.DEADLINE_EXCEEDED;case uu.RESOURCE_EXHAUSTED:return Ga.RESOURCE_EXHAUSTED;case uu.INTERNAL:return Ga.INTERNAL;case uu.UNAVAILABLE:return Ga.UNAVAILABLE;case uu.UNAUTHENTICATED:return Ga.UNAUTHENTICATED;case uu.INVALID_ARGUMENT:return Ga.INVALID_ARGUMENT;case uu.NOT_FOUND:return Ga.NOT_FOUND;case uu.ALREADY_EXISTS:return Ga.ALREADY_EXISTS;case uu.PERMISSION_DENIED:return Ga.PERMISSION_DENIED;case uu.FAILED_PRECONDITION:return Ga.FAILED_PRECONDITION;case uu.ABORTED:return Ga.ABORTED;case uu.OUT_OF_RANGE:return Ga.OUT_OF_RANGE;case uu.UNIMPLEMENTED:return Ga.UNIMPLEMENTED;case uu.DATA_LOSS:return Ga.DATA_LOSS;default:return Ka()}}(hu=uu||(uu={}))[hu.OK=0]="OK",hu[hu.CANCELLED=1]="CANCELLED",hu[hu.UNKNOWN=2]="UNKNOWN",hu[hu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hu[hu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hu[hu.NOT_FOUND=5]="NOT_FOUND",hu[hu.ALREADY_EXISTS=6]="ALREADY_EXISTS",hu[hu.PERMISSION_DENIED=7]="PERMISSION_DENIED",hu[hu.UNAUTHENTICATED=16]="UNAUTHENTICATED",hu[hu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hu[hu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hu[hu.ABORTED=10]="ABORTED",hu[hu.OUT_OF_RANGE=11]="OUT_OF_RANGE",hu[hu.UNIMPLEMENTED=12]="UNIMPLEMENTED",hu[hu.INTERNAL=13]="INTERNAL",hu[hu.UNAVAILABLE=14]="UNAVAILABLE",hu[hu.DATA_LOSS=15]="DATA_LOSS";class pu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Wo(this.inner)}size(){return this.innerSize}}const mu=new $l(go.comparator);function gu(){return mu}const yu=new $l(go.comparator);function vu(){let e=yu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function bu(e){let t=yu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function wu(){return Eu()}function Iu(){return Eu()}function Eu(){return new pu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const _u=new $l(go.comparator),Su=new Jl(go.comparator);function xu(){let e=Su;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ku=new Jl(ao);function Tu(){return ku}class Cu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Cu(uo.min(),r,Tu(),gu(),xu())}}class Nu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Nu(n,t,xu(),xu(),xu())}}class Au{constructor(e,t,n,r){this.It=e,this.removedTargetIds=t,this.key=n,this.Tt=r}}class Du{constructor(e,t){this.targetId=e,this.Et=t}}class Ou{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yo.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ru{constructor(){this.At=0,this.Rt=ju(),this.bt=Yo.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=xu(),t=xu(),n=xu();return this.Rt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ka()}})),new Nu(this.bt,this.Pt,e,t,n)}xt(){this.vt=!1,this.Rt=ju()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Pu{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=gu(),this.qt=Lu(),this.Ut=new Jl(ao)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,(t=>{const n=this.Wt(t);switch(e.state){case 0:this.zt(t)&&n.Dt(e.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(e.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(n.Ft(),n.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),n.Dt(e.resumeToken));break;default:Ka()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach(((e,n)=>{this.zt(n)&&t(n)}))}Jt(e){const t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){const e=r.target;if(cc(e))if(0===n){const n=new go(e.path);this.Qt(t,n,ic.newNoDocument(n,uo.min()))}else Ha(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach(((n,r)=>{const i=this.Yt(r);if(i){if(n.current&&cc(i.target)){const t=new go(i.target.path);null!==this.Lt.get(t)||this.te(r,t)||this.Qt(r,t,ic.newNoDocument(t,e))}n.St&&(t.set(r,n.Ct()),n.xt())}}));let n=xu();this.qt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Yt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Lt.forEach(((t,n)=>n.setReadTime(e)));const r=new Cu(e,t,this.Ut,this.Lt,n);return this.Lt=gu(),this.qt=Lu(),this.Ut=new Jl(ao),r}Gt(e,t){if(!this.zt(e))return;const n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,n){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Ru,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Jl(ao),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Va("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Ru),this.$t.getRemoteKeysForTarget(e).forEach((t=>{this.Qt(e,t,null)}))}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Lu(){return new $l(go.comparator)}function ju(){return new $l(go.comparator)}const Mu={asc:"ASCENDING",desc:"DESCENDING"},Fu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uu={and:"AND",or:"OR"};class Vu{constructor(e,t){this.databaseId=e,this.wt=t}}function Bu(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function zu(e,t){return e.wt?t.toBase64():t.toUint8Array()}function qu(e,t){return Bu(e,t.toTimestamp())}function Ku(e){return Ha(!!e),uo.fromTimestamp(function(e){const t=Jo(e);return new co(t.seconds,t.nanos)}(e))}function Hu(e,t){return function(e){return new fo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Wu(e){const t=fo.fromString(e);return Ha(ph(t)),t}function Gu(e,t){return Hu(e.databaseId,t.path)}function Qu(e,t){const n=Wu(t);if(n.get(1)!==e.databaseId.projectId)throw new Qa(Ga.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qa(Ga.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new go(Ju(n))}function $u(e,t){return Hu(e.databaseId,t)}function Yu(e){const t=Wu(e);return 4===t.length?fo.emptyPath():Ju(t)}function Xu(e){return new fo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ju(e){return Ha(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Zu(e,t,n){return{name:Gu(e,t),fields:n.value.mapValue.fields}}function eh(e,t,n){const r=Qu(e,t.name),i=Ku(t.updateTime),s=t.createTime?Ku(t.createTime):uo.min(),a=new nc({mapValue:{fields:t.fields}}),o=ic.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function th(e,t){let n;if(t instanceof nu)n={update:Zu(e,t.key,t.value)};else if(t instanceof ou)n={delete:Gu(e,t.key)};else if(t instanceof ru)n={update:Zu(e,t.key,t.data),updateMask:fh(t.fieldMask)};else{if(!(t instanceof lu))return Ka();n={verify:Gu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Fc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Uc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qc)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Ka()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:qu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ka()}(e,t.precondition)),n}function nh(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Qc.updateTime(Ku(e.updateTime)):void 0!==e.exists?Qc.exists(e.exists):Qc.none()}(t.currentDocument):Qc.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Ha("REQUEST_TIME"===t.setToServerValue),n=new Fc;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Uc(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Bc(e)}else"increment"in t?n=new qc(e,t.increment):Ka();const r=mo.fromServerFormat(t.fieldPath);return new Wc(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Qu(e,t.update.name),s=new nc({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new tc(t.map((e=>mo.fromServerFormat(e))))}(t.updateMask);return new ru(i,s,e,n,r)}return new nu(i,s,n,r)}if(t.delete){const r=Qu(e,t.delete);return new ou(r,n)}if(t.verify){const r=Qu(e,t.verify);return new lu(r,n)}return Ka()}function rh(e,t){return{documents:[$u(e,t.path)]}}function ih(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$u(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$u(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return dh(Al.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:uh(e.field),direction:oh(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(e,t){return e.wt||Go(t)?t:{value:t}}(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sh(e){let t=Yu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ha(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ah(e);return t instanceof Al&&Rl(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Gl(hh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Go(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new xl(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new xl(n,t)}(n.endAt)),pc(t,i,a,s,o,"F",l,c)}function ah(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hh(e.unaryFilter.field);return Nl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=hh(e.unaryFilter.field);return Nl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hh(e.unaryFilter.field);return Nl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=hh(e.unaryFilter.field);return Nl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ka()}}(e):void 0!==e.fieldFilter?function(e){return Nl.create(hh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ka()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Al.create(e.compositeFilter.filters.map((e=>ah(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ka()}}(e.compositeFilter.op))}(e):Ka()}function oh(e){return Mu[e]}function lh(e){return Fu[e]}function ch(e){return Uu[e]}function uh(e){return{fieldPath:e.canonicalString()}}function hh(e){return mo.fromServerFormat(e.fieldPath)}function dh(e){return e instanceof Nl?function(e){if("=="===e.op){if(yl(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NAN"}};if(gl(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yl(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NOT_NAN"}};if(gl(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(e.field),op:lh(e.op),value:e.value}}}(e):e instanceof Al?function(e){const t=e.getFilters().map((e=>dh(e)));return 1===t.length?t[0]:{compositeFilter:{op:ch(e.op),filters:t}}}(e):Ka()}function fh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ph(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function mh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=yh(t)),t=gh(e.get(n),t);return yh(t)}function gh(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function yh(e){return e+"\x01\x01"}function vh(e){const t=e.length;if(Ha(t>=2),2===t)return Ha("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),fo.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Ka(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Ka()}s=t+2}return new fo(r)}const bh=["userId","batchId"];function wh(e,t){return[e,mh(t)]}function Ih(e,t,n){return[e,mh(t),n]}const Eh={},_h=["prefixPath","collectionGroup","readTime","documentId"],Sh=["prefixPath","collectionGroup","documentId"],xh=["collectionGroup","readTime","prefixPath","documentId"],kh=["canonicalId","targetId"],Th=["targetId","path"],Ch=["path","targetId"],Nh=["collectionId","parent"],Ah=["indexId","uid"],Dh=["uid","sequenceNumber"],Oh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rh=["indexId","uid","orderedDocumentKey"],Ph=["userId","collectionPath","documentId"],Lh=["userId","collectionPath","largestBatchId"],jh=["userId","collectionGroup","largestBatchId"],Mh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fh=[...Mh,"documentOverlays"],Uh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vh=Uh,Bh=[...Vh,"indexConfiguration","indexState","indexEntries"];class zh extends To{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function qh(e,t){const n=Wa(e);return Do.M(n.se,t)}class Kh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Jc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Iu();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Xc(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(uo.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xu())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((e,t)=>tu(e,t)))&&oo(this.baseMutations,e.baseMutations,((e,t)=>tu(e,t)))}}class Hh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ha(e.mutations.length===n.length);let r=_u;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Hh(e,t,n,r)}}class Wh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Gh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uo.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:uo.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Yo.EMPTY_BYTE_STRING;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Gh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Qh{constructor(e){this.ie=e}}function $h(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Gu(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Bu(e,t.version.toTimestamp()),createTime:Bu(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Xh(t.version)};else{if(!t.isUnknownDocument())return Ka();r.unknownDocument={path:n.path.toArray(),version:Xh(t.version)}}return r}function Yh(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Xh(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Jh(e){const t=new co(e.seconds,e.nanoseconds);return uo.fromTimestamp(t)}function Zh(e,t){const n=(t.baseMutations||[]).map((t=>nh(e.ie,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>nh(e.ie,t))),i=co.fromMillis(t.localWriteTimeMs);return new Kh(t.batchId,i,n,r)}function ed(e){const t=Jh(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Jh(e.lastLimboFreeSnapshotVersion):uo.min();let r;var i;return void 0!==e.query.documents?(Ha(1===(i=e.query).documents.length),r=Ic(mc(Yu(i.documents[0])))):r=function(e){return Ic(sh(e))}(e.query),new Gh(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Yo.fromBase64String(e.resumeToken))}function td(e,t){const n=Xh(t.snapshotVersion),r=Xh(t.lastLimboFreeSnapshotVersion);let i;i=cc(t.target)?rh(e.ie,t.target):ih(e.ie,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:oc(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function nd(e){const t=sh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_c(t,t.limit,"L"):t}function rd(e,t){return new Wh(t.largestBatchId,nh(e.ie,t.overlayMutation))}function id(e,t){const n=t.path.lastSegment();return[e,mh(t.path.popLast()),n]}function sd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Xh(r.readTime),documentKey:mh(r.documentKey.path),largestBatchId:r.largestBatchId}}class ad{getBundleMetadata(e,t){return od(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Jh(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return od(e).put({bundleId:(n=t).id,createTime:Xh(Ku(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return ld(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:nd(t.bundledQuery),readTime:Jh(t.readTime)};var t}))}saveNamedQuery(e,t){return ld(e).put(function(e){return{name:e.name,readTime:Xh(Ku(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function od(e){return qh(e,"bundles")}function ld(e){return qh(e,"namedQueries")}class cd{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){const n=t.uid||"";return new cd(e,n)}getOverlay(e,t){return ud(e).get(id(this.userId,t)).next((e=>e?rd(this.yt,e):null))}getOverlays(e,t){const n=wu();return No.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Wh(t,i);r.push(this.oe(e,s))})),No.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(mh(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ud(e).Y("collectionPathOverlayIndex",r))})),No.waitFor(i)}getOverlaysForCollection(e,t,n){const r=wu(),i=mh(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ud(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=rd(this.yt,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=wu();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ud(e).Z({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=rd(this.yt,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}oe(e,t){return ud(e).put(function(e,t,n){const[r,i,s]=id(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:th(e.ie,n.mutation)}}(this.yt,this.userId,t))}}function ud(e){return qh(e,"documentOverlays")}class hd{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Zo(e.integerValue));else if("doubleValue"in e){const n=Zo(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Qo(n)?t.le(0):t.le(n))}else if("timestampValue"in e){const n=e.timestampValue;this.he(t,20),"string"==typeof n?t.fe(n):(t.fe("".concat(n.seconds||"")),t.le(n.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(el(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.he(t,45),t.le(n.latitude||0),t.le(n.longitude||0)}else"mapValue"in e?wl(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ka()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const n=e.fields||{};this.he(t,55);for(const r of Object.keys(n))this.de(r,t),this.ce(n[r],t)}ye(e,t){const n=e.values||[];this.he(t,50);for(const r of n)this.ce(r,t)}me(e,t){this.he(t,37),go.fromName(e).path.forEach((e=>{this.he(t,60),this.pe(e,t)}))}he(e,t){e.le(t)}_e(e){e.le(2)}}function dd(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function fd(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=dd(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}hd.Ie=new hd;class pd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ee(n.value),n=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.be(n.value),n=t.next();this.Pe()}ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ee(e);else if(e<2048)this.Ee(960|e>>>6),this.Ee(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|e>>>12),this.Ee(128|63&e>>>6),this.Ee(128|63&e);else{const e=t.codePointAt(0);this.Ee(240|e>>>18),this.Ee(128|63&e>>>12),this.Ee(128|63&e>>>6),this.Ee(128|63&e)}}this.Ae()}Ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.be(e);else if(e<2048)this.be(960|e>>>6),this.be(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.be(480|e>>>12),this.be(128|63&e>>>6),this.be(128|63&e);else{const e=t.codePointAt(0);this.be(240|e>>>18),this.be(128|63&e>>>12),this.be(128|63&e>>>6),this.be(128|63&e)}}this.Pe()}Se(e){const t=this.De(e),n=fd(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),n=fd(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class md{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class gd{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class yd{constructor(){this.$e=new pd,this.Be=new md(this.$e),this.Le=new gd(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class vd{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new vd(this.indexId,this.documentKey,this.arrayValue,n)}}function bd(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=wd(e.arrayValue,t.arrayValue),0!==n?n:(n=wd(e.directionalValue,t.directionalValue),0!==n?n:go.comparator(e.documentKey,t.documentKey)))}function wd(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Id{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const e=t;e.isInequality()?this.Qe=e:this.Ge.push(e)}}je(e){Ha(e.collectionGroup===this.collectionId);const t=vo(e);if(void 0!==t&&!this.We(t))return!1;const n=bo(e);let r=0,i=0;for(;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){const e=n[r];if(!this.ze(this.Qe,e)||!this.He(this.Ke[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],e))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ed(e){var t,n;if(Ha(e instanceof Nl||e instanceof Al),e instanceof Nl){if(e instanceof Kl){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Nl.create(e.field,"==",t))))||[];return Al.create(r,"or")}return e}const r=e.filters.map((e=>Ed(e)));return Al.create(r,e.op)}function _d(e){if(0===e.getFilters().length)return[];const t=Td(Ed(e));return Ha(kd(t)),Sd(t)||xd(t)?[t]:t.getFilters()}function Sd(e){return e instanceof Nl}function xd(e){return e instanceof Al&&Rl(e)}function kd(e){return Sd(e)||xd(e)||function(e){if(e instanceof Al&&Ol(e)){for(const t of e.getFilters())if(!Sd(t)&&!xd(t))return!1;return!0}return!1}(e)}function Td(e){if(Ha(e instanceof Nl||e instanceof Al),e instanceof Nl)return e;if(1===e.filters.length)return Td(e.filters[0]);const t=e.filters.map((e=>Td(e)));let n=Al.create(t,e.op);return n=Ad(n),kd(n)?n:(Ha(n instanceof Al),Ha(Dl(n)),Ha(n.filters.length>1),n.filters.reduce(((e,t)=>Cd(e,t))))}function Cd(e,t){let n;return Ha(e instanceof Nl||e instanceof Al),Ha(t instanceof Nl||t instanceof Al),n=e instanceof Nl?t instanceof Nl?function(e,t){return Al.create([e,t],"and")}(e,t):Nd(e,t):t instanceof Nl?Nd(t,e):function(e,t){if(Ha(e.filters.length>0&&t.filters.length>0),Dl(e)&&Dl(t))return Ml(e,t.getFilters());const n=Ol(e)?e:t,r=Ol(e)?t:e,i=n.filters.map((e=>Cd(e,r)));return Al.create(i,"or")}(e,t),Ad(n)}function Nd(e,t){if(Dl(t))return Ml(t,e.getFilters());{const n=t.filters.map((t=>Cd(e,t)));return Al.create(n,"or")}}function Ad(e){if(Ha(e instanceof Nl||e instanceof Al),e instanceof Nl)return e;const t=e.getFilters();if(1===t.length)return Ad(t[0]);if(Pl(e))return e;const n=t.map((e=>Ad(e))),r=[];return n.forEach((t=>{t instanceof Nl?r.push(t):t instanceof Al&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Al.create(r,e.op)}class Dd{constructor(){this.Je=new Od}addToCollectionParentIndex(e,t){return this.Je.add(t),No.resolve()}getCollectionParents(e,t){return No.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return No.resolve()}deleteFieldIndex(e,t){return No.resolve()}getDocumentsMatchingTarget(e,t){return No.resolve(null)}getIndexType(e,t){return No.resolve(0)}getFieldIndexes(e,t){return No.resolve([])}getNextCollectionGroupToUpdate(e){return No.resolve(null)}getMinOffset(e,t){return No.resolve(So.min())}getMinOffsetFromCollectionGroup(e,t){return No.resolve(So.min())}updateCollectionGroup(e,t,n){return No.resolve()}updateIndexEntries(e,t){return No.resolve()}}class Od{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Jl(fo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Jl(fo.comparator)).toArray()}}const Rd=new Uint8Array(0);class Pd{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Od,this.Xe=new pu((e=>oc(e)),((e,t)=>lc(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ye.add(t)}));const i={collectionId:n,parent:mh(r)};return Ld(e).put(i)}return No.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[lo(t),""],!1,!0);return Ld(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(vh(r.parent))}return n}))}addFieldIndex(e,t){const n=Md(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Fd(e);return i.next((e=>{n.put(sd(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Md(e),r=Fd(e),i=jd(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=jd(e);let r=!0;const i=new Map;return No.forEach(this.Ze(t),(t=>this.tn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=xu();const r=[];return No.forEach(i,((i,s)=>{var a;Va("IndexedDbIndexManager","Using index ".concat((a=i,"id=".concat(a.indexId,"|cg=").concat(a.collectionGroup,"|f=").concat(a.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(oc(t)));const o=function(e,t){const n=vo(t);if(void 0===n)return null;for(const r of uc(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of bo(t))for(const t of uc(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of bo(t)){const t=0===i.kind?hc(e,i.fieldPath,e.startAt):dc(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new xl(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of bo(t)){const t=0===i.kind?dc(e,i.fieldPath,e.endAt):hc(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new xl(n,r)}(s,i),h=this.en(i,s,c),d=this.en(i,s,u),f=this.nn(i,s,l),p=this.sn(i.indexId,o,h,c.inclusive,d,u.inclusive,f);return No.forEach(p,(i=>n.J(i,t.limit).next((t=>{t.forEach((t=>{const n=go.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return No.resolve(null)}))}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:_d(Al.create(e.filters,"and")).map((t=>ac(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.Xe.set(e,t),t)}sn(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.rn(t[u/l]):Rd,h=this.on(e,o,n[u%l],r),d=this.un(e,o,i[u%l],s),f=a.map((t=>this.on(e,o,t,!0)));c.push(...this.createRange(h,d,f))}return c}on(e,t,n,r){const i=new vd(e,go.empty(),t,n);return r?i:i.Ue()}un(e,t,n,r){const i=new vd(e,go.empty(),t,n);return r?i.Ue():i}tn(e,t){const n=new Id(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.je(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Ze(t);return No.forEach(r,(t=>this.tn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Jl(mo.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}cn(e,t){const n=new yd;for(const r of bo(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.qe(r.kind);hd.Ie.ue(e,i)}return n.Fe()}rn(e){const t=new yd;return hd.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const n=new yd;return hd.Ie.ue(fl(this.databaseId,t),n.qe(function(e){const t=bo(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}nn(e,t,n){if(null===n)return[];let r=[];r.push(new yd);let i=0;for(const s of bo(e)){const e=n[i++];for(const n of r)if(this.hn(t,s.fieldPath)&&ml(e))r=this.ln(r,s,e);else{const t=n.qe(s.kind);hd.Ie.ue(e,t)}}return this.fn(r)}en(e,t,n){return this.nn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Fe();return t}ln(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new yd;n.seed(e.Fe()),hd.Ie.ue(s,n.qe(t.kind)),i.push(n)}return i}hn(e,t){return!!e.filters.find((e=>e instanceof Nl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Md(e),r=Fd(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return No.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Io(t.sequenceNumber,new So(Jh(t.readTime),new go(vh(t.documentKey)),t.largestBatchId)):Io.empty(),r=e.fields.map((e=>{let[t,n]=e;return new wo(mo.fromServerFormat(t),n)}));return new yo(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ao(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Md(e),i=Fd(e);return this.dn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>No.forEach(t,(t=>i.put(sd(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return No.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?No.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),No.forEach(i,(n=>this._n(e,t,n).next((t=>{const i=this.wn(r,n);return t.isEqual(i)?No.resolve():this.mn(e,r,n,t,i)})))))))}))}gn(e,t,n,r){return jd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}yn(e,t,n,r){return jd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}_n(e,t,n){const r=jd(e);let i=new Jl(bd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},((e,r)=>{i=i.add(new vd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}wn(e,t){let n=new Jl(bd);const r=this.cn(t,e);if(null==r)return n;const i=vo(t);if(null!=i){const s=e.data.field(i.fieldPath);if(ml(s))for(const i of s.arrayValue.values||[])n=n.add(new vd(t.indexId,e.key,this.rn(i),r))}else n=n.add(new vd(t.indexId,e.key,Rd,r));return n}mn(e,t,n,r,i){Va("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=ec(s),l=ec(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=ec(a)):t?(i(o),o=ec(s)):(o=ec(s),l=ec(a))}}(r,i,bd,(r=>{s.push(this.gn(e,t,n,r))}),(r=>{s.push(this.yn(e,t,n,r))})),No.waitFor(s)}dn(e){let t=1;return Fd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>bd(e,t))).filter(((e,t,n)=>!t||0!==bd(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=bd(s,e),i=bd(s,t);if(0===n)r[0]=e.Ue();else if(n>0&&i<0)r.push(s),r.push(s.Ue());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.pn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Rd,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Rd,[]];i.push(IDBKeyRange.bound(e,t))}return i}pn(e,t){return bd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ud)}getMinOffset(e,t){return No.mapArray(this.Ze(t),(t=>this.tn(e,t).next((e=>e||Ka())))).next(Ud)}}function Ld(e){return qh(e,"collectionParents")}function jd(e){return qh(e,"indexEntries")}function Md(e){return qh(e,"indexConfiguration")}function Fd(e){return qh(e,"indexState")}function Ud(e){Ha(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;xo(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new So(t.readTime,t.documentKey,n)}const Vd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bd{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Bd(e,Bd.DEFAULT_COLLECTION_PERCENTILE,Bd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zd(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Z({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{Ha(1===o)})));const c=[];for(const u of n.mutations){const e=Ih(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return No.waitFor(s).next((()=>c))}function qd(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ka();t=e.noDocument}return JSON.stringify(t).length}Bd.DEFAULT_COLLECTION_PERCENTILE=10,Bd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bd.DEFAULT=new Bd(41943040,Bd.DEFAULT_COLLECTION_PERCENTILE,Bd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bd.DISABLED=new Bd(-1,0,0);class Kd{constructor(e,t,n,r){this.userId=e,this.yt=t,this.indexManager=n,this.referenceDelegate=r,this.In={}}static re(e,t,n,r){Ha(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Kd(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wd(e).Z({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Gd(e),s=Wd(e);return s.add({}).next((a=>{Ha("number"==typeof a);const o=new Kh(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>th(e.ie,t))),i=n.mutations.map((t=>th(e.ie,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.yt,this.userId,o),c=[];let u=new Jl(((e,t)=>ao(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ih(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Eh))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.In[a]=o.keys()})),No.waitFor(c).next((()=>o))}))}lookupMutationBatch(e,t){return Wd(e).get(t).next((e=>e?(Ha(e.userId===this.userId),Zh(this.yt,e)):null))}Tn(e,t){return this.In[t]?No.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.In[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Wd(e).Z({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Ha(t.batchId>=n),i=Zh(this.yt,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Wd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wd(e).W("userMutationsIndex",t).next((e=>e.map((e=>Zh(this.yt,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=wh(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Gd(e).Z({range:r},((n,r,s)=>{const[a,o,l]=n,c=vh(o);if(a===this.userId&&t.path.isEqual(c))return Wd(e).get(l).next((e=>{if(!e)throw Ka();Ha(e.userId===this.userId),i.push(Zh(this.yt,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Jl(ao);const r=[];return t.forEach((t=>{const i=wh(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=Gd(e).Z({range:s},((e,r,i)=>{const[s,a,o]=e,l=vh(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),No.waitFor(r).next((()=>this.En(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=wh(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Jl(ao);return Gd(e).Z({range:s},((e,t,i)=>{const[s,o,l]=e,c=vh(o);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.En(e,a)))}En(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Wd(e).get(t).next((e=>{if(null===e)throw Ka();Ha(e.userId===this.userId),n.push(Zh(this.yt,e))})))})),No.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return zd(e.se,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.An(t.batchId)})),No.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return No.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Gd(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=vh(e[1]);r.push(t)}else n.done()})).next((()=>{Ha(0===r.length)}))}))}containsKey(e,t){return Hd(e,this.userId,t)}Rn(e){return Qd(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Hd(e,t,n){const r=wh(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Gd(e).Z({range:s,X:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function Wd(e){return qh(e,"mutations")}function Gd(e){return qh(e,"documentMutations")}function Qd(e){return qh(e,"mutationQueues")}class $d{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new $d(0)}static vn(){return new $d(-1)}}class Yd{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next((t=>{const n=new $d(t.highestTargetId);return t.highestTargetId=n.next(),this.Sn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Vn(e).next((e=>uo.fromTimestamp(new co(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Vn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Vn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r))))}addTargetData(e,t){return this.Dn(e,t).next((()=>this.Vn(e).next((n=>(n.targetCount+=1,this.Cn(t,n),this.Sn(e,n))))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Xd(e).delete(t.targetId))).next((()=>this.Vn(e))).next((t=>(Ha(t.targetCount>0),t.targetCount-=1,this.Sn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Xd(e).Z(((s,a)=>{const o=ed(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>No.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Xd(e).Z(((e,n)=>{const r=ed(n);t(r)}))}Vn(e){return Jd(e).get("targetGlobalKey").next((e=>(Ha(null!==e),e)))}Sn(e,t){return Jd(e).put("targetGlobalKey",t)}Dn(e,t){return Xd(e).put(td(this.yt,t))}Cn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Vn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=oc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Xd(e).Z({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=ed(n);lc(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Zd(e);return t.forEach((t=>{const s=mh(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),No.waitFor(r)}removeMatchingKeys(e,t,n){const r=Zd(e);return No.forEach(t,(t=>{const i=mh(t.path);return No.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Zd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Zd(e);let i=xu();return r.Z({range:n,X:!0},((e,t,n)=>{const r=vh(e[1]),s=new go(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=mh(t.path),r=IDBKeyRange.bound([n],[lo(n)],!1,!0);let i=0;return Zd(e).Z({index:"documentTargetsIndex",X:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ne(e,t){return Xd(e).get(t).next((e=>e?ed(e):null))}}function Xd(e){return qh(e,"targets")}function Jd(e){return qh(e,"targetGlobal")}function Zd(e){return qh(e,"targetDocuments")}function ef(e,t){let[n,r]=e,[i,s]=t;const a=ao(n,i);return 0===a?ao(r,s):a}class tf{constructor(e){this.xn=e,this.buffer=new Jl(ef),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ef(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){Va("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Po(e)?Va("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Co(e)}await this.Fn(3e5)}))}}class rf{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return No.resolve(Bo.at);const n=new tf(t);return this.$n.forEachTarget(e,(e=>n.On(e.sequenceNumber))).next((()=>this.$n.Ln(e,(e=>n.On(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.$n.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Va("LruGarbageCollector","Garbage collection skipped; disabled"),No.resolve(Vd)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Va("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Vd):this.qn(e,t)))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Va("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ua()<=bt.DEBUG&&Va("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),No.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class sf{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new rf(e,t)}(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Un(e){let t=0;return this.Ln(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,((e,n)=>t(n)))}addReference(e,t,n){return af(e,n)}removeReference(e,t,n){return af(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return af(e,t)}Gn(e,t){return function(e,t){let n=!1;return Qd(e).tt((r=>Hd(e,r,t).next((e=>(e&&(n=!0),No.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Kn(e,((s,a)=>{if(a<=t){const t=this.Gn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,uo.min()),Zd(e).delete([0,mh(s.path)]))))}));r.push(t)}})).next((()=>No.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return af(e,t)}Kn(e,t){const n=Zd(e);let r,i=Bo.at;return n.Z({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==Bo.at&&t(new go(vh(r)),i),i=l,r=o):i=Bo.at})).next((()=>{i!==Bo.at&&t(new go(vh(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function af(e,t){return Zd(e).put(function(e,t){return{targetId:0,path:mh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class of{constructor(){this.changes=new pu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ic.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?No.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lf{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return df(e).put(n)}removeEntry(e,t,n){return df(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Yh(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Qn(e,n))))}getEntry(e,t){let n=ic.newInvalidDocument(t);return df(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ff(t))},((e,r)=>{n=this.jn(t,r)})).next((()=>n))}Wn(e,t){let n={size:0,document:ic.newInvalidDocument(t)};return df(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ff(t))},((e,r)=>{n={document:this.jn(t,r),size:qd(r)}})).next((()=>n))}getEntries(e,t){let n=gu();return this.zn(e,t,((e,t)=>{const r=this.jn(e,t);n=n.insert(e,r)})).next((()=>n))}Hn(e,t){let n=gu(),r=new $l(go.comparator);return this.zn(e,t,((e,t)=>{const i=this.jn(e,t);n=n.insert(e,i),r=r.insert(e,qd(t))})).next((()=>({documents:n,Jn:r})))}zn(e,t,n){if(t.isEmpty())return No.resolve();let r=new Jl(mf);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(ff(r.first()),ff(r.last())),s=r.getIterator();let a=s.getNext();return df(e).Z({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=go.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&mf(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.j(ff(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),Yh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return df(e).W(IDBKeyRange.bound(r,i,!0)).next((e=>{let t=gu();for(const n of e){const e=this.jn(go.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t}))}getAllFromCollectionGroup(e,t,n,r){let i=gu();const s=pf(t,n),a=pf(t,So.max());return df(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.jn(go.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new uf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return hf(e).get("remoteDocumentGlobalKey").next((e=>(Ha(!!e),e)))}Qn(e,t){return hf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const e=function(e,t){let n;if(t.document)n=eh(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=go.fromSegments(t.noDocument.path),r=Jh(t.noDocument.readTime);n=ic.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ka();{const e=go.fromSegments(t.unknownDocument.path),r=Jh(t.unknownDocument.version);n=ic.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new co(e[0],e[1]);return uo.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!e.isNoDocument()||!e.version.isEqual(uo.min()))return e}return ic.newInvalidDocument(e)}}function cf(e){return new lf(e)}class uf extends of{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new pu((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Jl(((e,t)=>ao(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.Xn.get(i);if(t.push(this.Yn.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=$h(this.Yn.yt,s);r=r.add(i.path.popLast());const l=qd(o);n+=l-a.size,t.push(this.Yn.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=$h(this.Yn.yt,s.convertToNoDocument(uo.min()));t.push(this.Yn.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Yn.updateMetadata(e,n)),No.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next((e=>(this.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next((e=>{let{documents:t,Jn:n}=e;return n.forEach(((e,n)=>{this.Xn.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function hf(e){return qh(e,"remoteDocumentGlobal")}function df(e){return qh(e,"remoteDocumentsV14")}function ff(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pf(e,t){const n=t.documentKey.path.toArray();return[e,Yh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mf(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ao(n[s],r[s]),i)return i;return i=ao(n.length,r.length),i||(i=ao(n[n.length-2],r[r.length-2]),i||ao(n[n.length-1],r[r.length-1]))}class gf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Zc(n.mutation,e,tc.empty(),co.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,xu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xu();const r=wu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=vu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=wu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,xu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=gu();const s=Eu(),a=Eu();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ru)?i=i.insert(t.key,t):void 0!==a&&(s.set(t.key,a.mutation.getFieldMask()),Zc(a.mutation,t,a.mutation.getFieldMask(),co.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new gf(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Eu();let r=new $l(((e,t)=>e-t)),i=xu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||tc.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||xu()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Iu();l.forEach((e=>{if(!i.has(e)){const r=Xc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return No.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return go.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):No.resolve(wu());let a=-1,o=i;return s.next((t=>No.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?No.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,xu()))).next((e=>({batchId:a,changes:bu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new go(t)).next((e=>{let t=vu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=vu();return this.indexManager.getCollectionParents(e,r).next((s=>No.forEach(s,(s=>{const a=function(e,t){return new fc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)))).next((e=>{e.forEach(((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,ic.newInvalidDocument(n)))}));let n=vu();return r.forEach(((r,i)=>{const s=e.get(r);void 0!==s&&Zc(s.mutation,i,tc.empty(),co.now()),Tc(t,i)&&(n=n.insert(r,i))})),n}))}}class vf{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return No.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ku(n.createTime)}),No.resolve()}getNamedQuery(e,t){return No.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:nd(e.bundledQuery),readTime:Ku(e.readTime)}}(t)),No.resolve()}}class bf{constructor(){this.overlays=new $l(go.comparator),this.es=new Map}getOverlay(e,t){return No.resolve(this.overlays.get(t))}getOverlays(e,t){const n=wu();return No.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.oe(e,t,r)})),No.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.es.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.es.delete(n)),No.resolve()}getOverlaysForCollection(e,t,n){const r=wu(),i=t.length+1,s=new go(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return No.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new $l(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=wu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=wu(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return No.resolve(a)}oe(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Wh(t,n));let i=this.es.get(t);void 0===i&&(i=xu(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}class wf{constructor(){this.ns=new Jl(If.ss),this.rs=new Jl(If.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new If(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.cs(new If(e,t))}hs(e,t){e.forEach((e=>this.removeReference(e,t)))}ls(e){const t=new go(new fo([])),n=new If(t,e),r=new If(t,e+1),i=[];return this.rs.forEachInRange([n,r],(e=>{this.cs(e),i.push(e.key)})),i}fs(){this.ns.forEach((e=>this.cs(e)))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new go(new fo([])),n=new If(t,e),r=new If(t,e+1);let i=xu();return this.rs.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new If(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class If{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return go.comparator(e.key,t.key)||ao(e._s,t._s)}static os(e,t){return ao(e._s,t._s)||go.comparator(e.key,t.key)}}class Ef{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Jl(If.ss)}checkEmpty(e){return No.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Kh(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.gs=this.gs.add(new If(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return No.resolve(s)}lookupMutationBatch(e,t){return No.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ps(n),i=r<0?0:r;return No.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return No.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return No.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new If(t,0),r=new If(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],(e=>{const t=this.ys(e._s);i.push(t)})),No.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Jl(ao);return t.forEach((e=>{const t=new If(e,0),r=new If(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,r],(e=>{n=n.add(e._s)}))})),No.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;go.isDocumentKey(i)||(i=i.child(""));const s=new If(new go(i),0);let a=new Jl(ao);return this.gs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e._s)),!0)}),s),No.resolve(this.Is(a))}Is(e){const t=[];return e.forEach((e=>{const n=this.ys(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ha(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return No.forEach(t.mutations,(r=>{const i=new If(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.gs=n}))}An(e){}containsKey(e,t){const n=new If(t,0),r=this.gs.firstAfterOrEqual(n);return No.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,No.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _f{constructor(e){this.Es=e,this.docs=new $l(go.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return No.resolve(n?n.document.mutableCopy():ic.newInvalidDocument(t))}getEntries(e,t){let n=gu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ic.newInvalidDocument(e))})),No.resolve(n)}getAllFromCollection(e,t,n){let r=gu();const i=new go(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||xo(_o(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return No.resolve(r)}getAllFromCollectionGroup(e,t,n,r){Ka()}As(e,t){return No.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Sf(this)}getSize(e){return No.resolve(this.size)}}class Sf extends of{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(n)})),No.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class xf{constructor(e){this.persistence=e,this.Rs=new pu((e=>oc(e)),lc),this.lastRemoteSnapshotVersion=uo.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wf,this.targetCount=0,this.vs=$d.Pn()}forEachTarget(e,t){return this.Rs.forEach(((e,n)=>t(n))),No.resolve()}getLastRemoteSnapshotVersion(e){return No.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return No.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),No.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),No.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new $d(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,No.resolve()}updateTargetData(e,t){return this.Dn(t),No.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,No.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Rs.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Rs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),No.waitFor(i).next((()=>r))}getTargetCount(e){return No.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return No.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),No.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),No.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),No.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return No.resolve(n)}containsKey(e,t){return No.resolve(this.Ps.containsKey(t))}}class kf{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Bo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new xf(this),this.indexManager=new Dd,this.remoteDocumentCache=function(e){return new _f(e)}((e=>this.referenceDelegate.xs(e))),this.yt=new Qh(t),this.Ns=new vf(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new Ef(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){Va("MemoryPersistence","Starting transaction:",e);const r=new Tf(this.Ss.next());return this.referenceDelegate.ks(),n(r).next((e=>this.referenceDelegate.Os(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ms(e,t){return No.or(Object.values(this.Vs).map((n=>()=>n.containsKey(e,t))))}}class Tf extends To{constructor(e){super(),this.currentSequenceNumber=e}}class Cf{constructor(e){this.persistence=e,this.Fs=new wf,this.$s=null}static Bs(e){return new Cf(e)}get Ls(){if(this.$s)return this.$s;throw Ka()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),No.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),No.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),No.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach((e=>this.Ls.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ls.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return No.forEach(this.Ls,(n=>{const r=go.fromPath(n);return this.qs(e,r).next((e=>{e||t.removeEntry(r,uo.min())}))})).next((()=>(this.$s=null,t.apply(e))))}updateLimboDocument(e,t){return this.qs(e,t).next((e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())}))}xs(e){return 0}qs(e,t){return No.or([()=>No.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Nf{constructor(e){this.yt=e}$(e,t,n,r){const i=new Ao("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bh,{unique:!0}),e.createObjectStore("documentMutations")}(e),Af(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=No.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Af(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:uo.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bh,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return No.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Us(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(i))))),n<7&&r>=7&&(s=s.next((()=>this.Gs(i)))),n<8&&r>=8&&(s=s.next((()=>this.Qs(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.js(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ph});t.createIndex("collectionPathOverlayIndex",Lh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",jh,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:_h});t.createIndex("documentKeyIndex",Sh),t.createIndex("collectionGroupIndex",xh)}(e))).next((()=>this.Ws(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.zs(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ah}).createIndex("sequenceNumberIndex",Dh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Oh}).createIndex("documentKeyIndex",Rh,{unique:!1})}(e)))),s}Ks(e){let t=0;return e.store("remoteDocuments").Z(((e,n)=>{t+=qd(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Us(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>No.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>No.forEach(n,(n=>{Ha(n.userId===t.userId);const r=Zh(this.yt,n);return zd(e,t.userId,r).next((()=>{}))}))))}))))}Gs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Z(((n,i)=>{const s=new fo(n),a=function(e){return[0,mh(e)]}(s);r.push(t.get(a).next((n=>n?No.resolve():(n=>t.put({targetId:0,path:mh(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>No.waitFor(r)))}))}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Nh});const n=t.store("collectionParents"),r=new Od,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:mh(r)})}};return t.store("remoteDocuments").Z({X:!0},((e,t)=>{const n=new fo(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Z({X:!0},((e,t)=>{let[n,r,s]=e;const a=vh(r);return i(a.popLast())}))))}js(e){const t=e.store("targets");return t.Z(((e,n)=>{const r=ed(n),i=td(this.yt,r);return t.put(i)}))}Ws(e,t){const n=t.store("remoteDocuments"),r=[];return n.Z(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(a=n,a.document?new go(fo.fromString(a.document.name).popFirst(5)):a.noDocument?go.fromSegments(a.noDocument.path):a.unknownDocument?go.fromSegments(a.unknownDocument.path):Ka()).path.toArray();var a;const o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>No.waitFor(r)))}zs(e,t){const n=t.store("mutations"),r=cf(this.yt),i=new kf(Cf.Bs,this.yt.ie);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:xu();Zh(this.yt,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),No.forEach(n,((e,n)=>{const s=new ja(n),a=cd.re(this.yt,s),o=i.getIndexManager(s),l=Kd.re(s,this.yt,o,i.referenceDelegate);return new yf(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new zh(t,Bo.at),e).next()}))}))}}function Af(e){e.createObjectStore("targetDocuments",{keyPath:Th}).createIndex("documentTargetsIndex",Ch,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kh,{unique:!0}),e.createObjectStore("targetGlobal")}const Df="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Of{constructor(e,t,n,r,i,s,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Hs=i,this.window=s,this.document=a,this.Js=l,this.Ys=c,this.Xs=u,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=e=>Promise.resolve(),!Of.C())throw new Qa(Ga.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sf(this,r),this.ii=t+"main",this.yt=new Qh(o),this.ri=new Do(this.ii,this.Xs,new Nf(this.yt)),this.Cs=new Yd(this.referenceDelegate,this.yt),this.remoteDocumentCache=cf(this.yt),this.Ns=new ad,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===c&&Ba("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qa(Ga.FAILED_PRECONDITION,Df);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Cs.getHighestSequenceNumber(e)))})).then((e=>{this.Ss=new Bo(e,this.Js)})).then((()=>{this.Ds=!0})).catch((e=>(this.ri&&this.ri.close(),Promise.reject(e))))}li(e){return this.si=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((async()=>{this.started&&await this.ui()})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Pf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))))}))})).next((()=>this.di(e))).next((t=>this.isPrimary&&!t?this._i(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Po(e))return Va("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Va("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable((()=>this.si(e))),this.isPrimary=e}))}fi(e){return Rf(e).get("owner").next((e=>No.resolve(this.mi(e))))}gi(e){return Pf(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=qh(e,"clientMetadata");return t.W().next((e=>{const n=this.Ii(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return No.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.oi)for(const t of e)this.oi.removeItem(this.Ti(t.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ui().then((()=>this.yi())).then((()=>this.hi()))))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?No.resolve(!0):Rf(e).get("owner").next((t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Qa(Ga.FAILED_PRECONDITION,Df);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pf(e).W().next((e=>void 0===this.Ii(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Va("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new zh(e,Bo.at);return this._i(t).next((()=>this.gi(t)))})),this.ri.close(),this.Pi()}Ii(e,t){return e.filter((e=>this.pi(e.updateTimeMs,t)&&!this.Ei(e.clientId)))}vi(){return this.runTransaction("getActiveClients","readonly",(e=>Pf(e).W().next((e=>this.Ii(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ds}getMutationQueue(e,t){return Kd.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pd(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return cd.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,n){Va("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.Xs)?Bh:14===s?Vh:13===s?Uh:12===s?Fh:11===s?Mh:void Ka();var s;let a;return this.ri.runTransaction(e,r,i,(r=>(a=new zh(r,this.Ss?this.Ss.next():Bo.at),"readwrite-primary"===t?this.fi(a).next((e=>!!e||this.di(a))).next((t=>{if(!t)throw Ba("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))),new Qa(Ga.FAILED_PRECONDITION,ko);return n(a)})).next((e=>this.wi(a).next((()=>e)))):this.Vi(a).next((()=>n(a)))))).then((e=>(a.raiseOnCommittedEvent(),e)))}Vi(e){return Rf(e).get("owner").next((e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Qa(Ga.FAILED_PRECONDITION,Df)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rf(e).put("owner",t)}static C(){return Do.C()}_i(e){const t=Rf(e);return t.get("owner").next((e=>this.mi(e)?(Va("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):No.resolve()))}pi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ba("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ui())))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),qe()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Va("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ba("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Gn){Ba("Failed to set zombie client id.",Gn)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Gn){}}Ti(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Rf(e){return qh(e,"owner")}function Pf(e){return qh(e,"clientMetadata")}function Lf(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class jf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=r}static Ci(e,t){let n=xu(),r=xu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new jf(e,t.fromCache,n,r)}}class Mf{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.ki(e,t).next((i=>i||this.Oi(e,t,r,n))).next((n=>n||this.Mi(e,t)))}ki(e,t){if(gc(t))return No.resolve(null);let n=Ic(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=_c(t,null,"F"),n=Ic(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=xu(...r);return this.Ni.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Fi(t,r);return this.$i(t,s,i,n.readTime)?this.ki(e,_c(t,null,"F")):this.Bi(e,s,t,n)}))))})))))}Oi(e,t,n,r){return gc(t)||r.isEqual(uo.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((i=>{const s=this.Fi(t,i);return this.$i(t,s,n,r)?this.Mi(e,t):(Ua()<=bt.DEBUG&&Va("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kc(t)),this.Bi(e,s,t,Eo(r,-1)))}))}Fi(e,t){let n=new Jl(Nc(e));return t.forEach(((t,r)=>{Tc(e,r)&&(n=n.add(r))})),n}$i(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(e,t){return Ua()<=bt.DEBUG&&Va("QueryEngine","Using full collection scan to execute query:",kc(t)),this.Ni.getDocumentsMatchingQuery(e,t,So.min())}Bi(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ff{constructor(e,t,n,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new $l(ao),this.Ui=new pu((e=>oc(e)),lc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yf(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qi)))}}function Uf(e,t,n,r){return new Ff(e,t,n,r)}async function Vf(e,t){const n=Wa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Qi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=xu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({ji:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Bf(e){const t=Wa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Cs.getLastRemoteSnapshotVersion(e)))}function zf(e,t,n){let r=xu(),i=xu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=gu();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(uo.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Va("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Wi:r,zi:i}}))}function qf(e,t){const n=Wa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Kf(e,t){const n=Wa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Cs.getTargetData(e,t).next((i=>i?(r=i,No.resolve(r)):n.Cs.allocateTargetId(e).next((i=>(r=new Gh(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}async function Hf(e,t,n){const r=Wa(e),i=r.qi.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Po(e))throw e;Va("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.qi=r.qi.remove(t),r.Ui.delete(i.target)}function Wf(e,t,n){const r=Wa(e);let i=uo.min(),s=xu();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Wa(e),i=r.Ui.get(n);return void 0!==i?No.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ic(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Li.getDocumentsMatchingQuery(e,t,n?i:uo.min(),n?s:xu()))).next((e=>($f(r,Cc(t),e),{documents:e,Hi:s})))))}function Gf(e,t){const n=Wa(e),r=Wa(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ne(e,t).next((e=>e?e.target:null))))}function Qf(e,t){const n=Wa(e),r=n.Ki.get(t)||uo.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Gi.getAllFromCollectionGroup(e,t,Eo(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>($f(n,t,e),e)))}function $f(e,t,n){let r=e.Ki.get(t)||uo.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}async function Yf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xu();const r=await Kf(e,Ic(nd(t.bundledQuery))),i=Wa(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Ku(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ns.saveNamedQuery(e,t);const a=r.withResumeToken(Yo.EMPTY_BYTE_STRING,s);return i.qi=i.qi.insert(a.targetId,a),i.Cs.updateTargetData(e,a).next((()=>i.Cs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Cs.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ns.saveNamedQuery(e,t)))}))}function Xf(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Jf(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Zf(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class ep{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Zi(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Qa(r.error.code,r.error.message))),s?new ep(e,t,r.state,i):(Ba("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tp{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Zi(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Qa(n.error.code,n.error.message))),i?new tp(e,n.state,r):(Ba("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class np{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Tu();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=$o(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new np(e,i):(Ba("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class rp{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new rp(t.clientId,t.onlineState):(Ba("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class ip{constructor(){this.activeTargetIds=Tu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sp{constructor(e,t,n,r,i){this.window=e,this.Hs=t,this.persistenceKey=n,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new $l(ao),this.started=!1,this.cr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ar=Xf(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new ip),this.lr=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const n of e){if(n===this.sr)continue;const e=this.getItem(Xf(this.persistenceKey,n));if(e){const t=np.Zi(n,e);t&&(this.ur=this.ur.insert(t.clientId,t))}}this.gr();const t=this.storage.getItem(this.wr);if(t){const e=this.yr(t);e&&this.pr(e)}for(const n of this.cr)this.rr(n);this.cr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,n){this.Tr(e,t,n),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Zf(this.persistenceKey,e));if(n){const r=tp.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zf(this.persistenceKey,e))}updateQueryState(e,t,n){this.Rr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Er(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Va("SharedClientState","READ",e,t),t}setItem(e,t){Va("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Va("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const t=e;if(t.storageArea===this.storage){if(Va("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ar)return void Ba("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.lr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Vr(e,null)}{const e=this.Sr(t.key,t.newValue);if(e)return this.Vr(e.clientId,e)}}else if(this.dr.test(t.key)){if(null!==t.newValue){const e=this.Dr(t.key,t.newValue);if(e)return this.Cr(e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Nr(t.key,t.newValue);if(e)return this.kr(e)}}else if(t.key===this.wr){if(null!==t.newValue){const e=this.yr(t.newValue);if(e)return this.pr(e)}}else if(t.key===this.hr){const e=function(e){let t=Bo.at;if(null!=e)try{const n=JSON.parse(e);Ha("number"==typeof n),t=n}catch(e){Ba("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Bo.at&&this.sequenceNumberHandler(e)}else if(t.key===this.mr){const e=this.Or(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Mr(e))))}}else this.cr.push(t)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,n){const r=new ep(this.currentUser,e,t,n),i=Jf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}Er(e){const t=Jf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){const t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Rr(e,t,n){const r=Zf(this.persistenceKey,e),i=new tp(e,t,n);this.setItem(r,i.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const n=this.vr(e);return np.Zi(n,t)}Dr(e,t){const n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ep.Zi(new ja(i),r,t)}Nr(e,t){const n=this._r.exec(e),r=Number(n[1]);return tp.Zi(r,t)}yr(e){return rp.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);Va("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const n=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),i=this.Ir(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Br(s,a).then((()=>{this.ur=n}))}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Tu();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class ap{constructor(){this.Lr=new ip,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ip,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class op{Ur(e){}shutdown(){}}class lp{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Va("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Va("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class up{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class hp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,n,r,i){const s=this.ho(e,t);Va("RestConnection","Sending: ",s,n);const a={};return this.lo(a,r,i),this.fo(e,s,a,n).then((e=>(Va("RestConnection","Received: ",e),e)),(t=>{throw za("RestConnection","".concat(e," failed with error: "),t,"url: ",s,"request:",n),t}))}_o(e,t,n,r,i,s){return this.ao(e,t,n,r,i)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}ho(e,t){const n=cp[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,r){return new Promise(((i,s)=>{const a=new Pa;a.setWithCredentials(!0),a.listenOnce(Na.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ca.NO_ERROR:const t=a.getResponseJson();Va("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ca.TIMEOUT:Va("Connection",'RPC "'+e+'" timed out'),s(new Qa(Ga.DEADLINE_EXCEEDED,"Request time out"));break;case Ca.HTTP_ERROR:const n=a.getStatus();if(Va("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ga).indexOf(t)>=0?t:Ga.UNKNOWN}(t.status);s(new Qa(e,t.message))}else s(new Qa(Ga.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Qa(Ga.UNAVAILABLE,"Connection failed."));break;default:Ka()}}finally{Va("Connection",'RPC "'+e+'" completed.')}}));const o=JSON.stringify(r);a.send(t,"POST",o,n,15)}))}wo(e,t,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ka(),s=Ta(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Oa({})),this.lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const o=r.join("");Va("Connection","Creating WebChannel: "+o,a);const l=i.createWebChannel(o,a);let c=!1,u=!1;const h=new up({Hr:e=>{u?Va("Connection","Not sending because WebChannel is closed:",e):(c||(Va("Connection","Opening WebChannel transport."),l.open(),c=!0),Va("Connection","WebChannel sending:",e),l.send(e))},Jr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(l,Ra.EventType.OPEN,(()=>{u||Va("Connection","WebChannel transport opened.")})),d(l,Ra.EventType.CLOSE,(()=>{u||(u=!0,Va("Connection","WebChannel transport closed"),h.io())})),d(l,Ra.EventType.ERROR,(e=>{u||(u=!0,za("Connection","WebChannel transport errored:",e),h.io(new Qa(Ga.UNAVAILABLE,"The operation could not be completed")))})),d(l,Ra.EventType.MESSAGE,(e=>{var t;if(!u){const n=e.data[0];Ha(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Va("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=uu[e];if(void 0!==t)return fu(t)}(e),n=i.message;void 0===t&&(t=Ga.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,h.io(new Qa(t,n)),l.close()}else Va("Connection","WebChannel received:",n),h.ro(n)}})),d(s,Aa.STAT_EVENT,(e=>{e.stat===Da.PROXY?Va("Connection","Detected buffering proxy"):e.stat===Da.NOPROXY&&Va("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.so()}),0),h}}function dp(){return"undefined"!=typeof window?window:null}function fp(){return"undefined"!=typeof document?document:null}function pp(e){return new Vu(e,!0)}class mp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Hs=e,this.timerId=t,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-n);r>0&&Va("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,(()=>(this.Eo=Date.now(),e()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class gp{constructor(e,t,n,r,i,s,a,o){this.Hs=e,this.vo=n,this.Vo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new mp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===Ga.RESOURCE_EXHAUSTED?(Ba(t.toString()),Ba("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===Ga.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.So===t&&this.Go(n,r)}),(t=>{e((()=>{const e=new Qa(Ga.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)}))}))}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((e=>{n((()=>this.Qo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(e){return Va("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget((()=>this.So===e?t():(Va("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yp extends gp{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.yt=i}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ka()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.wt?(Ha(void 0===t||"string"==typeof t),Yo.fromBase64String(t||"")):(Ha(void 0===t||t instanceof Uint8Array),Yo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Ga.UNKNOWN:fu(e.code);return new Qa(t,e.message||"")}(a);n=new Ou(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qu(e,r.document.name),s=Ku(r.document.updateTime),a=r.document.createTime?Ku(r.document.createTime):uo.min(),o=new nc({mapValue:{fields:r.document.fields}}),l=ic.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Au(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Qu(e,r.document),s=r.readTime?Ku(r.readTime):uo.min(),a=ic.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Au([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Qu(e,r.document),s=r.removedTargetIds||[];n=new Au([],s,i,null)}else{if(!("filter"in t))return Ka();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new cu(r),s=e.targetId;n=new Du(s,i)}}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return uo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?uo.min():t.readTime?Ku(t.readTime):uo.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=Xu(this.yt),t.addTarget=function(e,t){let n;const r=t.target;return n=cc(r)?{documents:rh(e,r)}:{query:ih(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=zu(e,t.resumeToken):t.snapshotVersion.compareTo(uo.min())>0&&(n.readTime=Bu(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ka()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=Xu(this.yt),t.removeTarget=e,this.Bo(t)}}class vp extends gp{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.yt=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ha(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function(e,t){return e&&e.length>0?(Ha(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ku(e.updateTime):Ku(t);return n.isEqual(uo.min())&&(n=Ku(t)),new Gc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ku(e.commitTime);return this.listener.Zo(n,t)}return Ha(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Xu(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>th(this.yt,e)))};this.Bo(t)}}class bp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Qa(Ga.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.ao(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ga.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qa(Ga.UNKNOWN,e.toString())}))}_o(e,t,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection._o(e,t,n,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ga.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qa(Ga.UNKNOWN,e.toString())}))}terminate(){this.nu=!0}}class wp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Ba(t),this.ou=!1):Va("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ip{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur((e=>{n.enqueueAndForget((async()=>{Ap(this)&&(Va("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Wa(e);t._u.add(4),await _p(t),t.gu.set("Unknown"),t._u.delete(4),await Ep(t)}(this))}))})),this.gu=new wp(n,r)}}async function Ep(e){if(Ap(e))for(const t of e.wu)await t(!0)}async function _p(e){for(const t of e.wu)await t(!1)}function Sp(e,t){const n=Wa(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Np(n)?Cp(n):Qp(n).ko()&&kp(n,t))}function xp(e,t){const n=Wa(e),r=Qp(n);n.du.delete(t),r.ko()&&Tp(n,t),0===n.du.size&&(r.ko()?r.Fo():Ap(n)&&n.gu.set("Unknown"))}function kp(e,t){e.yu.Ot(t.targetId),Qp(e).zo(t)}function Tp(e,t){e.yu.Ot(t),Qp(e).Ho(t)}function Cp(e){e.yu=new Pu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),Qp(e).start(),e.gu.uu()}function Np(e){return Ap(e)&&!Qp(e).No()&&e.du.size>0}function Ap(e){return 0===Wa(e)._u.size}function Dp(e){e.yu=void 0}async function Op(e){e.du.forEach(((t,n)=>{kp(e,t)}))}async function Rp(e,t){Dp(e),Np(e)?(e.gu.hu(t),Cp(e)):e.gu.set("Unknown")}async function Pp(e,t,n){if(e.gu.set("Online"),t instanceof Ou&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.du.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.du.delete(r),e.yu.removeTarget(r))}(e,t)}catch(n){Va("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Lp(e,n)}else if(t instanceof Au?e.yu.Kt(t):t instanceof Du?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(uo.min()))try{const t=await Bf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.yu.Zt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.du.get(t);if(!n)return;e.du.set(t,n.withResumeToken(Yo.EMPTY_BYTE_STRING,n.snapshotVersion)),Tp(e,t);const r=new Gh(n.target,t,1,n.sequenceNumber);kp(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Va("RemoteStore","Failed to raise snapshot:",t),await Lp(e,t)}}async function Lp(e,t,n){if(!Po(t))throw t;e._u.add(1),await _p(e),e.gu.set("Offline"),n||(n=()=>Bf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Va("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await Ep(e)}))}function jp(e,t){return t().catch((n=>Lp(e,n,t)))}async function Mp(e){const t=Wa(e),n=$p(t);let r=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Fp(t);)try{const e=await qf(t.localStore,r);if(null===e){0===t.fu.length&&n.Fo();break}r=e.batchId,Up(t,e)}catch(e){await Lp(t,e)}Vp(t)&&Bp(t)}function Fp(e){return Ap(e)&&e.fu.length<10}function Up(e,t){e.fu.push(t);const n=$p(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Vp(e){return Ap(e)&&!$p(e).No()&&e.fu.length>0}function Bp(e){$p(e).start()}async function zp(e){$p(e).eu()}async function qp(e){const t=$p(e);for(const n of e.fu)t.Xo(n.mutations)}async function Kp(e,t,n){const r=e.fu.shift(),i=Hh.from(r,t,n);await jp(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Mp(e)}async function Hp(e,t){t&&$p(e).Yo&&await async function(e,t){if(du(n=t.code)&&n!==Ga.ABORTED){const n=e.fu.shift();$p(e).Mo(),await jp(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Mp(e)}var n}(e,t),Vp(e)&&Bp(e)}async function Wp(e,t){const n=Wa(e);n.asyncQueue.verifyOperationInProgress(),Va("RemoteStore","RemoteStore received new credentials");const r=Ap(n);n._u.add(3),await _p(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await Ep(n)}async function Gp(e,t){const n=Wa(e);t?(n._u.delete(2),await Ep(n)):t||(n._u.add(2),await _p(n),n.gu.set("Unknown"))}function Qp(e){return e.pu||(e.pu=function(e,t,n){const r=Wa(e);return r.su(),new yp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Op.bind(null,e),Zr:Rp.bind(null,e),Wo:Pp.bind(null,e)}),e.wu.push((async t=>{t?(e.pu.Mo(),Np(e)?Cp(e):e.gu.set("Unknown")):(await e.pu.stop(),Dp(e))}))),e.pu}function $p(e){return e.Iu||(e.Iu=function(e,t,n){const r=Wa(e);return r.su(),new vp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:zp.bind(null,e),Zr:Hp.bind(null,e),tu:qp.bind(null,e),Zo:Kp.bind(null,e)}),e.wu.push((async t=>{t?(e.Iu.Mo(),await Mp(e)):(await e.Iu.stop(),e.fu.length>0&&(Va("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]))}))),e.Iu}class Yp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Yp(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qa(Ga.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(e,t){if(Ba("AsyncQueue","".concat(t,": ").concat(e)),Po(e))return new Qa(Ga.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Jp{constructor(e){this.comparator=e?(t,n)=>e(t,n)||go.comparator(t.key,n.key):(e,t)=>go.comparator(e.key,t.key),this.keyedMap=vu(),this.sortedSet=new $l(this.comparator)}static emptySet(e){return new Jp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Jp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Zp{constructor(){this.Tu=new $l(go.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ka():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class em{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new em(e,t,Jp.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class tm{constructor(){this.Au=void 0,this.listeners=[]}}class nm{constructor(){this.queries=new pu((e=>xc(e)),Sc),this.onlineState="Unknown",this.Ru=new Set}}async function rm(e,t){const n=Wa(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new tm),i)try{s.Au=await n.onListen(r)}catch(e){const n=Xp(e,"Initialization of query '".concat(kc(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.bu(n.onlineState),s.Au&&t.Pu(s.Au)&&om(n)}async function im(e,t){const n=Wa(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function sm(e,t){const n=Wa(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Pu(i)&&(r=!0);t.Au=i}}r&&om(n)}function am(e,t,n){const r=Wa(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function om(e){e.Ru.forEach((e=>{e.next()}))}class lm{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new em(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=em.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class cm{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class um{constructor(e){this.yt=e}Ji(e){return Qu(this.yt,e)}Yi(e){return e.metadata.exists?eh(this.yt,e.document,!1):ic.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ku(e)}}class hm{constructor(e,t,n){this.Mu=e,this.localStore=t,this.yt=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dm(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const n=fo.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,n=new um(this.yt);for(const r of e)if(r.metadata.queries){const e=n.Ji(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||xu()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Wa(e);let s=xu(),a=gu();for(const c of n){const e=t.Ji(c.metadata.name);c.document&&(s=s.add(e));const n=t.Yi(c);n.setReadTime(t.Xi(c.metadata.readTime)),a=a.insert(e,n)}const o=i.Gi.newChangeBuffer({trackRemovals:!0}),l=await Kf(i,function(e){return Ic(mc(fo.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>zf(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Cs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Cs.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi))).next((()=>t.Wi))))))}(this.localStore,new um(this.yt),this.documents,this.Mu.id),t=this.$u(this.documents);for(const n of this.queries)await Yf(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function dm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class fm{constructor(e){this.key=e}}class pm{constructor(e){this.key=e}}class mm{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=xu(),this.mutatedKeys=xu(),this.Gu=Nc(e),this.Qu=new Jp(this.Gu)}get ju(){return this.qu}Wu(e,t){const n=t?t.zu:new Zp,r=t?t.Qu:this.Qu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Tc(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Hu(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Gu(u,o)>0||l&&this.Gu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Qu:s,zu:n,$i:a,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Eu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ka()}};return n(e)-n(t)}(e.type,t.type)||this.Gu(e.doc,t.doc))),this.Ju(n);const s=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,o=a!==this.Uu;return this.Uu=a,0!==i.length||o?{snapshot:new em(this.query,e.Qu,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Zp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach((e=>this.qu=this.qu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qu=this.qu.delete(e))),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=xu(),this.Qu.forEach((e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))}));const t=[];return e.forEach((e=>{this.Ku.has(e)||t.push(new pm(e))})),this.Ku.forEach((n=>{e.has(n)||t.push(new fm(n))})),t}tc(e){this.qu=e.Hi,this.Ku=xu();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return em.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class gm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ym{constructor(e){this.key=e,this.nc=!1}}class vm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new pu((e=>xc(e)),Sc),this.rc=new Map,this.oc=new Set,this.uc=new $l(go.comparator),this.cc=new Map,this.ac=new wf,this.hc={},this.lc=new Map,this.fc=$d.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function bm(e,t){const n=Hm(e);let r,i;const s=n.ic.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const e=await Kf(n.localStore,Ic(t));n.isPrimaryClient&&Sp(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await wm(n,t,r,"current"===s,e.resumeToken)}return i}async function wm(e,t,n,r,i){e._c=(t,n,r)=>async function(e,t,n,r){let i=t.view.Wu(n);i.$i&&(i=await Wf(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Wu(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return Dm(e,t.targetId,a.Xu),a.snapshot}(e,t,n,r);const s=await Wf(e.localStore,t,!0),a=new mm(t,s.Hi),o=a.Wu(s.documents),l=Nu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Dm(e,n,c.Xu);const u=new gm(t,n,a);return e.ic.set(t,u),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),c.snapshot}async function Im(e,t){const n=Wa(e),r=n.ic.get(t),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter((e=>!Sc(e,t)))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hf(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),xp(n.remoteStore,r.targetId),Nm(n,r.targetId)})).catch(Co)):(Nm(n,r.targetId),await Hf(n.localStore,r.targetId,!0))}async function Em(e,t){const n=Wa(e);try{const e=await function(e,t){const n=Wa(e),r=t.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Cs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Cs.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?c=c.withResumeToken(Yo.EMPTY_BYTE_STRING,uo.min()).withLastLimboFreeSnapshotVersion(uo.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Cs.updateTargetData(e,c))}));let o=gu(),l=xu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(zf(e,s,t.documentUpdates).next((e=>{o=e.Wi,l=e.zi}))),!r.isEqual(uo.min())){const t=n.Cs.getLastRemoteSnapshotVersion(e).next((t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return No.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.qi=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.cc.get(t);r&&(Ha(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.nc=!0:e.modifiedDocuments.size>0?Ha(r.nc):e.removedDocuments.size>0&&(Ha(r.nc),r.nc=!1))})),await Pm(n,e,t)}catch(e){await Co(e)}}function _m(e,t,n){const r=Wa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ic.forEach(((n,r)=>{const i=r.view.bu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Wa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.bu(t)&&(r=!0)})),r&&om(n)}(r.eventManager,t),e.length&&r.sc.Wo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sm(e,t,n){const r=Wa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.cc.get(t),s=i&&i.key;if(s){let e=new $l(go.comparator);e=e.insert(s,ic.newNoDocument(s,uo.min()));const n=xu().add(s),i=new Cu(uo.min(),new Map,new Jl(ao),e,n);await Em(r,i),r.uc=r.uc.remove(s),r.cc.delete(t),Rm(r)}else await Hf(r.localStore,t,!1).then((()=>Nm(r,t,n))).catch(Co)}async function xm(e,t){const n=Wa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Wa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=No.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ha(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=xu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Cm(n,r,null),Tm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pm(n,e)}catch(e){await Co(e)}}async function km(e,t,n){const r=Wa(e);try{const e=await function(e,t){const n=Wa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ha(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Cm(r,t,n),Tm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pm(r,e)}catch(n){await Co(n)}}function Tm(e,t){(e.lc.get(t)||[]).forEach((e=>{e.resolve()})),e.lc.delete(t)}function Cm(e,t,n){const r=Wa(e);let i=r.hc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.rc.get(t))e.ic.delete(r),n&&e.sc.wc(r,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((t=>{e.ac.containsKey(t)||Am(e,t)}))}function Am(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);null!==n&&(xp(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Rm(e))}function Dm(e,t,n){for(const r of n)r instanceof fm?(e.ac.addReference(r.key,t),Om(e,r)):r instanceof pm?(Va("SyncEngine","Document no longer in limbo: "+r.key),e.ac.removeReference(r.key,t),e.ac.containsKey(r.key)||Am(e,r.key)):Ka()}function Om(e,t){const n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Va("SyncEngine","New document in limbo: "+n),e.oc.add(r),Rm(e))}function Rm(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new go(fo.fromString(t)),r=e.fc.next();e.cc.set(r,new ym(n)),e.uc=e.uc.insert(n,r),Sp(e.remoteStore,new Gh(Ic(mc(n.path)),r,2,Bo.at))}}async function Pm(e,t,n){const r=Wa(e),i=[],s=[],a=[];r.ic.isEmpty()||(r.ic.forEach(((e,o)=>{a.push(r._c(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=jf.Ci(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.sc.Wo(i),await async function(e,t){const n=Wa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>No.forEach(t,(t=>No.forEach(t.Si,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>No.forEach(t.Di,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Po(e))throw e;Va("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.qi.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.qi=n.qi.insert(e,i)}}}(r.localStore,s))}async function Lm(e,t){const n=Wa(e);if(!n.currentUser.isEqual(t)){Va("SyncEngine","User change. New user:",t.toKey());const e=await Vf(n.localStore,t);n.currentUser=t,function(e,t){e.lc.forEach((e=>{e.forEach((e=>{e.reject(new Qa(Ga.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Pm(n,e.ji)}}function jm(e,t){const n=Wa(e),r=n.cc.get(t);if(r&&r.nc)return xu().add(r.key);{let e=xu();const r=n.rc.get(t);if(!r)return e;for(const t of r){const r=n.ic.get(t);e=e.unionWith(r.view.ju)}return e}}async function Mm(e,t){const n=Wa(e),r=await Wf(n.localStore,t.query,!0),i=t.view.tc(r);return n.isPrimaryClient&&Dm(n,t.targetId,i.Xu),i}async function Fm(e,t){const n=Wa(e);return Qf(n.localStore,t).then((e=>Pm(n,e)))}async function Um(e,t,n,r){const i=Wa(e),s=await function(e,t){const n=Wa(e),r=Wa(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Tn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):No.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Mp(i.remoteStore):"acknowledged"===n||"rejected"===n?(Cm(i,t,r||null),Tm(i,t),function(e,t){Wa(Wa(e).mutationQueue).An(t)}(i.localStore,t)):Ka(),await Pm(i,s)):Va("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Vm(e,t,n){const r=Wa(e),i=[],s=[];for(const a of t){let e;const t=r.rc.get(a);if(t&&0!==t.length){e=await Kf(r.localStore,Ic(t[0]));for(const e of t){const t=r.ic.get(e),n=await Mm(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Gf(r.localStore,a);e=await Kf(r.localStore,t),await wm(r,Bm(t),a,!1,e.resumeToken)}i.push(e)}return r.sc.Wo(s),i}function Bm(e){return pc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zm(e){const t=Wa(e);return Wa(Wa(t.localStore).persistence).vi()}async function qm(e,t,n,r){const i=Wa(e);if(i.dc)return void Va("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Qf(i.localStore,Cc(s[0])),r=Cu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Yo.EMPTY_BYTE_STRING);await Pm(i,e,r);break}case"rejected":await Hf(i.localStore,t,!0),Nm(i,t,r);break;default:Ka()}}async function Km(e,t,n){const r=Hm(e);if(r.dc){for(const e of t){if(r.rc.has(e)){Va("SyncEngine","Adding an already active target "+e);continue}const t=await Gf(r.localStore,e),n=await Kf(r.localStore,t);await wm(r,Bm(t),n.targetId,!1,n.resumeToken),Sp(r.remoteStore,n)}for(const e of n)r.rc.has(e)&&await Hf(r.localStore,e,!1).then((()=>{xp(r.remoteStore,e),Nm(r,e)})).catch(Co)}}function Hm(e){const t=Wa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Em.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sm.bind(null,t),t.sc.Wo=sm.bind(null,t.eventManager),t.sc.wc=am.bind(null,t.eventManager),t}function Wm(e){const t=Wa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=km.bind(null,t),t}class Gm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=pp(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Uf(this.persistence,new Mf,e.initialUser,this.yt)}yc(e){return new kf(Cf.Bs,this.yt)}gc(e){return new ap}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Qm extends Gm{constructor(e,t,n){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await Wm(this.Ac.syncEngine),await Mp(this.Ac.remoteStore),await this.persistence.li((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ic(e){return Uf(this.persistence,new Mf,e.initialUser,this.yt)}Tc(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new nf(n,e.asyncQueue,t)}Ec(e,t){const n=new Vo(t,this.persistence);return new Uo(e.asyncQueue,n)}yc(e){const t=Lf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Bd.withCacheSize(this.cacheSizeBytes):Bd.DEFAULT;return new Of(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dp(),fp(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new ap}}class $m extends Qm{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ac.syncEngine;this.sharedClientState instanceof sp&&(this.sharedClientState.syncEngine={Fr:Um.bind(null,t),$r:qm.bind(null,t),Br:Km.bind(null,t),vi:zm.bind(null,t),Mr:Fm.bind(null,t)},await this.sharedClientState.start()),await this.persistence.li((async e=>{await async function(e,t){const n=Wa(e);if(Hm(n),Wm(n),!0===t&&!0!==n.dc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Vm(n,e.toArray());n.dc=!0,await Gp(n.remoteStore,!0);for(const r of t)Sp(n.remoteStore,r)}else if(!1===t&&!1!==n.dc){const e=[];let t=Promise.resolve();n.rc.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Nm(n,i),Hf(n.localStore,i,!0)))),xp(n.remoteStore,i)})),await t,await Vm(n,e),function(e){const t=Wa(e);t.cc.forEach(((e,n)=>{xp(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new $l(go.comparator)}(n),n.dc=!1,await Gp(n.remoteStore,!1)}}(this.Ac.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}gc(e){const t=dp();if(!sp.C(t))throw new Qa(Ga.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Lf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Ym{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>_m(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lm.bind(null,this.syncEngine),await Gp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new nm}createDatastore(e){const t=pp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new hp(r));var r;return function(e,t,n,r){return new bp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>_m(this.syncEngine,e,0),s=lp.C()?new lp:new op,new Ip(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new vm(e,t,n,r,i,s);return a&&(o.dc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Wa(e);Va("RemoteStore","RemoteStore shutting down."),t._u.add(5),await _p(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}function Xm(e,t,n){if(!n)throw new Qa(Ga.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Jm(e,t,n,r){if(!0===t&&!0===r)throw new Qa(Ga.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Zm(e){if(!go.isDocumentKey(e))throw new Qa(Ga.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function eg(e){if(go.isDocumentKey(e))throw new Qa(Ga.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function tg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ka()}function ng(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qa(Ga.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(e);throw new Qa(Ga.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function rg(e,t){if(t<=0)throw new Qa(Ga.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}const ig=new Map;class sg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qa(Ga.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qa(Ga.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Jm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ag{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qa(Ga.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qa(Ga.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xa;switch(e.type){case"gapi":const t=e.client;return new to(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Qa(Ga.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ig.get(e);t&&(Va("ComponentProvider","Removing Datastore"),ig.delete(e),t.terminate())}(this),Promise.resolve()}}function og(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ng(e,ag))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&za("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:"".concat(t,":").concat(n),ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ja.MOCK_USER;else{t=Je(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Qa(Ga.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ja(s)}e._authCredentials=new Ja(new Ya(t,n))}}class lg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ug(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lg(this.firestore,e,this._key)}}class cg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cg(this.firestore,e,this._query)}}class ug extends cg{constructor(e,t,n){super(e,t,mc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lg(this.firestore,null,new go(e))}withConverter(e){return new ug(this.firestore,e,this._path)}}function hg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ft(e),Xm("collection","path",t),e instanceof ag){const n=fo.fromString(t,...r);return eg(n),new ug(e,null,n)}{if(!(e instanceof lg||e instanceof ug))throw new Qa(Ga.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fo.fromString(t,...r));return eg(n),new ug(e.firestore,null,n)}}function dg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ft(e),1===arguments.length&&(t=so.R()),Xm("doc","path",t),e instanceof ag){const n=fo.fromString(t,...r);return Zm(n),new lg(e,null,new go(n))}{if(!(e instanceof lg||e instanceof ug))throw new Qa(Ga.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fo.fromString(t,...r));return Zm(n),new lg(e.firestore,e instanceof ug?e.converter:null,new go(n))}}function fg(e,t){return e=ft(e),t=ft(t),(e instanceof lg||e instanceof ug)&&(t instanceof lg||t instanceof ug)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pg(e,t){return e=ft(e),t=ft(t),e instanceof cg&&t instanceof cg&&e.firestore===t.firestore&&Sc(e._query,t._query)&&e.converter===t.converter}function mg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ba("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class yg{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new $a,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((e=>{e&&e.Ou()?this.metadata.resolve(e.ku.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(e=>this.metadata.reject(e)))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(null===e)return null;const t=this.vc.decode(e),n=Number(t);isNaN(n)&&this.Dc("length string (".concat(t,") is not valid number"));const r=await this.Cc(n);return new cm(JSON.parse(r),e.length+n)}xc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(0===this.buffer.length)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const t=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Dc(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Nc(){const e=await this.Pc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class vg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Qa(Ga.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Wa(e),r=Xu(n.yt)+"/documents",i={documents:t.map((e=>Gu(n.yt,e)))},s=await n._o("BatchGetDocuments",r,i,t.length),a=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Ha(!!t.found),t.found.name,t.found.updateTime;const n=Qu(e,t.found.name),r=Ku(t.found.updateTime),i=t.found.createTime?Ku(t.found.createTime):uo.min(),s=new nc({mapValue:{fields:t.found.fields}});return ic.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Ha(!!t.missing),Ha(!!t.readTime);const n=Qu(e,t.missing),r=Ku(t.readTime);return ic.newNoDocument(n,r)}(e,t):Ka()}(n.yt,e);a.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=a.get(e.toString());Ha(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=go.fromPath(t);this.mutations.push(new lu(n,this.precondition(n)))})),await async function(e,t){const n=Wa(e),r=Xu(n.yt)+"/documents",i={writes:t.map((e=>th(n.yt,e)))};await n.ao("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ka();t=uo.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Qa(Ga.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(uo.min())?Qc.exists(!1):Qc.updateTime(t):Qc.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(uo.min()))throw new Qa(Ga.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qc.updateTime(t)}return Qc.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bg{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.kc=n.maxAttempts,this.xo=new mp(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro((async()=>{const e=new vg(this.datastore),t=this.Mc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Fc(e)}))))})).catch((e=>{this.Fc(e)}))}))}Mc(e){try{const t=this.updateFunction(e);return!Go(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Oc(),Promise.resolve())))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!du(t)}return!1}}class wg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ja.UNAUTHENTICATED,this.clientId=so.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Va("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Va("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qa(Ga.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Xp(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ig(e,t){e.asyncQueue.verifyOperationInProgress(),Va("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Vf(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Eg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _g(e);Va("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Wp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Wp(t.remoteStore,n))),e.onlineComponents=t}async function _g(e){return e.offlineComponents||(Va("FirestoreClient","Using default OfflineComponentProvider"),await Ig(e,new Gm)),e.offlineComponents}async function Sg(e){return e.onlineComponents||(Va("FirestoreClient","Using default OnlineComponentProvider"),await Eg(e,new Ym)),e.onlineComponents}function xg(e){return _g(e).then((e=>e.persistence))}function kg(e){return _g(e).then((e=>e.localStore))}function Tg(e){return Sg(e).then((e=>e.remoteStore))}function Cg(e){return Sg(e).then((e=>e.syncEngine))}function Ng(e){return Sg(e).then((e=>e.datastore))}async function Ag(e){const t=await Sg(e),n=t.eventManager;return n.onListen=bm.bind(null,t.syncEngine),n.onUnlisten=Im.bind(null,t.syncEngine),n}function Dg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $a;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new gg({next:s=>{t.enqueueAndForget((()=>im(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Qa(Ga.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Qa(Ga.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new lm(mc(n.path),s,{includeMetadataChanges:!0,Nu:!0});return rm(e,a)}(await Ag(e),e.asyncQueue,t,n,r))),r.promise}function Og(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $a;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new gg({next:n=>{t.enqueueAndForget((()=>im(e,a))),n.fromCache&&"server"===r.source?i.reject(new Qa(Ga.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new lm(n,s,{includeMetadataChanges:!0,Nu:!0});return rm(e,a)}(await Ag(e),e.asyncQueue,t,n,r))),r.promise}function Rg(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new yg(e,t)}(function(e,t){if(e instanceof Uint8Array)return mg(e,t);if(e instanceof ArrayBuffer)return mg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,pp(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Wa(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Wa(e),r=Ku(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ns.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(dm(r));const i=new hm(r,e.localStore,t.yt);let s=await t.mc();for(;s;){const e=await i.Fu(s);e&&n._updateProgress(e),s=await t.mc()}const a=await i.complete();return await Pm(e,a.Lu,void 0),await function(e,t){const n=Wa(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ns.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Bu)}catch(e){return za("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Cg(e),i,r)}))}class Pg{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new mp(this,"async_queue_retry"),this.Wc=()=>{const e=fp();e&&Va("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const e=fp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=fp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise((()=>{}));const t=new $a;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Lc.push(e),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(Gn){if(!Po(Gn))throw Gn;Va("AsyncQueue","Operation failed with retryable error: "+Gn)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(e){const t=this.Bc.then((()=>(this.Gc=!0,e().catch((e=>{this.Kc=e,this.Gc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ba("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Gc=!1,e))))));return this.Bc=t,t}enqueueAfterDelay(e,t,n){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=Yp.createAndSchedule(this,e,t,n,(e=>this.Yc(e)));return this.Uc.push(r),r}zc(){this.Kc&&Ka()}verifyOperationInProgress(){}async Xc(){let e;do{e=this.Bc,await e}while(e!==this.Bc)}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then((()=>{this.Uc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()}))}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Lg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class jg{constructor(){this._progressObserver={},this._taskCompletionResolver=new $a,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mg extends ag{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Pg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ug(this),this._firestoreClient.terminate()}}function Fg(e){return e._firestoreClient||Ug(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ug(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new zo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wg(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Vg(e,t,n){const r=new $a;return e.asyncQueue.enqueue((async()=>{try{await Ig(e,n),await Eg(e,t),r.resolve()}catch(e){const n=e;if(!function(e){return"FirebaseError"===e.name?e.code===Ga.FAILED_PRECONDITION||e.code===Ga.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(n))throw n;za("Error enabling offline persistence. Falling back to persistence disabled: "+n),r.reject(n)}})).then((()=>r.promise))}function Bg(e){return function(e){const t=new $a;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Wa(e);Ap(n.remoteStore)||Va("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Wa(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.lc.get(e)||[];r.push(t),n.lc.set(e,r)}catch(e){const n=Xp(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Cg(e),t))),t.promise}(Fg(e=ng(e,Mg)))}function zg(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await xg(e),n=await Tg(e);return t.setNetworkEnabled(!0),function(e){const t=Wa(e);return t._u.delete(0),Ep(t)}(n)}))}(Fg(e=ng(e,Mg)))}function qg(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await xg(e),n=await Tg(e);return t.setNetworkEnabled(!1),async function(e){const t=Wa(e);t._u.add(0),await _p(t),t.gu.set("Offline")}(n)}))}(Fg(e=ng(e,Mg)))}function Kg(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Wa(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ns.getNamedQuery(e,t)))}(await kg(e),t)))}(Fg(e=ng(e,Mg)),t).then((t=>t?new cg(e,null,t.query):null))}function Hg(e){if(e._initialized||e._terminated)throw new Qa(Ga.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wg(Yo.fromBase64String(e))}catch(e){throw new Qa(Ga.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Wg(Yo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qg{constructor(e){this._methodName=e}}class $g{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qa(Ga.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qa(Ga.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ao(this._lat,e._lat)||ao(this._long,e._long)}}const Yg=/^__.*__$/;class Xg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ru(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class Jg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ru(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ka()}}class ey{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.yt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}ca(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return wy(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Zg(this.sa)&&Yg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ty{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=n||pp(e)}da(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ey({sa:e,methodName:t,fa:n,path:mo.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ny(e){const t=e._freezeSettings(),n=pp(e._databaseId);return new ty(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ry(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.da(s.merge||s.mergeFields?2:0,t,n,i);gy("Data must be an object, but it was:",a,r);const o=py(r,a);let l,c;if(s.merge)l=new tc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=yy(t,r,n);if(!a.contains(i))throw new Qa(Ga.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Iy(e,i)||e.push(i)}l=new tc(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Xg(new nc(o),l,c)}class iy extends Qg{_toFieldTransform(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iy}}function sy(e,t,n){return new ey({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class ay extends Qg{_toFieldTransform(e){return new Wc(e.path,new Fc)}isEqual(e){return e instanceof ay}}class oy extends Qg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=sy(this,e,!0),n=this._a.map((e=>fy(e,t))),r=new Uc(n);return new Wc(e.path,r)}isEqual(e){return this===e}}class ly extends Qg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=sy(this,e,!0),n=this._a.map((e=>fy(e,t))),r=new Bc(n);return new Wc(e.path,r)}isEqual(e){return this===e}}class cy extends Qg{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new qc(e.yt,Rc(e.yt,this.wa));return new Wc(e.path,t)}isEqual(e){return this===e}}function uy(e,t,n,r){const i=e.da(1,t,n);gy("Data must be an object, but it was:",i,r);const s=[],a=nc.empty();Ho(r,((e,r)=>{const o=by(t,e,n);r=ft(r);const l=i.ca(o);if(r instanceof iy)s.push(o);else{const e=fy(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new tc(s);return new Jg(a,o,i.fieldTransforms)}function hy(e,t,n,r,i,s){const a=e.da(1,t,n),o=[yy(t,r,n)],l=[i];if(s.length%2!=0)throw new Qa(Ga.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(yy(t,s[d])),l.push(s[d+1]);const c=[],u=nc.empty();for(let d=o.length-1;d>=0;--d)if(!Iy(c,o[d])){const e=o[d];let t=l[d];t=ft(t);const n=a.ca(e);if(t instanceof iy)c.push(e);else{const r=fy(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new tc(c);return new Jg(u,h,a.fieldTransforms)}function dy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fy(n,e.da(r?4:3,t))}function fy(e,t){if(my(e=ft(e)))return gy("Unsupported field value:",t,e),py(e,t);if(e instanceof Qg)return function(e,t){if(!Zg(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=fy(i,t.aa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ft(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rc(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=co.fromDate(e);return{timestampValue:Bu(t.yt,n)}}if(e instanceof co){const n=new co(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bu(t.yt,n)}}if(e instanceof $g)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wg)return{bytesValue:zu(t.yt,e._byteString)};if(e instanceof lg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ha("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Hu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(tg(e)))}(e,t)}function py(e,t){const n={};return Wo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ho(e,((e,r)=>{const i=fy(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function my(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof co||e instanceof $g||e instanceof Wg||e instanceof lg||e instanceof Qg)}function gy(e,t,n){if(!my(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=tg(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function yy(e,t,n){if((t=ft(t))instanceof Gg)return t._internalPath;if("string"==typeof t)return by(e,t);throw wy("Field path arguments must be of type string or ",e,!1,void 0,n)}const vy=new RegExp("[~\\*/\\[\\]]");function by(e,t,n){if(t.search(vy)>=0)throw wy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Gg(...t.split("."))._internalPath}catch(r){throw wy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wy(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Qa(Ga.INVALID_ARGUMENT,o+e+l)}function Iy(e,t){return e.some((e=>e.isEqual(t)))}class Ey{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _y extends Ey{data(){return super.data()}}function Sy(e,t){return"string"==typeof t?by(e,t):t instanceof Gg?t._internalPath:t._delegate._internalPath}function xy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Qa(Ga.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class Ty extends ky{}function Cy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof ky&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Ay)).length,n=e.filter((e=>e instanceof Ny)).length;if(t>1||t>0&&n>0)throw new Qa(Ga.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Ny extends Ty{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ny(e,t,n)}_apply(e){const t=this._parse(e);return Fy(e._query,t),new cg(e.firestore,e.converter,Ec(e._query,t))}_parse(e){const t=ny(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){My(a,s);const t=[];for(const n of a)t.push(jy(r,e,n));o={arrayValue:{values:t}}}else o=jy(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||My(a,s),o=dy(n,"where",a,"in"===s||"not-in"===s);return Nl.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ay extends ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ay(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Al.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Fy(n,i),n=Ec(n,i)}(e._query,t),new cg(e.firestore,e.converter,Ec(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dy extends Ty{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Gl(t,n);return function(e,t){if(null===yc(e)){const n=vc(e);null!==n&&Uy(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new cg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new fc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Oy extends Ty{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Oy(e,t,n)}_apply(e){return new cg(e.firestore,e.converter,_c(e._query,this._limit,this._limitType))}}class Ry extends Ty{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Ry(e,t,n)}_apply(e){const t=Ly(e,this.type,this._docOrFields,this._inclusive);return new cg(e.firestore,e.converter,function(e,t){return new fc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Py extends Ty{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Py(e,t,n)}_apply(e){const t=Ly(e,this.type,this._docOrFields,this._inclusive);return new cg(e.firestore,e.converter,function(e,t){return new fc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Ly(e,t,n,r){if(n[0]=ft(n[0]),n[0]instanceof Ey)return function(e,t,n,r,i){if(!r)throw new Qa(Ga.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of wc(e))if(a.field.isKeyField())s.push(fl(t,r.key));else{const e=r.data.field(a.field);if(tl(e))throw new Qa(Ga.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new xl(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=ny(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new Qa(Ga.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let l=0;l<i.length;l++){const s=i[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!bc(e)&&-1!==s.indexOf("/"))throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(fo.fromString(s));if(!go.isDocumentKey(n))throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new go(n);o.push(fl(t,i))}else{const e=dy(n,r,s);o.push(e)}}return new xl(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function jy(e,t,n){if("string"==typeof(n=ft(n))){if(""===n)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bc(t)&&-1!==n.indexOf("/"))throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(fo.fromString(n));if(!go.isDocumentKey(r))throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return fl(e,new go(r))}if(n instanceof lg)return fl(e,n._key);throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(tg(n),"."))}function My(e,t){if(!Array.isArray(e)||0===e.length)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Fy(e,t){if(t.isInequality()){const n=vc(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=yc(e);null!==i&&Uy(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Qa(Ga.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Qa(Ga.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Uy(e,t,n){if(!n.isEqual(t))throw new Qa(Ga.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Vy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ka()}}convertObject(e,t){const n={};return Ho(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new $g(Zo(e.latitude),Zo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=nl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const t=Jo(e);return new co(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=fo.fromString(e);Ha(ph(n));const r=new qo(n.get(1),n.get(3)),i=new go(n.popFirst(5));return r.isEqual(t)||Ba("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function By(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zy extends Vy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lg(this.firestore,null,t)}}class qy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ky extends Ey{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Hy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Sy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Hy extends Ky{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Wy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Hy(this._firestore,this._userDataWriter,n.key,n,new qy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qa(Ga.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Hy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Hy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Gy(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Gy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ka()}}function Qy(e,t){return e instanceof Ky&&t instanceof Ky?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Wy&&t instanceof Wy&&e._firestore===t._firestore&&pg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class $y extends Vy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lg(this.firestore,null,t)}}function Yy(e){e=ng(e,lg);const t=ng(e.firestore,Mg),n=Fg(t),r=new $y(t);return function(e,t){const n=new $a;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Wa(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Qa(Ga.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Xp(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await kg(e),t,n))),n.promise}(n,e._key).then((n=>new Ky(t,r,e._key,n,new qy(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Xy(e){e=ng(e,cg);const t=ng(e.firestore,Mg),n=Fg(t),r=new $y(t);return function(e,t){const n=new $a;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Wf(e,t,!0),i=new mm(t,r.Hi),s=i.Wu(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=Xp(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await kg(e),t,n))),n.promise}(n,e._query).then((n=>new Wy(t,r,e,n)))}function Jy(e,t,n){e=ng(e,lg);const r=ng(e.firestore,Mg),i=By(e.converter,t,n);return nv(r,[ry(ny(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qc.none())])}function Zy(e,t,n){e=ng(e,lg);const r=ng(e.firestore,Mg),i=ny(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=ft(t))||t instanceof Gg?hy(i,"updateDoc",e._key,t,n,o):uy(i,"updateDoc",e._key,t),nv(r,[s.toMutation(e._key,Qc.exists(!0))])}function ev(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=ft(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Lg(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(Lg(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof lg)h=ng(e.firestore,Mg),d=mc(e._key.path),u={next:t=>{n[l]&&n[l](rv(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=ng(e,cg);h=ng(t.firestore,Mg),d=t._query;const r=new $y(h);u={next:e=>{n[l]&&n[l](new Wy(h,r,t,e))},error:n[l+1],complete:n[l+2]},xy(e._query)}return function(e,t,n,r){const i=new gg(r),s=new lm(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>rm(await Ag(e),s))),()=>{i.bc(),e.asyncQueue.enqueueAndForget((async()=>im(await Ag(e),s)))}}(Fg(h),d,c,u)}function tv(e,t){return function(e,t){const n=new gg(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Wa(e).Ru.add(t),t.next()}(await Ag(e),n))),()=>{n.bc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Wa(e).Ru.delete(t)}(await Ag(e),n)))}}(Fg(e=ng(e,Mg)),Lg(t)?t:{next:t})}function nv(e,t){return function(e,t){const n=new $a;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Wm(e);try{const e=await function(e,t){const n=Wa(e),r=co.now(),i=t.reduce(((e,t)=>e.add(t.key)),xu());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=gu(),l=xu();return n.Gi.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=eu(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new ru(e.key,t,rc(t.value.mapValue),Qc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:bu(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.hc[e.currentUser.toKey()];r||(r=new $l(ao)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Pm(r,e.changes),await Mp(r.remoteStore)}catch(e){const t=Xp(e,"Failed to persist write");n.reject(t)}}(await Cg(e),t,n))),n.promise}(Fg(e),t)}function rv(e,t,n){const r=n.docs.get(t._key),i=new $y(e);return new Ky(e,i,t._key,r,new qy(n.hasPendingWrites,n.fromCache),t.converter)}const iv={maxAttempts:5};class sv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ny(e)}set(e,t,n){this._verifyNotCommitted();const r=av(e,this._firestore),i=By(r.converter,t,n),s=ry(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Qc.none())),this}update(e,t,n){this._verifyNotCommitted();const r=av(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=ft(t))||t instanceof Gg?hy(this._dataReader,"WriteBatch.update",r._key,t,n,a):uy(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Qc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=av(e,this._firestore);return this._mutations=this._mutations.concat(new ou(t._key,Qc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qa(Ga.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function av(e,t){if((e=ft(e)).firestore!==t)throw new Qa(Ga.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class ov extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ny(e)}get(e){const t=av(e,this._firestore),n=new zy(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Ka();const r=e[0];if(r.isFoundDocument())return new Ey(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Ey(this._firestore,n,t._key,null,t.converter);throw Ka()}))}set(e,t,n){const r=av(e,this._firestore),i=By(r.converter,t,n),s=ry(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=av(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=ft(t))||t instanceof Gg?hy(this._dataReader,"Transaction.update",r._key,t,n,a):uy(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=av(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=av(e,this._firestore),n=new $y(this._firestore);return super.get(e).then((e=>new Ky(this._firestore,n,t._key,e._document,new qy(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ma=e}(cn),nn(new pt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Mg(new Za(e.getProvider("auth-internal")),new ro(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qa(Ga.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),pn(La,"3.8.0",e),pn(La,"3.8.0","esm2017")}();function lv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Qa("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function cv(){if("undefined"===typeof Uint8Array)throw new Qa("unimplemented","Uint8Arrays are not available in this environment.")}function uv(){if("undefined"==typeof atob)throw new Qa("unimplemented","Blobs are unavailable in Firestore in this environment.")}class hv{constructor(e){this._delegate=e}static fromBase64String(e){return uv(),new hv(Wg.fromBase64String(e))}static fromUint8Array(e){return cv(),new hv(Wg.fromUint8Array(e))}toBase64(){return uv(),this._delegate.toBase64()}toUint8Array(){return cv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dv(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class fv{enableIndexedDbPersistence(e,t){return function(e,t){Hg(e=ng(e,Mg));const n=Fg(e),r=e._freezeSettings(),i=new Ym;return Vg(n,i,new Qm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Hg(e=ng(e,Mg));const t=Fg(e),n=e._freezeSettings(),r=new Ym;return Vg(t,r,new $m(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Qa(Ga.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new $a;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Do.C())return Promise.resolve();const t=e+"main";await Do.delete(t)}(Lf(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class pv{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof qo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||za("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};og(this._delegate,e,t,n)}enableNetwork(){return zg(this._delegate)}disableNetwork(){return qg(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Jm("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Bg(this._delegate)}onSnapshotsInSync(e){return tv(this._delegate,e)}get app(){if(!this._appCompat)throw new Qa("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Cv(this,hg(this._delegate,e))}catch(t){throw wv(t,"collection()","Firestore.collection()")}}doc(e){try{return new bv(this,dg(this._delegate,e))}catch(t){throw wv(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xv(this,function(e,t){if(e=ng(e,ag),Xm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Qa(Ga.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new cg(e,null,function(e){return new fc(fo.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw wv(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=ng(e,Mg);const r=Object.assign(Object.assign({},iv),n);return function(e){if(e.maxAttempts<1)throw new Qa(Ga.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new $a;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Ng(e);new bg(e.asyncQueue,i,n,t,r).run()})),r.promise}(Fg(e),(n=>t(new ov(e,n))),r)}(this._delegate,(t=>e(new gv(this,t))))}batch(){return Fg(this._delegate),new yv(new sv(this._delegate,(e=>nv(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Fg(e=ng(e,Mg)),r=new jg;return Rg(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Kg(this._delegate,e).then((e=>e?new xv(this,e):null))}}class mv extends Vy{constructor(e){super(),this.firestore=e}convertBytes(e){return new hv(new Wg(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bv.forKey(t,this.firestore,null)}}class gv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mv(e)}get(e){const t=Nv(e);return this._delegate.get(t).then((e=>new _v(this._firestore,new Ky(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Nv(e);return n?(lv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=Nv(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Nv(e);return this._delegate.delete(t),this}}class yv{constructor(e){this._delegate=e}set(e,t,n){const r=Nv(e);return n?(lv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=Nv(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Nv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vv{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Hy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sv(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=vv.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new vv(e,new mv(e),t),r.set(t,i)),i}}vv.INSTANCES=new WeakMap;class bv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mv(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Qa("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new bv(t,new lg(t._delegate,n,new go(e)))}static forKey(e,t,n){return new bv(t,new lg(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Cv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Cv(this.firestore,hg(this._delegate,e))}catch(t){throw wv(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=ft(e))instanceof lg&&fg(this._delegate,e)}set(e,t){t=lv("DocumentReference.set",t);try{return t?Jy(this._delegate,e,t):Jy(this._delegate,e)}catch(n){throw wv(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Zy(this._delegate,e):Zy(this._delegate,e,t,...r)}catch(s){throw wv(s,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return nv(ng(e.firestore,Mg),[new ou(e._key,Qc.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Iv(t),i=Ev(t,(e=>new _v(this.firestore,new Ky(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ev(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Yy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ng(e,lg);const t=ng(e.firestore,Mg);return Dg(Fg(t),e._key,{source:"server"}).then((n=>rv(t,e,n)))}(this._delegate):function(e){e=ng(e,lg);const t=ng(e.firestore,Mg);return Dg(Fg(t),e._key).then((n=>rv(t,e,n)))}(this._delegate),t.then((e=>new _v(this.firestore,new Ky(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new bv(this.firestore,e?this._delegate.withConverter(vv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function wv(e,t,n){return e.message=e.message.replace(t,n),e}function Iv(e){for(const t of e)if("object"===typeof t&&!dv(t))return t;return{}}function Ev(e,t){var n,r;let i;return i=dv(e[0])?e[0]:dv(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class _v{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bv(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qy(this._delegate,e._delegate)}}class Sv extends _v{data(e){const t=this._delegate.data(e);return function(e,t){e||Ka()}(void 0!==t),t}}class xv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mv(e)}where(e,t,n){try{return new xv(this.firestore,Cy(this._delegate,function(e,t,n){const r=t,i=Sy("where",e);return Ny._create(i,r,n)}(e,t,n)))}catch(r){throw wv(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xv(this.firestore,Cy(this._delegate,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";const n=t,r=Sy("orderBy",e);return Dy._create(r,n)}(e,t)))}catch(n){throw wv(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xv(this.firestore,Cy(this._delegate,function(e){return rg("limit",e),Oy._create("limit",e,"F")}(e)))}catch(t){throw wv(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xv(this.firestore,Cy(this._delegate,function(e){return rg("limitToLast",e),Oy._create("limitToLast",e,"L")}(e)))}catch(t){throw wv(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new xv(this.firestore,Cy(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ry._create("startAt",t,!0)}(...arguments)))}catch(e){throw wv(e,"startAt()","Query.startAt()")}}startAfter(){try{return new xv(this.firestore,Cy(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ry._create("startAfter",t,!1)}(...arguments)))}catch(e){throw wv(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new xv(this.firestore,Cy(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Py._create("endBefore",t,!1)}(...arguments)))}catch(e){throw wv(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new xv(this.firestore,Cy(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Py._create("endAt",t,!0)}(...arguments)))}catch(e){throw wv(e,"endAt()","Query.endAt()")}}isEqual(e){return pg(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Xy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ng(e,cg);const t=ng(e.firestore,Mg),n=Fg(t),r=new $y(t);return Og(n,e._query,{source:"server"}).then((n=>new Wy(t,r,e,n)))}(this._delegate):function(e){e=ng(e,cg);const t=ng(e.firestore,Mg),n=Fg(t),r=new $y(t);return xy(e._query),Og(n,e._query).then((n=>new Wy(t,r,e,n)))}(this._delegate),t.then((e=>new Tv(this.firestore,new Wy(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Iv(t),i=Ev(t,(e=>new Tv(this.firestore,new Wy(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ev(this._delegate,r,i)}withConverter(e){return new xv(this.firestore,e?this._delegate.withConverter(vv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class kv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Tv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xv(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Sv(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new kv(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Sv(this._firestore,n))}))}isEqual(e){return Qy(this._delegate,e._delegate)}}class Cv extends xv{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bv(this.firestore,e):null}doc(e){try{return new bv(this.firestore,void 0===e?dg(this._delegate):dg(this._delegate,e))}catch(t){throw wv(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=ng(e.firestore,Mg),r=dg(e),i=By(e.converter,t);return nv(n,[ry(ny(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qc.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new bv(this.firestore,e)))}isEqual(e){return fg(this._delegate,e._delegate)}withConverter(e){return new Cv(this.firestore,e?this._delegate.withConverter(vv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Nv(e){return ng(e,lg)}class Av{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Gg(...t)}static documentId(){return new Av(mo.keyField().canonicalString())}isEqual(e){return(e=ft(e))instanceof Gg&&this._delegate._internalPath.isEqual(e._internalPath)}}class Dv{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ay("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Dv(e)}static delete(){const e=new iy("deleteField");return e._methodName="FieldValue.delete",new Dv(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oy("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Dv(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ly("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Dv(e)}static increment(e){const t=function(e){return new cy("increment",e)}(e);return t._methodName="FieldValue.increment",new Dv(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ov={Firestore:pv,GeoPoint:$g,Timestamp:co,Blob:hv,Transaction:gv,WriteBatch:yv,DocumentReference:bv,DocumentSnapshot:_v,Query:xv,QueryDocumentSnapshot:Sv,QuerySnapshot:Tv,CollectionReference:Cv,FieldPath:Av,FieldValue:Dv,setLogLevel:function(e){!function(e){Fa.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Rv;(function(e,t){e.INTERNAL.registerComponent(new pt("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Ov)))})(Rv=On,((e,t)=>new pv(e,t,new fv))),Rv.registerVersion("@firebase/firestore-compat","0.3.0");function Pv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jv=Lv,Mv=new et("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fv=new St("@firebase/auth");function Uv(e){if(Fv.logLevel<=bt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fv.error("Auth (".concat(cn,"): ").concat(e),...n)}}function Vv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Kv(e,...n)}function Bv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kv(e,...n)}function zv(e,t,n){const r=Object.assign(Object.assign({},jv()),{[t]:n});return new et("auth","Firebase",r).create(t,{appName:e.name})}function qv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vv(e,"argument-error"),zv(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Kv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Mv.create(e,...n)}function Hv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Kv(t,...r)}}function Wv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Uv(t),new Error(t)}function Gv(e,t){e||Wv(t)}const Qv=new Map;function $v(e){Gv(e instanceof Function,"Expected a class definition");let t=Qv.get(e);return t?(Gv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qv.set(e,t),t)}function Yv(e,t){const n=rn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(rt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Vv(e,"already-initialized")}return n.initialize({options:t})}function Xv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Jv(){return"http:"===Zv()||"https:"===Zv()}function Zv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class eb{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gv(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Jv()||ze()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tb(e,t){Gv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class nb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Wv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Wv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Wv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ib=new eb(3e4,6e4);function sb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ab(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return ob(e,i,(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=st(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),nb.fetch()(cb(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function ob(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},rb),t);try{const t=new ub(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw hb(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw hb(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw hb(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw hb(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw zv(e,o,a);Vv(e,o)}}catch(i){if(i instanceof Ze)throw i;Vv(e,"network-request-failed")}}async function lb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ab(e,t,n,r,i);return"mfaPendingCredential"in s&&Vv(e,"multi-factor-auth-required",{_serverResponse:s}),s}function cb(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?tb(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class ub{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Bv(this.auth,"network-request-failed"))),ib.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function hb(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bv(e,t,r);return i.customData._tokenResponse=n,i}function db(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function fb(e){return 1e3*Number(e)}function pb(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Uv("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ue(n);return e?JSON.parse(e):(Uv("Failed to decode base64 JWT payload"),null)}catch(i){return Uv("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function mb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return t;try{return await t}catch(r){throw r instanceof Ze&&gb(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function gb(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}class yb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class vb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=db(this.lastLoginAt),this.creationTime=db(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bb(e){var t;const n=e.auth,r=await e.getIdToken(),i=await mb(e,async function(e,t){return ab(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Hv(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Pv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new vb(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class wb{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Hv(e.idToken,"internal-error"),Hv("undefined"!==typeof e.idToken,"internal-error"),Hv("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=pb(e);return Hv(t,"internal-error"),Hv("undefined"!==typeof t.exp,"internal-error"),Hv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Hv(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ob(e,{},(async()=>{const n=st({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=cb(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nb.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new wb;return n&&(Hv("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Hv("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Hv("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wb,this.toJSON())}_performRefresh(){return Wv("not implemented")}}function Ib(e,t){Hv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Eb{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Pv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await mb(this,this.stsTokenManager.getToken(this.auth,e));return Hv(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ft(e),r=await n.getIdToken(t),i=pb(r);Hv(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:db(fb(i.auth_time)),issuedAtTime:db(fb(i.iat)),expirationTime:db(fb(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ft(e);await bb(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Hv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Eb(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Hv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await bb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await mb(this,async function(e,t){return ab(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:I,stsTokenManager:E}=t;Hv(v&&E,e,"internal-error");const _=wb.fromJSON(this.name,E);Hv("string"===typeof v,e,"internal-error"),Ib(u,e.name),Ib(h,e.name),Hv("boolean"===typeof b,e,"internal-error"),Hv("boolean"===typeof w,e,"internal-error"),Ib(d,e.name),Ib(f,e.name),Ib(p,e.name),Ib(m,e.name),Ib(g,e.name),Ib(y,e.name);const S=new Eb({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(S.providerData=I.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new wb;r.updateFromServerResponse(t);const i=new Eb({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await bb(i),i}}class _b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_b.type="NONE";const Sb=_b;function xb(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class kb{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=xb(this.userKey,r.apiKey,i),this.fullPersistenceKey=xb("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Eb._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kb($v(Sb),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||$v(Sb);const s=xb(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Eb._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(ig){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(ig){}}))),new kb(i,e,n)):new kb(i,e,n)}}function Tb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Db(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rb(t))return"Blackberry";if(Pb(t))return"Webos";if(Nb(t))return"Safari";if((t.includes("chrome/")||Ab(t))&&!t.includes("edge/"))return"Chrome";if(Ob(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Cb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/firefox\//i.test(e)}function Nb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ab(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/crios\//i.test(e)}function Db(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/iemobile/i.test(e)}function Ob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/android/i.test(e)}function Rb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/blackberry/i.test(e)}function Pb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/webos/i.test(e)}function Lb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();var t;return Lb(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Mb(){return function(){const e=Be();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Fb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return Lb(e)||Ob(e)||Pb(e)||Rb(e)||/windows phone/i.test(e)||Db(e)}function Ub(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Tb(Be());break;case"Worker":t="".concat(Tb(Be()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(cn,"/").concat(r)}class Vb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Bb{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qb(this),this.idTokenSubscription=new qb(this),this.beforeStateQueue=new Vb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mv,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$v(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await kb.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Hv(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bb(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ft(e):null;return t&&Hv(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Hv(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence($v(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new et("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$v(e)||this._popupRedirectResolver;Hv(t,this,"argument-error"),this.redirectPersistenceManager=await kb.create(this,[$v(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Hv(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Hv(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function zb(e){return ft(e)}class qb{constructor(e){this.auth=e,this.observer=null,this.addObserver=lt((e=>this.observer=e))}get next(){return Hv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kb(e,t,n){const r=zb(e);Hv(r._canInitEmulator,r,"emulator-config-failed"),Hv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Hb(t),{host:a,port:o}=function(e){const t=Hb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Wb(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Wb(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Gb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wv("not implemented")}_getIdTokenResponse(e){return Wv("not implemented")}_linkToIdToken(e,t){return Wv("not implemented")}_getReauthenticationResolver(e){return Wv("not implemented")}}async function Qb(e,t){return ab(e,"POST","/v1/accounts:update",t)}class $b extends Gb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new $b(e,t,"password")}static _fromEmailAndCode(e,t){return new $b(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return lb(e,"POST","/v1/accounts:signInWithPassword",sb(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return lb(e,"POST","/v1/accounts:signInWithEmailLink",sb(e,t))}(e,{email:this._email,oobCode:this._password});default:Vv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Qb(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return lb(e,"POST","/v1/accounts:signInWithEmailLink",sb(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Vv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Yb(e,t){return lb(e,"POST","/v1/accounts:signInWithIdp",sb(e,t))}class Xb extends Gb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xb(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Pv(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Xb(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Yb(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Yb(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yb(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=st(t)}return e}}const Jb={USER_NOT_FOUND:"user-not-found"};class Zb extends Gb{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Zb({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Zb({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return lb(e,"POST","/v1/accounts:signInWithPhoneNumber",sb(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await lb(e,"POST","/v1/accounts:signInWithPhoneNumber",sb(e,t));if(n.temporaryProof)throw hb(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return lb(e,"POST","/v1/accounts:signInWithPhoneNumber",sb(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Jb)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Zb({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ew{constructor(e){var t,n,r,i,s,a;const o=at(ot(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Hv(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=at(ot(e)).link,n=t?at(ot(t)).deep_link_id:null,r=at(ot(e)).deep_link_id;return(r?at(ot(r)).link:null)||r||n||t||e}(e);try{return new ew(t)}catch(ig){return null}}}class tw{constructor(){this.providerId=tw.PROVIDER_ID}static credential(e,t){return $b._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ew.parseLink(t);return Hv(n,"argument-error"),$b._fromEmailAndCode(e,n.code,n.tenantId)}}tw.PROVIDER_ID="password",tw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rw extends nw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class iw extends rw{constructor(){super("facebook.com")}static credential(e){return Xb._fromParams({providerId:iw.PROVIDER_ID,signInMethod:iw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iw.credentialFromTaggedObject(e)}static credentialFromError(e){return iw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return iw.credential(t.oauthAccessToken)}catch(ig){return null}}}iw.FACEBOOK_SIGN_IN_METHOD="facebook.com",iw.PROVIDER_ID="facebook.com";class sw extends rw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xb._fromParams({providerId:sw.PROVIDER_ID,signInMethod:sw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sw.credentialFromTaggedObject(e)}static credentialFromError(e){return sw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return sw.credential(n,r)}catch(ig){return null}}}sw.GOOGLE_SIGN_IN_METHOD="google.com",sw.PROVIDER_ID="google.com";class aw extends rw{constructor(){super("github.com")}static credential(e){return Xb._fromParams({providerId:aw.PROVIDER_ID,signInMethod:aw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aw.credentialFromTaggedObject(e)}static credentialFromError(e){return aw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return aw.credential(t.oauthAccessToken)}catch(ig){return null}}}aw.GITHUB_SIGN_IN_METHOD="github.com",aw.PROVIDER_ID="github.com";class ow extends rw{constructor(){super("twitter.com")}static credential(e,t){return Xb._fromParams({providerId:ow.PROVIDER_ID,signInMethod:ow.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ow.credentialFromTaggedObject(e)}static credentialFromError(e){return ow.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ow.credential(n,r)}catch(ig){return null}}}async function lw(e,t){return lb(e,"POST","/v1/accounts:signUp",sb(e,t))}ow.TWITTER_SIGN_IN_METHOD="twitter.com",ow.PROVIDER_ID="twitter.com";class cw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Eb._fromIdTokenResponse(e,n,r),s=uw(n);return new cw({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=uw(n);return new cw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function uw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class hw extends Ze{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,hw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new hw(e,t,n,r)}}function dw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw hw._fromErrorAndOperation(e,n,t,r);throw n}))}async function fw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await mb(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return cw._forOperation(e,"link",r)}async function pw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await mb(e,dw(r,i,t,e),n);Hv(s.idToken,r,"internal-error");const a=pb(s.idToken);Hv(a,r,"internal-error");const{sub:o}=a;return Hv(e.uid===o,r,"user-mismatch"),cw._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Vv(r,"user-mismatch"),s}}async function mw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await dw(e,r,t),s=await cw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function gw(e,t){return mw(zb(e),t)}async function yw(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=ft(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await mb(i,async function(e,t){return ab(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function vw(e,t,n,r){return ft(e).onIdTokenChanged(t,n,r)}function bw(e,t,n){return ft(e).beforeAuthStateChanged(t,n)}function ww(e,t,n,r){return ft(e).onAuthStateChanged(t,n,r)}new WeakMap;const Iw="__sak";class Ew{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Iw,"1"),this.storage.removeItem(Iw),Promise.resolve(!0)):Promise.resolve(!1)}catch(ig){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _w extends Ew{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Be();return Nb(e)||Lb(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Mb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_w.type="LOCAL";const Sw=_w;class xw extends Ew{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xw.type="SESSION";const kw=xw;class Tw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Tw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Cw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Tw.receivers=[];class Nw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Cw("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Aw(){return window}function Dw(){return"undefined"!==typeof Aw().WorkerGlobalScope&&"function"===typeof Aw().importScripts}const Ow="firebaseLocalStorageDb",Rw="firebaseLocalStorage",Pw="fbase_key";class Lw{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function jw(e,t){return e.transaction([Rw],t?"readwrite":"readonly").objectStore(Rw)}function Mw(){const e=indexedDB.open(Ow,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Rw,{keyPath:Pw})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Rw)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ow);return new Lw(e).toPromise()}(),t(await Mw()))}))}))}async function Fw(e,t,n){const r=jw(e,!0).put({[Pw]:t,value:n});return new Lw(r).toPromise()}function Uw(e,t){const n=jw(e,!0).delete(t);return new Lw(n).toPromise()}class Vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Mw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tw._getInstance(Dw()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Nw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(ig){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mw();return await Fw(e,Iw,"1"),await Uw(e,Iw),!0}catch(ig){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Fw(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=jw(e,!1).get(t),r=await new Lw(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Uw(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=jw(e,!1).getAll();return new Lw(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Vw.type="LOCAL";const Bw=Vw;function zw(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Bv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qw(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}qw("rcb"),new eb(3e4,6e4);const Kw="recaptcha";async function Hw(e,t,n){var r;const i=await n.verify();try{let s;if(Hv("string"===typeof i,e,"argument-error"),Hv(n.type===Kw,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Hv("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ab(e,"POST","/v2/accounts/mfaEnrollment:start",sb(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Hv("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Hv(n,e,"missing-multi-factor-info");const a=await function(e,t){return ab(e,"POST","/v2/accounts/mfaSignIn:start",sb(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ab(e,"POST","/v1/accounts:sendVerificationCode",sb(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ww{constructor(e){this.providerId=Ww.PROVIDER_ID,this.auth=zb(e)}verifyPhoneNumber(e,t){return Hw(this.auth,e,ft(t))}static credential(e,t){return Zb._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ww.credentialFromTaggedObject(t)}static credentialFromError(e){return Ww.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Zb._fromTokenResponse(n,r):null}}function Gw(e,t){return t?$v(t):(Hv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ww.PROVIDER_ID="phone",Ww.PHONE_SIGN_IN_METHOD="phone";class Qw extends Gb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yb(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $w(e){return mw(e.auth,new Qw(e),e.bypassAuthState)}function Yw(e){const{auth:t,user:n}=e;return Hv(n,t,"internal-error"),pw(n,new Qw(e),e.bypassAuthState)}async function Xw(e){const{auth:t,user:n}=e;return Hv(n,t,"internal-error"),fw(n,new Qw(e),e.bypassAuthState)}class Jw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $w;case"linkViaPopup":case"linkViaRedirect":return Xw;case"reauthViaPopup":case"reauthViaRedirect":return Yw;default:Vv(this.auth,"internal-error")}}resolve(e){Gv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zw=new eb(2e3,1e4);class eI extends Jw{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,eI.currentPopupAction&&eI.currentPopupAction.cancel(),eI.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Hv(e,this.auth,"internal-error"),e}async onExecution(){Gv(1===this.filter.length,"Popup operations only handle one event");const e=Cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Bv(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Bv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eI.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Bv(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Zw.get())};e()}}eI.currentPopupAction=null;const tI=new Map;class nI extends Jw{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=tI.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=sI(t),r=iI(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}tI.set(this.auth._key(),e)}return this.bypassAuthState||tI.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function rI(e,t){tI.set(e._key(),t)}function iI(e){return $v(e._redirectPersistence)}function sI(e){return xb("pendingRedirect",e.config.apiKey,e.name)}async function aI(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=zb(e),i=Gw(r,t),s=new nI(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class oI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!cI(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lI(e))}saveEventToCache(e){this.cachedEventUids.add(lI(e)),this.lastProcessedEventTime=Date.now()}}function lI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function cI(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const uI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hI=/^https?/;async function dI(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ab(e,"GET","/v1/projects",t)}(e);for(const n of t)try{if(fI(n))return}catch(ig){}Vv(e,"unauthorized-domain")}function fI(e){const t=Xv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!hI.test(n))return!1;if(uI.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const pI=new eb(3e4,6e4);function mI(){const e=Aw().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let gI=null;function yI(e){return gI=gI||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){mI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mI(),n(Bv(e,"network-request-failed"))},timeout:pI.get()})}if(null===(i=null===(r=Aw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Aw().gapi)||void 0===s?void 0:s.load)){const t=qw("iframefcb");return Aw()[t]=()=>{gapi.load?a():n(Bv(e,"network-request-failed"))},zw("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw gI=null,e}))}(e),gI}const vI=new eb(5e3,15e3),bI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function II(e){const t=e.config;Hv(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tb(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:cn},i=wI.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(st(r).slice(1))}const EI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_I="_blank",SI="http://localhost";class xI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function kI(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const TI="__/auth/handler",CI="emulator/auth/handler";function NI(e,t,n,r,i,s){Hv(e.config.authDomain,e,"auth-domain-config-required"),Hv(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:cn,eventId:i};if(t instanceof nw){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof rw){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const l of Object.keys(o))void 0===o[l]&&delete o[l];return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(TI);return tb(t,CI)}(e),"?").concat(st(o).slice(1))}const AI="webStorageSupport";const DI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kw,this._completeRedirectFn=aI,this._overrideRedirectResult=rI}async _openPopup(e,t,n,r){var i;Gv(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},EI),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Be().toLowerCase();n&&(o=Ab(c)?_I:n),Cb(c)&&(t=t||SI,l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(jb(c)&&"_self"!==o)return kI(t||"",o),new xI(null);const h=window.open(t||"",o,u);Hv(h,e,"popup-blocked");try{h.focus()}catch(d){}return new xI(h)}(e,NI(e,t,n,Xv(),r),Cw())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=NI(e,t,n,Xv(),r),Aw().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Gv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await yI(e),n=Aw().gapi;return Hv(n,e,"internal-error"),t.open({where:document.body,url:II(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bI,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Bv(e,"network-request-failed"),s=Aw().setTimeout((()=>{r(i)}),vI.get());function a(){Aw().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new oI(e);return t.register("authEvent",(t=>{Hv(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(AI,{type:AI},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[AI];void 0!==i&&t(!!i),Vv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fb()||Nb()||Lb()}};var OI="@firebase/auth",RI="0.21.0";class PI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Hv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const LI=Ye("authIdTokenMaxAge")||300;let jI=null;const MI=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LI)return;const i=null===n||void 0===n?void 0:n.token;jI!==i&&(jI=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function FI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();const t=rn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Yv(e,{popupRedirectResolver:DI,persistence:[Bw,Sw,kw]}),r=Ye("authTokenSyncURL");if(r){const e=MI(r);bw(n,e,(()=>e(n.currentUser))),vw(n,(t=>e(t)))}const i=Qe("auth");return i&&Kb(n,"http://".concat(i)),n}var UI;UI="Browser",nn(new pt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:a}=r.options;return((e,t)=>{Hv(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),Hv(!(null===a||void 0===a?void 0:a.includes(":")),"argument-error",{appName:e.name});const r={apiKey:s,authDomain:a,clientPlatform:UI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ub(UI)},i=new Bb(e,t,r);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($v);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i})(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),nn(new pt("auth-internal",(e=>(e=>new PI(e))(zb(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),pn(OI,RI,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(UI)),pn(OI,RI,"esm2017");let VI,BI;const zI=new WeakMap,qI=new WeakMap,KI=new WeakMap,HI=new WeakMap,WI=new WeakMap;let GI={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qI.get(e);if("objectStoreNames"===t)return e.objectStoreNames||KI.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return YI(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function QI(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(BI||(BI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(XI(this),n),YI(zI.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return YI(e.apply(XI(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(XI(this),t,...r);return KI.set(s,t.sort?t.sort():[t]),YI(s)}}function $I(e){return"function"===typeof e?QI(e):(e instanceof IDBTransaction&&function(e){if(qI.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));qI.set(e,t)}(e),t=e,(VI||(VI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,GI):e);var t}function YI(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(YI(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&zI.set(t,e)})).catch((()=>{})),WI.set(t,e),t}(e);if(HI.has(e))return HI.get(e);const t=$I(e);return t!==e&&(HI.set(e,t),WI.set(t,e)),t}const XI=e=>WI.get(e);const JI=["get","getKey","getAll","getAllKeys","count"],ZI=["put","add","delete","clear"],eE=new Map;function tE(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(eE.get(t))return eE.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ZI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!JI.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return eE.set(t,s),s}!function(e){GI=e(GI)}((e=>Nt(Nt({},e),{},{get:(t,n,r)=>tE(t,n)||e.get(t,n,r),has:(t,n)=>!!tE(t,n)||e.has(t,n)})));const nE="@firebase/installations",rE="0.6.0",iE=1e4,sE="w:".concat(rE),aE="FIS_v2",oE=36e5,lE=new et("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cE(e){return e instanceof Ze&&e.code.includes("request-failed")}function uE(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function hE(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function dE(e,t){const n=(await t.json()).error;return lE.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function fE(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pE(e,t){let{refreshToken:n}=t;const r=fE(e);return r.append("Authorization",function(e){return"".concat(aE," ").concat(e)}(n)),r}async function mE(e){const t=await e();return t.status>=500&&t.status<600?e():t}function gE(e){return new Promise((t=>{setTimeout(t,e)}))}const yE=/^[cdef][\w-]{21}$/;function vE(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return yE.test(t)?t:""}catch(ig){return""}}function bE(e){return"".concat(e.appName,"!").concat(e.appId)}const wE=new Map;function IE(e,t){const n=bE(e);EE(n,t),function(e,t){const n=SE();n&&n.postMessage({key:e,fid:t});xE()}(n,t)}function EE(e,t){const n=wE.get(e);if(n)for(const r of n)r(t)}let _E=null;function SE(){return!_E&&"BroadcastChannel"in self&&(_E=new BroadcastChannel("[Firebase] FID Change"),_E.onmessage=e=>{EE(e.data.key,e.data.fid)}),_E}function xE(){0===wE.size&&_E&&(_E.close(),_E=null)}const kE="firebase-installations-store";let TE=null;function CE(){return TE||(TE=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=YI(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(YI(a.result),e.oldVersion,e.newVersion,YI(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(kE)}})),TE}async function NE(e,t){const n=bE(e),r=(await CE()).transaction(kE,"readwrite"),i=r.objectStore(kE),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||IE(e,t.fid),t}async function AE(e){const t=bE(e),n=(await CE()).transaction(kE,"readwrite");await n.objectStore(kE).delete(t),await n.done}async function DE(e,t){const n=bE(e),r=(await CE()).transaction(kE,"readwrite"),i=r.objectStore(kE),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||IE(e,a.fid),a}async function OE(e){let t;const n=await DE(e.appConfig,(n=>{const r=function(e){const t=e||{fid:vE(),registrationStatus:0};return LE(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(lE.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=uE(n),a=fE(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:aE,appId:n.appId,sdkVersion:sE},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await mE((()=>fetch(s,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:hE(e.authToken)}}throw await dE("Create Installation",u)}(e,t);return NE(e.appConfig,n)}catch(n){throw cE(n)&&409===n.customData.serverCode?await AE(e.appConfig):await NE(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:RE(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function RE(e){let t=await PE(e.appConfig);for(;1===t.registrationStatus;)await gE(100),t=await PE(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await OE(e);return n||t}return t}function PE(e){return DE(e,(e=>{if(!e)throw lE.create("installation-not-found");return LE(e)}))}function LE(e){return 1===(t=e).registrationStatus&&t.registrationTime+iE<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function jE(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(uE(e),"/").concat(n,"/authTokens:generate")}(n,t),s=pE(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:sE,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await mE((()=>fetch(i,l)));if(c.ok){return hE(await c.json())}throw await dE("Generate Auth Token",c)}async function ME(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await DE(e.appConfig,(r=>{if(!BE(r))throw lE.create("not-registered");const i=r.authToken;if(!n&&zE(i))return r;if(1===i.requestStatus)return t=FE(e,n),r;{if(!navigator.onLine)throw lE.create("app-offline");const n=qE(r);return t=VE(e,n),n}})),i=t?await t:r.authToken;return i}async function FE(e,t){let n=await UE(e.appConfig);for(;1===n.authToken.requestStatus;)await gE(100),n=await UE(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ME(e,t):r}function UE(e){return DE(e,(e=>{if(!BE(e))throw lE.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+iE<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}async function VE(e,t){try{const n=await jE(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await NE(e.appConfig,r),n}catch(n){if(!cE(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await NE(e.appConfig,n)}else await AE(e.appConfig);throw n}}function BE(e){return void 0!==e&&2===e.registrationStatus}function zE(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+oE}(e)}function qE(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}async function KE(e){const{registrationPromise:t}=await OE(e);t&&await t}function HE(e){return lE.create("missing-app-config-values",{valueName:e})}const WE="installations",GE=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw HE("App Configuration");if(!e.name)throw HE("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw HE(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:rn(t,"heartbeat"),_delete:()=>Promise.resolve()}},QE=e=>{const t=rn(e.getProvider("app").getImmediate(),WE).getImmediate(),n={getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await OE(t);return r?r.catch(console.error):ME(t).catch(console.error),n.fid}(t),getToken:e=>async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await KE(n);const r=await ME(n,t);return r.token}(t,e)};return n};nn(new pt(WE,GE,"PUBLIC")),nn(new pt("installations-internal",QE,"PRIVATE")),pn(nE,rE),pn(nE,rE,"esm2017");const $E="analytics",YE="https://www.googletagmanager.com/gtag/js",XE=new St("@firebase/analytics");function JE(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function ZE(e,t,n,r){return async function(i,s,a){try{"event"===i?await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await JE(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){XE.error(s)}}(e,t,n,s,a):"config"===i?await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await JE(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(o){XE.error(o)}e("config",i,s)}(e,t,n,r,s,a):"consent"===i?e("consent","update",a):e("set",s)}catch(o){XE.error(o)}}}const e_=new et("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'});const t_=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function n_(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function r_(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:n_(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw e_.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}async function i_(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t_;var a;const{appId:o,measurementId:l}=e;try{await s_(n,r)}catch(c){if(l)return XE.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:o,measurementId:l};throw c}try{const t=await r_(e);return s.deleteThrottleMetadata(o),t}catch(c){const t=c;if(!a_(t)){if(s.deleteThrottleMetadata(o),l)return XE.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:o,measurementId:l};throw c}const r=503===Number(null===(a=null===t||void 0===t?void 0:t.customData)||void 0===a?void 0:a.httpStatus)?dt(i,s.intervalMillis,30):dt(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return s.setThrottleMetadata(o,u),XE.debug("Calling attemptFetch again in ".concat(r," millis")),i_(e,u,n,s)}}function s_(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(e_.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function a_(e){if(!(e instanceof Ze)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class o_{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let l_,c_;function u_(e){c_=e}function h_(e){l_=e}async function d_(e,t,n,r,i,s,a){var o;const l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t_,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw e_.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw e_.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new o_;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),i_({appId:r,apiKey:i,measurementId:s},a,o,t)}(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&XE.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>XE.error(e))),t.push(l);const c=async function(){if(!Ke())return XE.warn(e_.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await He()}catch(e){return XE.warn(e_.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(YE)&&n.src.includes(e))return n;return null})(s)||function(e,t){const n=document.createElement("script");n.src="".concat(YE,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}(s,u.measurementId),c_&&(i("consent","default",c_),u_(void 0)),i("js",new Date);const d=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),l_&&(i("set",l_),h_(void 0)),u.measurementId}class f_{constructor(e){this.app=e}_delete(){return delete p_[this.app.options.appId],Promise.resolve()}}let p_={},m_=[];const g_={};let y_,v_,b_="dataLayer",w_="gtag",I_=!1;function E_(){const e=[];if(ze()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=e_.create("invalid-analytics-context",{errorInfo:t});XE.warn(n.message)}}function __(e,t,n){E_();const r=e.options.appId;if(!r)throw e_.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw e_.create("no-api-key");XE.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=p_[r])throw e_.create("already-exists",{id:r});if(!I_){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(b_);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=ZE(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(p_,m_,g_,b_,w_);v_=e,y_=t,I_=!0}p_[r]=d_(e,m_,g_,t,y_,b_,n);return new f_(e)}function S_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=rn(e,$E);if(n.isInitialized()){const e=n.getImmediate();if(rt(t,n.getOptions()))return e;throw e_.create("already-initialized")}const r=n.initialize({options:t});return r}function x_(e,t,n,r){e=ft(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(v_,p_[e.app.options.appId],t,n,r).catch((e=>XE.error(e)))}const k_="@firebase/analytics",T_="0.9.0";nn(new pt($E,((e,t)=>{let{options:n}=t;return __(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),nn(new pt("analytics-internal",(function(e){try{const t=e.getProvider($E).getImmediate();return{logEvent:(e,n,r)=>x_(t,e,n,r)}}catch(t){throw e_.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),pn(k_,T_),pn(k_,T_,"esm2017");const C_=On.initializeApp({apiKey:"AIzaSyCnpEvLUUdpUR8_b7hyHx4hnlk_rAgGO4k",authDomain:"bmmlatam2.firebaseapp.com",databaseURL:"https://bmmlatam2-default-rtdb.firebaseio.com",projectId:"bmmlatam2",storageBucket:"bmmlatam2.appspot.com",messagingSenderId:"786602309812",appId:"1:786602309812:web:2dd69be36e6fc07be63fe1"}),N_=C_.firestore(),A_=FI(C_);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();e=ft(e);const t=rn(e,$E);t.isInitialized()?t.getImmediate():S_(e)}(C_);function D_(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}const O_=e=>{let{id:t,text:n}=e;return(0,f.jsxs)("div",{className:"alert",id:t,children:[(0,f.jsx)(D_,{className:"alert-icon"}),(0,f.jsx)("span",{className:"alert-text",children:n})]})},R_=()=>{ue(),(0,t.useRef)();const[e,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[a,o]=(0,t.useState)(null);console.log(A_.currentUser);function l(e){"wl"===e&&(document.getElementById("cool-popup").classList.remove("popup-container-enter"),document.getElementById("cool-popup").classList.add("popup-container-leave"),document.getElementById("blurry-bg").classList.remove("dark-bg-enter"),document.getElementById("blurry-bg").classList.add("dark-bg-leave"),setTimeout((()=>{s(!1)}),300)),"inv"===e&&(document.getElementById("cool-popup-2").classList.remove("popup-container-enter"),document.getElementById("cool-popup-2").classList.add("popup-container-leave"),document.getElementById("blurry-bg-2").classList.remove("dark-bg-enter"),document.getElementById("blurry-bg-2").classList.add("dark-bg-leave"),setTimeout((()=>{r(!1)}),300))}const[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(window.innerWidth),[p,m]=(0,t.useState)(window.innerHeight),g=()=>{d(window.innerWidth),m(window.innerHeight)};(0,t.useEffect)((()=>(window.addEventListener("resize",g),()=>window.removeEventListener("resize",g))),[]),(0,t.useEffect)((()=>{ww(A_,(e=>{if(e){const t=e.uid;console.log("logged in, uid: ",t),console.log("email: ",e.email),console.log("password",e.providerId),console.log("name: ",e.displayName),o(e.displayName)}else console.log("user is logged out")}))}),[]);const[y,v]=(0,t.useState)(!1);return(0,f.jsxs)(f.Fragment,{children:[y&&(0,f.jsxs)("div",{className:"menu-container menu-enter",id:"cool-menu",children:[(0,f.jsx)(Pe,{className:"close-menu",onClick:()=>{document.getElementById("cool-menu").classList.remove("menu-enter"),document.getElementById("cool-menu").classList.add("menu-leave"),setTimeout((()=>{v(!1)}),400)}}),(0,f.jsx)(Ae,{to:"/",children:(0,f.jsx)("p",{className:"menu-btn",children:"Home"})}),(0,f.jsx)(Ae,{to:"/events",children:(0,f.jsx)("p",{className:"menu-btn",children:"Events"})}),(0,f.jsx)(Ae,{to:"/about",children:(0,f.jsx)("p",{className:"menu-btn",children:"About us"})}),(0,f.jsx)(Ae,{to:"/gallery",children:(0,f.jsx)("p",{className:"menu-btn",children:"Gallery"})}),(0,f.jsx)(Ae,{to:"/contact",children:(0,f.jsx)("p",{className:"menu-btn",children:"Contact us"})}),(0,f.jsx)(Ae,{to:"/competitions",children:(0,f.jsx)("p",{className:"menu-btn",children:"Competitions"})}),(0,f.jsx)(Ae,{to:"signup",children:(0,f.jsx)("p",{className:"menu-btn",children:"Sign up"})}),(0,f.jsx)(Ae,{to:"/my-profile",children:(0,f.jsx)("p",{className:"menu-btn",children:a})})]}),c&&(0,f.jsx)(O_,{text:"Coming Soon"}),e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"dark-bg dark-bg-enter",onClick:()=>{l("inv")},id:"blurry-bg-2"}),(0,f.jsx)("div",{className:"popup-container popup-container-enter",id:"cool-popup-2",children:(0,f.jsxs)("div",{className:"popup gold-card",children:[(0,f.jsx)("p",{className:"invite-thanks",children:"You're Invited!"}),(0,f.jsx)("a",{href:"https://www.eventbrite.com/e/nashe-di-night-tickets-565509593417",className:"get-tickets",target:"_blank",children:"Get Tickets"}),(0,f.jsx)("p",{className:"invite-thanks",children:'Use Code "CantWait" For 20% Off'})]})})]}),h>900&&(0,f.jsxs)("div",{className:"nav",id:"nav",children:[(0,f.jsx)("div",{className:"top_logo",id:"top_logo",children:(0,f.jsx)(Ae,{to:"/",children:(0,f.jsx)("div",{className:"toplogo",children:(0,f.jsx)("img",{src:n(617),alt:"logo",className:"logo",id:"small_topcorner"})})})}),(0,f.jsxs)("div",{className:"nav-buttons",children:[(0,f.jsx)(Ae,{to:"/",children:(0,f.jsx)("p",{className:"nav-btn",children:"Home"})}),(0,f.jsx)(Ae,{to:"/about",children:(0,f.jsx)("p",{className:"nav-btn",children:"About us"})}),(0,f.jsx)(Ae,{to:"/events",children:(0,f.jsx)("p",{className:"nav-btn",children:"Events"})}),(0,f.jsx)(Ae,{to:"/gallery",children:(0,f.jsx)("p",{className:"nav-btn",children:"Gallery"})}),(0,f.jsx)(Ae,{to:"/contact",children:(0,f.jsx)("p",{className:"nav-btn",children:"Contact us"})}),(0,f.jsx)(Ae,{to:"/competitions",children:(0,f.jsx)("p",{className:"nav-btn",children:"Competitions"})}),null!=a&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(Ae,{to:"/my-profile",children:(0,f.jsx)("p",{className:"nav-btn",children:a})})}),null===a&&(0,f.jsx)(Ae,{to:"/signup",children:(0,f.jsx)("p",{className:"nav-btn",children:"Sign up"})})]})]}),h<900&&(0,f.jsxs)("div",{className:"mobile-nav",id:"mobile-nav",children:[(0,f.jsx)("div",{className:"top_logo",id:"top_logo",children:(0,f.jsx)(Ae,{to:"/",children:(0,f.jsx)("img",{src:n(110),alt:"logo",className:"logo",id:"small_topcorner"})})}),(0,f.jsx)(Le,{className:"open-menu",onClick:()=>{v(!0)}})]})]})};var P_=n(945),L_=n.n(P_);const j_=()=>{const[e,r]=(0,t.useState)(window.innerWidth),[i,s]=(0,t.useState)(window.innerHeight),a=()=>{r(window.innerWidth),s(window.innerHeight)};(0,t.useEffect)((()=>(L_().init({once:"true",duration:1e3,delay:200}),window.scrollTo(0,0),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a))),[]),(0,t.useEffect)((()=>{ww(A_,(e=>{if(e){const t=e.uid;console.log("logged in, uid: ",t),console.log("email: ",e.email),console.log("password",e.providerId),console.log("name: ",e.displayName)}else console.log("user is logged out")}))}),[]);const[o,l]=(0,t.useState)(!1);function c(){!function(e){for(var t=e.offsetTop,n=e.offsetLeft,r=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+r>window.pageXOffset}(document.querySelector(".landing-logo"))?(document.getElementById("background").classList.remove("fade-in"),document.getElementById("background").classList.add("fade-away"),document.getElementById("landing-items").classList.remove("landing-fade-in"),document.getElementById("landing-items").classList.add("landing-fade-out"),l(!0)):(document.getElementById("background").classList.remove("fade-away"),document.getElementById("background").classList.add("fade-in"),document.getElementById("landing-items").classList.remove("landing-fade-out"),document.getElementById("landing-items").classList.add("landing-fade-in"),l(!1))}window.onscroll=function(){c()};const u=(0,t.useRef)(),[h,d]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1);function y(e){"wl"===e&&(document.getElementById("cool-popup").classList.remove("popup-container-enter"),document.getElementById("cool-popup").classList.add("popup-container-leave"),document.getElementById("blurry-bg").classList.remove("dark-bg-enter"),document.getElementById("blurry-bg").classList.add("dark-bg-leave"),setTimeout((()=>{g(!1)}),300)),"inv"===e&&(document.getElementById("cool-popup-2").classList.remove("popup-container-enter"),document.getElementById("cool-popup-2").classList.add("popup-container-leave"),document.getElementById("blurry-bg-2").classList.remove("dark-bg-enter"),document.getElementById("blurry-bg-2").classList.add("dark-bg-leave"),setTimeout((()=>{d(!1)}),300))}return(0,f.jsxs)("html",{children:[(0,f.jsx)("div",{className:"bg fade-in",id:"background"}),(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),m&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"dark-bg dark-bg-enter",onClick:()=>{y("wl")},id:"blurry-bg"}),(0,f.jsx)("div",{className:"popup-container popup-container-enter",id:"cool-popup",children:(0,f.jsxs)("div",{className:"popup nitesout-card",children:[(0,f.jsxs)("p",{className:"popup-text",children:["Join our mailing list!",(0,f.jsx)("br",{}),"Email updates of events, competitions and other items."]}),(0,f.jsxs)("form",{id:"nitesout-waitlist",className:"popup-inputs",onSubmit:e=>{e.preventDefault();try{N_.collection("waitlist").add({email:u.current.value})}catch(t){console.log("post error")}y("wl"),setTimeout((()=>{d(!0)}),305)},children:[(0,f.jsx)("input",{ref:u,type:"email",placeholder:"Your Email Address"}),(0,f.jsx)("button",{type:"submit",children:"Join"})]})]})})]}),(0,f.jsxs)("div",{className:"pages",children:[(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsx)(O_,{id:"cookies",text:"By visiting this website, you agree to our use of cookies."}),(0,f.jsxs)("div",{className:"landing",children:[(0,f.jsxs)("div",{className:"landing-content",children:[(0,f.jsx)("img",{src:n(617),alt:"logo",className:"landing-logo"}),(0,f.jsxs)("h1",{className:"landing-title",children:["BHARAT MAHOTSAV",(0,f.jsx)("br",{}),"MANDAL"]}),(0,f.jsx)("h2",{className:"landing-sub",children:"\u0935\u0938\u0941\u0927\u0948\u0935 \u0915\u0941\u091f\u0941\u092e\u094d\u092c\u0915\u092e\u094d"}),(0,f.jsx)("p",{className:"landing-waitlist",onClick:()=>{g(!0)},children:"Join Mailing list"}),(0,f.jsx)("div",{className:"subhashitam-box",children:(0,f.jsxs)("h4",{className:"subhashitam",children:["\u0928 \u0939\u0940 \u0915\u0936\u094d\u091a\u093f\u0924\u094d \u0935\u093f\u091c\u093e\u0928\u093e\u0924\u093f \u0915\u093f\u0902 \u0915\u0938\u094d\u092f \u0936\u094d\u0935\u094b \u092d\u0935\u093f\u0937\u094d\u092f\u0924\u093f\u0964 ",(0,f.jsx)("br",{}),"\u0905\u0924\u0903 \u0936\u094d\u0935\u0903 \u0915\u0930\u0923\u0940\u092f\u093e\u0928\u093f \u0915\u0941\u0930\u094d\u092f\u093e\u0926\u0926\u094d\u092f\u0948\u0935 \u092c\u0941\u0926\u094d\u0927\u093f\u092e\u093e\u0928\u094d\u0965"]})}),(0,f.jsx)("div",{className:"meaning-box",children:(0,f.jsxs)("h4",{className:"subhashitam-meaning",children:["No one knows what is going to happen tomorrow. ",(0,f.jsx)("br",{}),"So doing all of tomorrow's task today is a signature of wise."]})})]}),(0,f.jsxs)("div",{className:"bar-node",id:"bar-node-1",children:[(0,f.jsx)("img",{src:n(684),alt:"bar node",className:"bar-img"}),(0,f.jsx)("div",{className:"ring"}),(0,f.jsx)("div",{className:"ring",id:"ring-1-2"})]}),(0,f.jsxs)("div",{className:"bar-node",id:"bar-node-3",children:[(0,f.jsx)("img",{src:n(822),alt:"bar node",className:"bar-img"}),(0,f.jsx)("div",{className:"ring"}),(0,f.jsx)("div",{className:"ring",id:"ring-1-2"})]})]}),(0,f.jsx)(p,{})]})]})};function M_(e){return u({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(e)}function F_(e){return u({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"}}]})(e)}function U_(e){return u({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"}}]})(e)}const V_=e=>{let{picture:t,name:n,role:r,major:i,ig:s,li:a,git:o,id:l,fb:c}=e;return(0,f.jsxs)("div",{className:"member-card-container",id:l,children:[t,(0,f.jsx)("h1",{className:"member-name",children:n}),(0,f.jsx)("p",{className:"member-role",children:r}),(0,f.jsx)("p",{className:"member-major",children:i}),(0,f.jsxs)("div",{className:"member-socials",children:[(0,f.jsx)("a",{target:"_blank",href:s,children:(0,f.jsx)(d,{})}),"false"!=a&&(0,f.jsx)("a",{target:"_blank",href:a,children:(0,f.jsx)(U_,{})}),"false"!=o&&(0,f.jsx)("a",{target:"_blank",href:o,children:(0,f.jsx)(F_,{})}),"false"!=c&&(0,f.jsx)("a",{target:"_blank",href:c,children:(0,f.jsx)(M_,{})})]})]})},B_=()=>{(0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]);const[e,n]=(0,t.useState)(!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"events-page-container",children:[(0,f.jsx)("h1",{className:"events-page-title",id:"team-page-title",children:"About us"}),(0,f.jsx)("p",{className:"alt-subtitle",children:"Bharat Mahotsav Mandal (BMM) LATAM is an organization that strives to organize a diverse and vibrant Santana Dharmic society that can contribute to the welfare of the world. BMM works to bring together the Santana Dharmic community in LATAM to practice, preserve, and advance ideals and values of Sanatana Dharma. BMM organizes family camps, games, bhajans, service activities, community outreach projects, and much more! BMM LATAM strives to instill pride in Santana heritage and to enhance appreciation of Santana Dharma practicers around the world, their traditions, and civilization by the broader community in LATAM."})]}),(0,f.jsx)(p,{})]})};function z_(e){return u({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 6a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 100 4v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 100-4V6z"}}]})(e)}const q_=e=>{let{title:t,thumbnailID:n,date:r,location:i,pop:s,link:a}=e;return(0,f.jsx)("a",{href:a,target:"_self",children:(0,f.jsxs)("div",{className:"event-card",children:[(0,f.jsxs)("div",{className:"population",children:[(0,f.jsx)(z_,{}),(0,f.jsx)("p",{className:"population-text",children:s})]}),(0,f.jsx)("div",{className:"event-thumbnail",id:n}),(0,f.jsxs)("div",{className:"event-info",children:[(0,f.jsx)("h2",{className:"event-title",children:t}),(0,f.jsx)("p",{className:"event-date",children:r}),(0,f.jsx)("p",{className:"event-location",children:i})]})]})})},K_=()=>((0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"events-page-container",children:[(0,f.jsx)("h1",{className:"events-page-title",id:"team-page-title",children:"Our Events"}),(0,f.jsx)("p",{className:"alt-subtitle",children:"Join us in strengthening our Hindu community."}),(0,f.jsxs)("div",{className:"events-page-content",children:[(0,f.jsx)("p",{className:"timing-title",children:"Upcoming Events"}),(0,f.jsx)("a",{href:"https://us02web.zoom.us/j/86495465186?pwd=VXhhM2xwaG0wTTd6UktjdklDOHhOUT09",children:(0,f.jsx)("div",{className:"highlight-event",children:(0,f.jsxs)("div",{className:"highlight-event-tags",children:[(0,f.jsx)("p",{className:"cool-tag",children:"Daily 6:30 - 7:00 AM Mexico Time"}),(0,f.jsx)("p",{children:"Virtually on Zoom, Contact Us for the Link"}),(0,f.jsx)("p",{children:"Click to join meeting"})]})})}),(0,f.jsx)("p",{className:"timing-title",children:"Past Events"}),(0,f.jsx)("div",{className:"events-grid",children:(0,f.jsx)(q_,{thumbnailID:"hcc_may_thumb",title:"Hindu Cultural Connect 2023",date:"June 3, 2023",location:"Zapopan, MX",pop:"110",link:"/hindu-cultural-connect"})}),(0,f.jsxs)("div",{className:"events-grid",children:[(0,f.jsx)(q_,{thumbnailID:"ak_ramayan",title:"Akhand Ramayan Path",date:"Mar. 25, 2023",location:"Guadalajara, MX",pop:"150",link:"/ak-ramayan"}),(0,f.jsx)(q_,{thumbnailID:"hhc_thumb",title:"Hindu Heritage Camp",date:"Jan. 8, 2023",location:"Guadalajara, MX",pop:"70",link:"/hhc"}),(0,f.jsx)(q_,{thumbnailID:"darshana",title:"Darshana Exhibition",date:"Nov. 11, 2022",location:"Guadalajara, MX",pop:"2000",link:"/darshana"})]})]})]}),(0,f.jsx)(p,{})]})),H_=()=>{const[e,r]=(0,t.useState)(4);function i(e){window.scrollTo(0,0),document.getElementById("gal-load").classList.remove("load-gal"),document.getElementById("gal-load").offsetWidth,document.getElementById("gal-load").classList.add("load-gal"),1===e?(r(1),document.getElementById("gal-nav-spring").classList.remove("visible"),document.getElementById("gal-nav-litesout").classList.remove("visible"),document.getElementById("gal-nav-noto").classList.add("visible")):3===e?(r(3),document.getElementById("gal-nav-noto").classList.remove("visible"),document.getElementById("gal-nav-litesout").classList.remove("visible"),document.getElementById("gal-nav-spring").classList.add("visible")):4===e&&(r(4),document.getElementById("gal-nav-noto").classList.remove("visible"),document.getElementById("gal-nav-spring").classList.remove("visible"),document.getElementById("gal-nav-litesout").classList.add("visible"))}return(0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-gal",id:"gal-load"}),(0,f.jsx)("div",{className:"gal-nav-center",children:(0,f.jsxs)("div",{className:"gal-nav",children:[(0,f.jsx)("div",{onClick:()=>{i(4)},className:"gal-nav-btn visible",id:"gal-nav-litesout"}),(0,f.jsx)("div",{onClick:()=>{i(1)},className:"gal-nav-btn",id:"gal-nav-noto"}),(0,f.jsx)("div",{onClick:()=>{i(3)},className:"gal-nav-btn",id:"gal-nav-spring"})]})}),(0,f.jsxs)("div",{className:"gallery-container",children:[4===e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"gal-row",children:[(0,f.jsx)("img",{src:n(847),className:"gal-item",id:"gal-1-4",alt:""}),(0,f.jsx)("img",{src:n(88),className:"gal-item",id:"gal-2-4",alt:""})]}),(0,f.jsxs)("div",{className:"gal-row",children:[(0,f.jsx)("img",{src:n(642),className:"gal-item",id:"gal-3-4",alt:""}),(0,f.jsx)("img",{src:n(589),className:"gal-item",id:"gal-4-4",alt:""})]}),(0,f.jsxs)("div",{className:"gal-row",children:[(0,f.jsx)("img",{src:n(725),className:"gal-item",id:"gal-5-4",alt:""}),(0,f.jsx)("img",{src:n(977),className:"gal-item",id:"gal-6-4",alt:""})]})]}),1===e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"gal-row",children:[(0,f.jsx)("img",{src:n(847),className:"gal-item",id:"gal-1-4",alt:""}),(0,f.jsx)("img",{src:n(88),className:"gal-item",id:"gal-2-4",alt:""})]}),(0,f.jsxs)("div",{className:"gal-row",children:[(0,f.jsx)("img",{src:n(642),className:"gal-item",id:"gal-3-4",alt:""}),(0,f.jsx)("img",{src:n(589),className:"gal-item",id:"gal-4-4",alt:""})]}),(0,f.jsxs)("div",{className:"gal-row",children:[(0,f.jsx)("img",{src:n(725),className:"gal-item",id:"gal-5-4",alt:""}),(0,f.jsx)("img",{src:n(977),className:"gal-item",id:"gal-6-4",alt:""})]})]}),3===e&&(0,f.jsx)(f.Fragment,{}),(0,f.jsx)(p,{})]})]})},W_=(n.p,()=>((0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"events-page-container",children:[(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("div",{className:"team-members",children:(0,f.jsx)(V_,{picture:(0,f.jsx)("img",{src:n(283)}),name:"Bharat Mahotsav Mandal",role:"Contact Us",major:"Jay Shree Ram",ig:"https://www.instagram.com/bmmlatam/",li:"https://chat.whatsapp.com/JsHM25F4vRtLpRfDCKuSmJ",git:"https://twitter.com/bmmlatam",id:"none",fb:"https://www.facebook.com/bmmlatam"})})]}),(0,f.jsx)(p,{})]}))),G_=()=>{(0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]);const[e,n]=(0,t.useState)(!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"events-page-container",children:[(0,f.jsx)("h1",{className:"events-page-title",id:"team-page-title",children:"Competitions"}),(0,f.jsx)("p",{className:"alt-subtitle",children:"Coming Soon!"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}),(0,f.jsx)(p,{})]})},Q_=()=>((0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"main",children:[(0,f.jsx)("h1",{className:"hhc-page-title",children:"TITLE"}),(0,f.jsx)("p",{className:"hhc-page-title",id:"hi",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla facilisi. Donec euismod, nunc id aliquam ultricies, nunc nisl ultricies nunc, vitae aliquam nunc nisl eu nunc."})]}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)(p,{})]})),$_=()=>((0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"events-page-container",children:[(0,f.jsx)("h1",{className:"hhc-page-title",children:"Darshana"}),(0,f.jsx)("p",{className:"event-desc",children:"HHC Jan 8 2023"})]}),(0,f.jsx)(p,{})]})),Y_=()=>((0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"events-page-container",children:[(0,f.jsx)("h1",{className:"hhc-page-title",children:"Ramayan Paath"}),(0,f.jsx)("p",{className:"event-desc",children:"HHC Jan 8 2023"})]}),(0,f.jsx)(p,{})]})),X_=()=>((0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"events-page-container",children:[(0,f.jsx)("h1",{className:"hhc-page-title",children:"Sunderkand"}),(0,f.jsxs)("p",{className:"event-desc",children:[" ",(0,f.jsx)("b",{children:"Saturday Aug 26, 2023 | 10:00 AM "})," "]}),(0,f.jsx)("p",{className:"event-desc",children:(0,f.jsx)("b",{children:"Av. Cuauht\xe9moc 632, Cd del Sol, 45050 Zapopan, Jal., Mexico "})}),(0,f.jsxs)("p",{className:"event-desc",children:[(0,f.jsx)("b",{children:"Subramanian ji's home: Apartment Number: "})," "]}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("p",{className:"event-desc",children:"Sunderkand Path every Saturday, many devotees of Shri Ram ji and Shri Hanuman ji get together to recite Sunderkand every Saturday at various homes. Everyone is welcome to join, information will be updated here or you may join our WhatsApp Group by clicking the WhatsApp logo on the Contact Us Page."})]}),(0,f.jsx)(p,{})]})),J_=()=>((0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsxs)("div",{className:"main",children:[(0,f.jsx)("h1",{className:"hhc-page-title",children:"TITLE"}),(0,f.jsx)("p",{className:"hhc-page-title",id:"hi",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla facilisi. Donec euismod, nunc id aliquam ultricies, nunc nisl ultricies nunc, vitae aliquam nunc nisl eu nunc."})]}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)(p,{})]})),Z_=()=>{const e=ue(),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),d=async t=>{t.preventDefault();try{const t=await async function(e,t,n){const r=zb(e),i=await lw(r,{returnSecureToken:!0,email:t,password:n}),s=await cw._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(A_,n,i),r=t.user;console.log(r),await N_.collection("user").doc(r.email).set({admin:!1,uid:r.uid,kbreParticipant:!1,password:i,username:a}),await yw(A_.currentUser,{displayName:a}),e("/login")}catch(u){"auth/email-already-in-use"===u.code?(c(!0),h("Email already in use.")):"auth/weak-password"===u.code?h("Password is too weak. Please use a stronger password."):"auth/invalid-email"===u.code?h("Invalid email format. Please enter a valid email address."):h("An error occurred during signup. Please try again.")}};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("div",{className:"signup-page-container fade-in",children:(0,f.jsxs)("div",{className:"roundedRectangle",children:[(0,f.jsxs)("form",{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"userName",children:(0,f.jsx)("b",{children:"Display Name: "})}),(0,f.jsx)("input",{label:"Display Name",value:a,onChange:e=>o(e.target.value),required:!0,placeholder:"Display Name",className:"form-input",type:"text"})]}),(0,f.jsx)("br",{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email-address",children:(0,f.jsx)("b",{children:"Email address: "})}),(0,f.jsx)("input",{type:"email",label:"Email address",value:n,onChange:e=>r(e.target.value),required:!0,placeholder:"Email address"})]}),l&&(0,f.jsx)(O_,{text:"Email already in use!"})&&console.log("in use alert sent"),(0,f.jsx)("br",{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"password",children:(0,f.jsx)("b",{children:"Password: "})}),(0,f.jsx)("input",{type:"password",label:"Create password",value:i,onChange:e=>s(e.target.value),required:!0,placeholder:"Password",pattern:"?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters"}),(0,f.jsxs)("p",{className:"alrHave",children:["Must contain at least one  number, one uppercase ",(0,f.jsx)("br",{})," and lowercase letter,and at least 8 or more characters"]})]}),(0,f.jsx)("br",{}),(0,f.jsx)("button",{type:"button",onClick:async e=>{e.preventDefault(),N_.collection("user").doc(n).get().then((t=>{t.exists?c(!0):(c(!1),d(e))})).catch((e=>{console.log("Error getting document:",e)}))},className:"form-button",children:"Sign up"}),u&&(0,f.jsx)(O_,{text:u}),(0,f.jsx)("br",{})]}),(0,f.jsxs)("p",{className:"alrHave",children:["Already have an account?"," ",(0,f.jsx)(De,{to:"/login",children:(0,f.jsx)("b",{children:"Sign in "})})]}),(0,f.jsx)("p",{className:"alrHave",children:(0,f.jsx)("b",{className:"errr",children:u})})]})}),(0,f.jsx)(p,{})]})},eS=new sw;eS.addScope("https://www.googleapis.com/auth/contacts.readonly");const tS=()=>{A_.signOut()},nS=()=>{(async function(e,t,n){const r=zb(e);qv(e,t,nw);const i=Gw(r,n);return new eI(r,"signInViaPopup",t,i).executeNotNull()})(A_,eS).then((e=>{sw.credentialFromResult(e).accessToken,e.user})).catch((e=>{e.code,e.message,e.customData.email,sw.credentialFromError(e)}))},rS=()=>{const e=ue(),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)(""),[a,o]=(0,t.useState)(null),l=FI();(0,t.useEffect)((()=>{ww(l,(e=>{o(e||null)}))}),[l]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("div",{className:"signup-page-container fade-in",children:(0,f.jsxs)("div",{className:"roundedRectangle",children:[null==a&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{onSubmit:t=>{t.preventDefault(),function(e,t,n){return gw(ft(e),tw.credential(t,n))}(l,n,i).then((t=>{const n=t.user;console.log("User logged in:",n),e("/home")})).catch((e=>{const t=e.code,n=e.message;console.error("Login error:",t,n)}))},children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email-address",children:(0,f.jsx)("b",{children:"Email address: "})}),(0,f.jsx)("input",{id:"email-address",name:"email",type:"email",required:!0,placeholder:"Email address",onChange:e=>r(e.target.value)})]}),(0,f.jsx)("br",{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"password",children:(0,f.jsx)("b",{children:"Password: "})}),(0,f.jsx)("input",{id:"password",name:"password",type:"password",required:!0,placeholder:"Password",onChange:e=>s(e.target.value),minLength:8})]}),(0,f.jsx)("br",{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{type:"submit",className:"button",children:"Login"}),(0,f.jsx)("br",{})]}),(0,f.jsx)("br",{}),(0,f.jsx)("div",{children:(0,f.jsxs)("button",{className:"button button-google",onClick:nS,children:[(0,f.jsx)("i",{className:"fab fa-google"}),"Sign in with google"]})})]}),(0,f.jsxs)("p",{className:"text-sm text-black b text-center",children:["No account yet? "," ",(0,f.jsx)(De,{to:"/signup",children:(0,f.jsx)("b",{children:"Sign up"})})]})]}),a&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:(0,f.jsxs)("p",{className:"text-sm text-black b text-center",children:["You are logged in as ",a.email]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{className:"button button-logout",onClick:tS,children:"Log out"})})]})]})}),(0,f.jsx)(p,{})]})},iS=()=>{ue();const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)("");return(0,t.useEffect)((()=>{ww(A_,(e=>{e?(n(e.displayName),i(e.email),a(e.uid)):console.log("user is logged out")}))}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"profile-container fade-in",children:(0,f.jsxs)("div",{className:"profile-content",children:[(0,f.jsxs)("div",{className:"profile-header",children:[(0,f.jsx)("h1",{className:"profile-title",children:e}),(0,f.jsx)("p",{className:"profile-email",children:r})]}),(0,f.jsx)("div",{className:"profile-details",children:(0,f.jsxs)("p",{className:"profile-uid",children:["User ID: ",s]})})]})}),(0,f.jsx)(p,{})]})},sS=()=>{const e=ue(),[n,r]=(0,t.useState)(window.innerWidth),[i,s]=(0,t.useState)(window.innerHeight),a=()=>{r(window.innerWidth),s(window.innerHeight)};(0,t.useEffect)((()=>(L_().init({once:"true",duration:1e3,delay:200}),window.scrollTo(0,0),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a))),[]),(0,t.useEffect)((()=>{ww(A_,(e=>{if(e){const t=e.uid;console.log("logged in, uid: ",t),console.log("email: ",e.email),console.log("password",e.providerId)}else console.log("user is logged out")}))}),[]);const[o,l]=(0,t.useState)(!1);function c(){!function(e){for(var t=e.offsetTop,n=e.offsetLeft,r=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+r>window.pageXOffset}(document.querySelector(".landing-logo"))?(document.getElementById("background").classList.remove("fade-in"),document.getElementById("background").classList.add("fade-away"),document.getElementById("landing-items").classList.remove("landing-fade-in"),document.getElementById("landing-items").classList.add("landing-fade-out"),l(!0)):(document.getElementById("background").classList.remove("fade-away"),document.getElementById("background").classList.add("fade-in"),document.getElementById("landing-items").classList.remove("landing-fade-out"),document.getElementById("landing-items").classList.add("landing-fade-in"),l(!1))}window.onscroll=function(){c()};const u=(0,t.useRef)(),h=(0,t.useRef)(),d=(0,t.useRef)(),m=(0,t.useRef)(),g=(0,t.useRef)(),[y,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),I=t=>{t.preventDefault();try{N_.collection("blood-drive").add({email:u.current.value,firstName:h.current.value,lastName:d.current.value,number:m.current.value})}catch(n){console.log("post error")}e("/"),setTimeout((()=>{v(!0)}),305)};var E=navigator.language||navigator.userLanguage;return console.log("The language is: "+E),(0,f.jsxs)("html",{children:[(0,f.jsx)("title",{children:"Blood Donation Drive"}),(0,f.jsx)("div",{className:"bg fade-in",id:"background"}),(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-3"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),"en-US"===E&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"dark-bg dark-bg-enter",id:"blurry-bg"}),(0,f.jsx)("div",{className:"popup-container popup-container-enter",id:"cool-popup",children:(0,f.jsxs)("div",{className:"popup nitesout-card red",children:[(0,f.jsxs)("p",{className:"popup-text",children:["Save Lives, Donate Blood!",(0,f.jsx)("br",{}),(0,f.jsx)("b",{children:"9:00 AM, 16 September 2023, Francis Bacon School Primaria"})]}),(0,f.jsxs)("form",{id:"nitesout-waitlist",className:"popup-inputs vert",onSubmit:I,children:[(0,f.jsx)("input",{ref:h,className:"inputForm",type:"string",required:!0,minLength:"2",maxLength:"30",placeholder:"First Name"}),(0,f.jsx)("input",{ref:d,className:"inputForm",type:"string",required:!0,minLength:"2",maxLength:"30",placeholder:"Last Name"}),(0,f.jsx)("input",{ref:u,className:"inputForm",type:"email",required:!0,minLength:"2",maxLength:"30",placeholder:"Email Address"}),(0,f.jsx)("input",{ref:g,className:"inputForm",type:"number",minLength:1,maxLength:4,placeholder:"Country Code (+52)"}),(0,f.jsx)("input",{ref:m,className:"inputForm",type:"tel",pattern:"[0-9]{2}-[0-9]{4}-[0-9]{4}",required:!0,minLength:"2",maxLength:"30",placeholder:"Su numero de telefono (33-3333-3333)"}),(0,f.jsx)("button",{type:"submit",children:" Submit "})]})]})})]}),"en-US"!==E&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"dark-bg dark-bg-enter",id:"blurry-bg"}),(0,f.jsx)("div",{className:"popup-container popup-container-enter",id:"cool-popup",children:(0,f.jsxs)("div",{className:"popup nitesout-card red",children:[(0,f.jsxs)("p",{className:"popup-text",children:["\xa1Salva vidas y dona sangre!",(0,f.jsx)("br",{}),(0,f.jsx)("b",{children:"9:00 AM, 16 Septiembre 2023, Francis Bacon School Primaria"})]}),(0,f.jsxs)("form",{id:"nitesout-waitlist",className:"popup-inputs vert",onSubmit:I,children:[(0,f.jsx)("input",{ref:h,className:"inputForm",type:"string",required:!0,minLength:"2",maxLength:"30",placeholder:"Su nombre primero"}),(0,f.jsx)("input",{ref:d,className:"inputForm",type:"string",required:!0,minLength:"2",maxLength:"30",placeholder:"Su nombre familia"}),(0,f.jsx)("input",{ref:u,className:"inputForm",type:"email",required:!0,minLength:"2",maxLength:"30",placeholder:"Su direcci\xf3n de correo electr\xf3nico"}),(0,f.jsx)("input",{ref:g,className:"inputForm",type:"number",minLength:1,maxLength:4,placeholder:"Su c\xf3digo de pa\xeds (+52)"}),(0,f.jsx)("input",{ref:m,className:"inputForm",type:"tel",required:!0,minLength:"2",maxLength:"30",placeholder:"Su numero de telefono (33-3333-3333)"}),(0,f.jsx)("button",{type:"submit",children:" Entregar "})]})]})})]}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsx)(O_,{id:"cookies",text:"By visiting this website, you agree to our use of cookies."}),(0,f.jsx)(p,{})]})},aS=e=>{let{slides:n}=e;const[r,i]=(0,t.useState)(0),s={width:"100%",height:"100%",borderRadius:"10px",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(n[r].url,")")},a=(0,t.useRef)("HELLOOOOO");return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{style:{height:"100%",position:"relative"},children:[(0,f.jsx)("div",{style:{position:"absolute",top:"50%",transform:"translate(0,-50%)",left:"32px",fontSize:"45px",color:"fff",zIndex:1,cursor:"pointer"},onClick:()=>{const e=0===r?n.length-1:r-1;i(e),a.current=n[e].title},children:" \u2190 "}),(0,f.jsx)("div",{style:{position:"absolute",top:"50%",transform:"translate(0,-50%)",right:"32px",fontSize:"45px",color:"fff",zIndex:1,cursor:"pointer"},onClick:()=>{const e=r===n.length-1?0:r+1;i(e),a.current=n[e].title},children:" \u2192 "}),(0,f.jsx)("div",{style:s})]})})},oS=()=>{(0,t.useEffect)((()=>{window.scrollTo(0,0)}),[]);const[e,r]=(0,t.useState)(!1),i=[{url:n(642),title:"first"},{url:n(88),title:"second"},{url:n(847),title:"third"},{url:n(589),title:"fourth"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-2 fade-in bg-animate",id:"background-2"}),(0,f.jsx)("div",{className:"bg-2 fade-in",id:"background-2"}),(0,f.jsx)(R_,{}),(0,f.jsx)("div",{className:"loading-bar load-fast"}),(0,f.jsx)("div",{className:"events-page-container",children:(0,f.jsx)("h1",{className:"events-page-title",id:"team-page-title",children:"Image Slideshow"})}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),window.innerWidth>900&&(0,f.jsx)("div",{style:{width:"750px",height:"420px",margin:"0 auto"},children:(0,f.jsx)(aS,{slides:i})}),window.innerWidth<900&&(0,f.jsx)("div",{style:{width:"375px",height:"210px",margin:"0 auto"},children:(0,f.jsx)(aS,{slides:i})}),(0,f.jsx)(p,{})]})};i.createRoot(document.getElementById("root")).render((0,f.jsx)(Ne,{children:(0,f.jsxs)(Ie,{children:[(0,f.jsx)(be,{path:"*",element:(0,f.jsx)(j_,{})}),(0,f.jsx)(be,{path:"/about",element:(0,f.jsx)(B_,{})}),(0,f.jsx)(be,{path:"/events",element:(0,f.jsx)(K_,{})}),(0,f.jsx)(be,{path:"/gallery",element:(0,f.jsx)(H_,{})}),(0,f.jsx)(be,{path:"/contact",element:(0,f.jsx)(W_,{})}),(0,f.jsx)(be,{path:"/competitions",element:(0,f.jsx)(G_,{})}),(0,f.jsx)(be,{path:"/hhc",element:(0,f.jsx)(Q_,{})}),(0,f.jsx)(be,{path:"/darshana",element:(0,f.jsx)($_,{})}),(0,f.jsx)(be,{path:"/ak-ramayan",element:(0,f.jsx)(Y_,{})}),(0,f.jsx)(be,{path:"/sundarkand",element:(0,f.jsx)(X_,{})}),(0,f.jsx)(be,{path:"/hindu-cultural-connect",element:(0,f.jsx)(J_,{})}),(0,f.jsx)(be,{path:"/signup",element:(0,f.jsx)(Z_,{})}),(0,f.jsx)(be,{path:"/login",element:(0,f.jsx)(rS,{})}),(0,f.jsx)(be,{path:"/my-profile",element:(0,f.jsx)(iS,{})}),(0,f.jsx)(be,{path:"/blood-drive",element:(0,f.jsx)(sS,{})}),(0,f.jsx)(be,{path:"/report",element:(0,f.jsx)(oS,{})})]})}))})()})();
//# sourceMappingURL=main.c5fdeb36.js.map